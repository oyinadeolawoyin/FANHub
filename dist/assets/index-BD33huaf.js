var lR=Object.defineProperty;var oR=(t,e,n)=>e in t?lR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var iR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pe=(t,e,n)=>oR(t,typeof e!="symbol"?e+"":e,n);var NX=iR((vs,ys)=>{function cR(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const i=Object.getOwnPropertyDescriptor(s,l);i&&Object.defineProperty(t,l,i.get?i:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lx={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function uR(){if(NN)return Ou;NN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,i){var u=null;if(i!==void 0&&(u=""+i),l.key!==void 0&&(u=""+l.key),"key"in l){i={};for(var d in l)d!=="key"&&(i[d]=l[d])}else i=l;return l=i.ref,{$$typeof:t,type:s,key:u,ref:l!==void 0?l:null,props:i}}return Ou.Fragment=e,Ou.jsx=n,Ou.jsxs=n,Ou}var jN;function dR(){return jN||(jN=1,lx.exports=uR()),lx.exports}var r=dR(),ox={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function fR(){if(SN)return gt;SN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function C(q,K,te){this.props=q,this.context=K,this.refs=S,this.updater=te||N}C.prototype.isReactComponent={},C.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=C.prototype;function k(q,K,te){this.props=q,this.context=K,this.refs=S,this.updater=te||N}var _=k.prototype=new T;_.constructor=k,j(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function L(){}var O={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function M(q,K,te){var se=te.ref;return{$$typeof:t,type:q,key:K,ref:se!==void 0?se:null,props:te}}function B(q,K){return M(q.type,K,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(te){return K[te]})}var I=/\/+/g;function z(q,K){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):K.toString(36)}function G(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function $(q,K,te,se,ue){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var ae=!1;if(q===null)ae=!0;else switch(xe){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(q.$$typeof){case t:case e:ae=!0;break;case g:return ae=q._init,$(ae(q._payload),K,te,se,ue)}}if(ae)return ue=ue(q),ae=se===""?"."+z(q,0):se,E(ue)?(te="",ae!=null&&(te=ae.replace(I,"$&/")+"/"),$(ue,K,te,"",function(ne){return ne})):ue!=null&&(P(ue)&&(ue=B(ue,te+(ue.key==null||q&&q.key===ue.key?"":(""+ue.key).replace(I,"$&/")+"/")+ae)),K.push(ue)),1;ae=0;var ge=se===""?".":se+":";if(E(q))for(var X=0;X<q.length;X++)se=q[X],xe=ge+z(se,X),ae+=$(se,K,te,xe,ue);else if(X=y(q),typeof X=="function")for(q=X.call(q),X=0;!(se=q.next()).done;)se=se.value,xe=ge+z(se,X++),ae+=$(se,K,te,xe,ue);else if(xe==="object"){if(typeof q.then=="function")return $(G(q),K,te,se,ue);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ae}function W(q,K,te){if(q==null)return q;var se=[],ue=0;return $(q,se,"","",function(xe){return K.call(te,xe,ue++)}),se}function Y(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(te){(q._status===0||q._status===-1)&&(q._status=1,q._result=te)},function(te){(q._status===0||q._status===-1)&&(q._status=2,q._result=te)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},V={map:W,forEach:function(q,K,te){W(q,function(){K.apply(this,arguments)},te)},count:function(q){var K=0;return W(q,function(){K++}),K},toArray:function(q){return W(q,function(K){return K})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return gt.Activity=x,gt.Children=V,gt.Component=C,gt.Fragment=n,gt.Profiler=l,gt.PureComponent=k,gt.StrictMode=s,gt.Suspense=f,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,gt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return O.H.useMemoCache(q)}},gt.cache=function(q){return function(){return q.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(q,K,te){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var se=j({},q.props),ue=q.key;if(K!=null)for(xe in K.key!==void 0&&(ue=""+K.key),K)!A.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(se[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)se.children=te;else if(1<xe){for(var ae=Array(xe),ge=0;ge<xe;ge++)ae[ge]=arguments[ge+2];se.children=ae}return M(q.type,ue,se)},gt.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},gt.createElement=function(q,K,te){var se,ue={},xe=null;if(K!=null)for(se in K.key!==void 0&&(xe=""+K.key),K)A.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=K[se]);var ae=arguments.length-2;if(ae===1)ue.children=te;else if(1<ae){for(var ge=Array(ae),X=0;X<ae;X++)ge[X]=arguments[X+2];ue.children=ge}if(q&&q.defaultProps)for(se in ae=q.defaultProps,ae)ue[se]===void 0&&(ue[se]=ae[se]);return M(q,xe,ue)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(q){return{$$typeof:d,render:q}},gt.isValidElement=P,gt.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:Y}},gt.memo=function(q,K){return{$$typeof:m,type:q,compare:K===void 0?null:K}},gt.startTransition=function(q){var K=O.T,te={};O.T=te;try{var se=q(),ue=O.S;ue!==null&&ue(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(L,Z)}catch(xe){Z(xe)}finally{K!==null&&te.types!==null&&(K.types=te.types),O.T=K}},gt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},gt.use=function(q){return O.H.use(q)},gt.useActionState=function(q,K,te){return O.H.useActionState(q,K,te)},gt.useCallback=function(q,K){return O.H.useCallback(q,K)},gt.useContext=function(q){return O.H.useContext(q)},gt.useDebugValue=function(){},gt.useDeferredValue=function(q,K){return O.H.useDeferredValue(q,K)},gt.useEffect=function(q,K){return O.H.useEffect(q,K)},gt.useEffectEvent=function(q){return O.H.useEffectEvent(q)},gt.useId=function(){return O.H.useId()},gt.useImperativeHandle=function(q,K,te){return O.H.useImperativeHandle(q,K,te)},gt.useInsertionEffect=function(q,K){return O.H.useInsertionEffect(q,K)},gt.useLayoutEffect=function(q,K){return O.H.useLayoutEffect(q,K)},gt.useMemo=function(q,K){return O.H.useMemo(q,K)},gt.useOptimistic=function(q,K){return O.H.useOptimistic(q,K)},gt.useReducer=function(q,K,te){return O.H.useReducer(q,K,te)},gt.useRef=function(q){return O.H.useRef(q)},gt.useState=function(q){return O.H.useState(q)},gt.useSyncExternalStore=function(q,K,te){return O.H.useSyncExternalStore(q,K,te)},gt.useTransition=function(){return O.H.useTransition()},gt.version="19.2.0",gt}var CN;function gm(){return CN||(CN=1,ox.exports=fR()),ox.exports}var p=gm();const zr=Ed(p),sd=cR({__proto__:null,default:zr},[p]);var ix={exports:{}},Mu={},cx={exports:{}},ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function hR(){return EN||(EN=1,(function(t){function e($,W){var Y=$.length;$.push(W);e:for(;0<Y;){var Z=Y-1>>>1,V=$[Z];if(0<l(V,W))$[Z]=W,$[Y]=V,Y=Z;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],Y=$.pop();if(Y!==W){$[0]=Y;e:for(var Z=0,V=$.length,q=V>>>1;Z<q;){var K=2*(Z+1)-1,te=$[K],se=K+1,ue=$[se];if(0>l(te,Y))se<V&&0>l(ue,te)?($[Z]=ue,$[se]=Y,Z=se):($[Z]=te,$[K]=Y,Z=K);else if(se<V&&0>l(ue,Y))$[Z]=ue,$[se]=Y,Z=se;else break e}}return W}function l($,W){var Y=$.sortIndex-W.sortIndex;return Y!==0?Y:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,x=null,b=3,y=!1,N=!1,j=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function _($){for(var W=n(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=$)s(m),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(m)}}function E($){if(j=!1,_($),!N)if(n(f)!==null)N=!0,L||(L=!0,U());else{var W=n(m);W!==null&&G(E,W.startTime-$)}}var L=!1,O=-1,A=5,M=-1;function B(){return S?!0:!(t.unstable_now()-M<A)}function P(){if(S=!1,L){var $=t.unstable_now();M=$;var W=!0;try{e:{N=!1,j&&(j=!1,T(O),O=-1),y=!0;var Y=b;try{t:{for(_($),x=n(f);x!==null&&!(x.expirationTime>$&&B());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,b=x.priorityLevel;var V=Z(x.expirationTime<=$);if($=t.unstable_now(),typeof V=="function"){x.callback=V,_($),W=!0;break t}x===n(f)&&s(f),_($)}else s(f);x=n(f)}if(x!==null)W=!0;else{var q=n(m);q!==null&&G(E,q.startTime-$),W=!1}}break e}finally{x=null,b=Y,y=!1}W=void 0}}finally{W?U():L=!1}}}var U;if(typeof k=="function")U=function(){k(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=P,U=function(){z.postMessage(null)}}else U=function(){C(P,0)};function G($,W){O=C(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var Y=b;b=W;try{return $()}finally{b=Y}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=b;b=$;try{return W()}finally{b=Y}},t.unstable_scheduleCallback=function($,W,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,$={id:g++,callback:W,priorityLevel:$,startTime:Y,expirationTime:V,sortIndex:-1},Y>Z?($.sortIndex=Y,e(m,$),n(f)===null&&$===n(m)&&(j?(T(O),O=-1):j=!0,G(E,Y-Z))):($.sortIndex=V,e(f,$),N||y||(N=!0,L||(L=!0,U()))),$},t.unstable_shouldYield=B,t.unstable_wrapCallback=function($){var W=b;return function(){var Y=b;b=W;try{return $.apply(this,arguments)}finally{b=Y}}}})(ux)),ux}var kN;function mR(){return kN||(kN=1,cx.exports=hR()),cx.exports}var dx={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function pR(){if(TN)return Ar;TN=1;var t=gm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function i(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ar.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return i(f,m,null,g)},Ar.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},Ar.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},Ar.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ar.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:y}):g==="script"&&s.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ar.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},Ar.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ar.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},Ar.requestFormReset=function(f){s.d.r(f)},Ar.unstable_batchedUpdates=function(f,m){return f(m)},Ar.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},Ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ar.version="19.2.0",Ar}var AN;function IS(){if(AN)return dx.exports;AN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dx.exports=pR(),dx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function gR(){if(RN)return Mu;RN=1;var t=mR(),e=gm(),n=IS();function s(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function u(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(i(a)!==a)throw Error(s(188))}function m(a){var o=a.alternate;if(!o){if(o=i(a),o===null)throw Error(s(188));return o!==a?null:a}for(var c=a,h=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return f(v),a;if(w===h)return f(v),o;w=w.sibling}throw Error(s(188))}if(c.return!==h.return)c=v,h=w;else{for(var D=!1,F=v.child;F;){if(F===c){D=!0,c=v,h=w;break}if(F===h){D=!0,h=v,c=w;break}F=F.sibling}if(!D){for(F=w.child;F;){if(F===c){D=!0,c=w,h=v;break}if(F===h){D=!0,h=w,c=v;break}F=F.sibling}if(!D)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?a:o}function g(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=g(a),o!==null)return o;a=a.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var I=Symbol.for("react.client.reference");function z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===I?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case L:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case k:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:z(a.type)||"Memo";case A:o=a._payload,a=a._init;try{return z(a(o))}catch{}}return null}var G=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},Z=[],V=-1;function q(a){return{current:a}}function K(a){0>V||(a.current=Z[V],Z[V]=null,V--)}function te(a,o){V++,Z[V]=a.current,a.current=o}var se=q(null),ue=q(null),xe=q(null),ae=q(null);function ge(a,o){switch(te(xe,o),te(ue,a),te(se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Vw(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Vw(o),a=Gw(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(se),te(se,a)}function X(){K(se),K(ue),K(xe)}function ne(a){a.memoizedState!==null&&te(ae,a);var o=se.current,c=Gw(o,a.type);o!==c&&(te(ue,a),te(se,c))}function ce(a){ue.current===a&&(K(se),K(ue)),ae.current===a&&(K(ae),ku._currentValue=Y)}var oe,we;function ke(a){if(oe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",we=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+we}var je=!1;function Ae(a,o){if(!a||je)return"";je=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ye){var pe=ye}Reflect.construct(a,[],Ee)}else{try{Ee.call()}catch(ye){pe=ye}a.call(Ee.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(Ee=a())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),D=w[0],F=w[1];if(D&&F){var Q=D.split(`
`),he=F.split(`
`);for(v=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(h===Q.length||v===he.length)for(h=Q.length-1,v=he.length-1;1<=h&&0<=v&&Q[h]!==he[v];)v--;for(;1<=h&&0<=v;h--,v--)if(Q[h]!==he[v]){if(h!==1||v!==1)do if(h--,v--,0>v||Q[h]!==he[v]){var Ne=`
`+Q[h].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=h&&0<=v);break}}}finally{je=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ke(c):""}function de(a,o){switch(a.tag){case 26:case 27:case 5:return ke(a.type);case 16:return ke("Lazy");case 13:return a.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ae(a.type,!1);case 11:return Ae(a.type.render,!1);case 1:return Ae(a.type,!0);case 31:return ke("Activity");default:return""}}function Re(a){try{var o="",c=null;do o+=de(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var De=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,ut=t.unstable_cancelCallback,yt=t.unstable_shouldYield,Ct=t.unstable_requestPaint,at=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,Vt=t.unstable_NormalPriority,ur=t.unstable_LowPriority,zt=t.unstable_IdlePriority,gr=t.log,Tn=t.unstable_setDisableYieldValue,Vn=null,pn=null;function me(a){if(typeof gr=="function"&&Tn(a),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Vn,a)}catch{}}var Ue=Math.clz32?Math.clz32:Yt,Et=Math.log,Gt=Math.LN2;function Yt(a){return a>>>=0,a===0?32:31-(Et(a)/Gt|0)|0}var on=256,en=262144,qt=4194304;function bn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ut(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,w=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var F=h&134217727;return F!==0?(h=F&~w,h!==0?v=bn(h):(D&=F,D!==0?v=bn(D):c||(c=F&~a,c!==0&&(v=bn(c))))):(F=h&~w,F!==0?v=bn(F):D!==0?v=bn(D):c||(c=h&~a,c!==0&&(v=bn(c)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:v}function cn(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function dr(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var a=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),a}function Hr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function J(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function le(a,o,c,h,v,w){var D=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var F=a.entanglements,Q=a.expirationTimes,he=a.hiddenUpdates;for(c=D&~c;0<c;){var Ne=31-Ue(c),Ee=1<<Ne;F[Ne]=0,Q[Ne]=-1;var pe=he[Ne];if(pe!==null)for(he[Ne]=null,Ne=0;Ne<pe.length;Ne++){var ye=pe[Ne];ye!==null&&(ye.lane&=-536870913)}c&=~Ee}h!==0&&be(a,h,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(D&~o))}function be(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Ue(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function Te(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-Ue(c),v=1<<h;v&o|a[h]&o&&(a[h]|=o),c&=~v}}function Me(a,o){var c=o&-o;return c=(c&42)!==0?1:Be(c),(c&(a.suspendedLanes|o))!==0?0:c}function Be(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qe(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _e(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:pN(a.type))}function We(a,o){var c=W.p;try{return W.p=a,o()}finally{W.p=c}}var Ke=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Ke,$e="__reactProps$"+Ke,st="__reactContainer$"+Ke,dt="__reactEvents$"+Ke,Cn="__reactListeners$"+Ke,zn="__reactHandles$"+Ke,tn="__reactResources$"+Ke,Lt="__reactMarker$"+Ke;function _r(a){delete a[Ie],delete a[$e],delete a[dt],delete a[Cn],delete a[zn]}function gn(a){var o=a[Ie];if(o)return o;for(var c=a.parentNode;c;){if(o=c[st]||c[Ie]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Jw(a);a!==null;){if(c=a[Ie])return c;a=Jw(a)}return o}a=c,c=a.parentNode}return null}function Jn(a){if(a=a[Ie]||a[st]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Gn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(s(33))}function Vr(a){var o=a[tn];return o||(o=a[tn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function un(a){a[Lt]=!0}var Gr=new Set,Yr={};function xr(a,o){ft(a,o),ft(a+"Capture",o)}function ft(a,o){for(Yr[a]=o,a=0;a<o.length;a++)Gr.add(o[a])}var rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},Wr={};function wn(a){return De.call(Wr,a)?!0:De.call(Dr,a)?!1:rn.test(a)?Wr[a]=!0:(Dr[a]=!0,!1)}function ss(a,o,c){if(wn(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Gs(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Pr(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Al(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Va(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(D){c=""+D,w.call(this,D)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(D){c=""+D},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Rl(a){if(!a._valueTracker){var o=Al(a)?"checked":"value";a._valueTracker=Va(a,o,""+a[o])}}function Ao(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=Al(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function Ol(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vc=/[\n"\\]/g;function Er(a){return a.replace(Vc,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ro(a,o,c,h,v,w,D,F){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),o!=null?D==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+er(o)):a.value!==""+er(o)&&(a.value=""+er(o)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),o!=null?Oo(a,D,er(o)):c!=null?Oo(a,D,er(c)):h!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+er(F):a.removeAttribute("name")}function Ml(a,o,c,h,v,w,D,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Rl(a);return}c=c!=null?""+er(c):"",o=o!=null?""+er(o):c,F||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=F?a.checked:!!h,a.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D),Rl(a)}function Oo(a,o,c){o==="number"&&Ol(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ga(a,o,c,h){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&h&&(a[c].defaultSelected=!0)}else{for(c=""+er(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function xa(a,o,c){if(o!=null&&(o=""+er(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+er(c):""}function Kr(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(s(92));if(G(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=er(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Rl(a)}function kr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ni(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||Ys.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function as(a,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&Ni(a,v,h)}else for(var w in o)o.hasOwnProperty(w)&&Ni(a,w,o[w])}function Mo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(a){return Yc.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Xr(){}var tr=null;function _l(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ws=null,ls=null;function Dl(a){var o=Jn(a);if(o&&(a=o.stateNode)){var c=a[$e]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ro(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Er(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var v=h[$e]||null;if(!v)throw Error(s(90));Ro(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&Ao(h)}break e;case"textarea":xa(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ga(a,!!c.multiple,o,!1)}}}var ba=!1;function ji(a,o,c){if(ba)return a(o,c);ba=!0;try{var h=a(o);return h}finally{if(ba=!1,(Ws!==null||ls!==null)&&(Of(),Ws&&(o=Ws,a=ls,ls=Ws=null,Dl(o),a)))for(o=0;o<a.length;o++)Dl(a[o])}}function va(a,o){var c=a.stateNode;if(c===null)return null;var h=c[$e]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if($r)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Pl=!1}var os=null,Ga=null,$l=null;function Si(){if($l)return $l;var a,o=Ga,c=o.length,h,v="value"in os?os.value:os.textContent,w=v.length;for(a=0;a<c&&o[a]===v[a];a++);var D=c-a;for(h=1;h<=D&&o[c-h]===v[w-h];h++);return $l=v.slice(a,1<h?1-h:void 0)}function R(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function H(){return!0}function ee(){return!1}function ve(a){function o(c,h,v,w,D){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(c=a[F],this[F]=c?c(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?H:ee,this.isPropagationStopped=ee,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=H)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=H)},persist:function(){},isPersistent:H}),o}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xe=ve(ot),kt=x({},ot,{view:0,detail:0}),_t=ve(kt),En,It,Ln,nr=x({},kt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ln&&(Ln&&a.type==="mousemove"?(En=a.screenX-Ln.screenX,It=a.screenY-Ln.screenY):It=En=0,Ln=a),En)},movementY:function(a){return"movementY"in a?a.movementY:It}}),_n=ve(nr),fr=x({},nr,{dataTransfer:0}),rr=ve(fr),ya=x({},kt,{relatedTarget:0}),is=ve(ya),Ya=x({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=ve(Ya),Ci=x({},ot,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ei=ve(Ci),fT=x({},ot,{data:0}),K0=ve(fT),hT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gT(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pT[a])?!!o[a]:!1}function dp(){return gT}var xT=x({},kt,{key:function(a){if(a.key){var o=hT[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=R(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?mT[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(a){return a.type==="keypress"?R(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?R(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bT=ve(xT),vT=x({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=ve(vT),yT=x({},kt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),wT=ve(yT),NT=x({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=ve(NT),ST=x({},nr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=ve(ST),ET=x({},ot,{newState:0,oldState:0}),kT=ve(ET),TT=[9,13,27,32],fp=$r&&"CompositionEvent"in window,Wc=null;$r&&"documentMode"in document&&(Wc=document.documentMode);var AT=$r&&"TextEvent"in window&&!Wc,Z0=$r&&(!fp||Wc&&8<Wc&&11>=Wc),Q0=" ",J0=!1;function ey(a,o){switch(a){case"keyup":return TT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ki=!1;function RT(a,o){switch(a){case"compositionend":return ty(o);case"keypress":return o.which!==32?null:(J0=!0,Q0);case"textInput":return a=o.data,a===Q0&&J0?null:a;default:return null}}function OT(a,o){if(ki)return a==="compositionend"||!fp&&ey(a,o)?(a=Si(),$l=Ga=os=null,ki=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Z0&&o.locale!=="ko"?null:o.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!MT[a.type]:o==="textarea"}function ry(a,o,c,h){Ws?ls?ls.push(h):ls=[h]:Ws=h,o=If(o,"onChange"),0<o.length&&(c=new Xe("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var Kc=null,Xc=null;function LT(a){zw(a,0)}function Kd(a){var o=Gn(a);if(Ao(o))return a}function sy(a,o){if(a==="change")return o}var ay=!1;if($r){var hp;if($r){var mp="oninput"in document;if(!mp){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),mp=typeof ly.oninput=="function"}hp=mp}else hp=!1;ay=hp&&(!document.documentMode||9<document.documentMode)}function oy(){Kc&&(Kc.detachEvent("onpropertychange",iy),Xc=Kc=null)}function iy(a){if(a.propertyName==="value"&&Kd(Xc)){var o=[];ry(o,Xc,a,_l(a)),ji(LT,o)}}function _T(a,o,c){a==="focusin"?(oy(),Kc=o,Xc=c,Kc.attachEvent("onpropertychange",iy)):a==="focusout"&&oy()}function DT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Kd(Xc)}function PT(a,o){if(a==="click")return Kd(o)}function $T(a,o){if(a==="input"||a==="change")return Kd(o)}function IT(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var cs=typeof Object.is=="function"?Object.is:IT;function Zc(a,o){if(cs(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!De.call(o,v)||!cs(a[v],o[v]))return!1}return!0}function cy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uy(a,o){var c=cy(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cy(c)}}function dy(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?dy(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function fy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ol(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Ol(a.document)}return o}function pp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var zT=$r&&"documentMode"in document&&11>=document.documentMode,Ti=null,gp=null,Qc=null,xp=!1;function hy(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xp||Ti==null||Ti!==Ol(h)||(h=Ti,"selectionStart"in h&&pp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qc&&Zc(Qc,h)||(Qc=h,h=If(gp,"onSelect"),0<h.length&&(o=new Xe("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Ti)))}function Lo(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Ai={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},bp={},my={};$r&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function _o(a){if(bp[a])return bp[a];if(!Ai[a])return a;var o=Ai[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in my)return bp[a]=o[c];return a}var py=_o("animationend"),gy=_o("animationiteration"),xy=_o("animationstart"),UT=_o("transitionrun"),BT=_o("transitionstart"),qT=_o("transitioncancel"),by=_o("transitionend"),vy=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function Ks(a,o){vy.set(a,o),xr(o,[a])}var Xd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Es=[],Ri=0,yp=0;function Zd(){for(var a=Ri,o=yp=Ri=0;o<a;){var c=Es[o];Es[o++]=null;var h=Es[o];Es[o++]=null;var v=Es[o];Es[o++]=null;var w=Es[o];if(Es[o++]=null,h!==null&&v!==null){var D=h.pending;D===null?v.next=v:(v.next=D.next,D.next=v),h.pending=v}w!==0&&yy(c,v,w)}}function Qd(a,o,c,h){Es[Ri++]=a,Es[Ri++]=o,Es[Ri++]=c,Es[Ri++]=h,yp|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function wp(a,o,c,h){return Qd(a,o,c,h),Jd(a)}function Do(a,o){return Qd(a,null,null,o),Jd(a)}function yy(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var v=!1,w=a.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-Ue(c),a=w.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=c|536870912),w):null}function Jd(a){if(50<yu)throw yu=0,Rg=null,Error(s(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Oi={};function FT(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(a,o,c,h){return new FT(a,o,c,h)}function Np(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Wa(a,o){var c=a.alternate;return c===null?(c=us(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function wy(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ef(a,o,c,h,v,w){var D=0;if(h=a,typeof a=="function")Np(a)&&(D=1);else if(typeof a=="string")D=WA(a,c,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=us(31,c,o,v),a.elementType=M,a.lanes=w,a;case j:return Po(c.children,v,w,o);case S:D=8,v|=24;break;case C:return a=us(12,c,o,v|2),a.elementType=C,a.lanes=w,a;case E:return a=us(13,c,o,v),a.elementType=E,a.lanes=w,a;case L:return a=us(19,c,o,v),a.elementType=L,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:D=10;break e;case T:D=9;break e;case _:D=11;break e;case O:D=14;break e;case A:D=16,h=null;break e}D=29,c=Error(s(130,a===null?"null":typeof a,"")),h=null}return o=us(D,c,o,v),o.elementType=a,o.type=h,o.lanes=w,o}function Po(a,o,c,h){return a=us(7,a,h,o),a.lanes=c,a}function jp(a,o,c){return a=us(6,a,null,o),a.lanes=c,a}function Ny(a){var o=us(18,null,null,0);return o.stateNode=a,o}function Sp(a,o,c){return o=us(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var jy=new WeakMap;function ks(a,o){if(typeof a=="object"&&a!==null){var c=jy.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Re(o)},jy.set(a,o),o)}return{value:a,source:o,stack:Re(o)}}var Mi=[],Li=0,tf=null,Jc=0,Ts=[],As=0,Il=null,wa=1,Na="";function Ka(a,o){Mi[Li++]=Jc,Mi[Li++]=tf,tf=a,Jc=o}function Sy(a,o,c){Ts[As++]=wa,Ts[As++]=Na,Ts[As++]=Il,Il=a;var h=wa;a=Na;var v=32-Ue(h)-1;h&=~(1<<v),c+=1;var w=32-Ue(o)+v;if(30<w){var D=v-v%5;w=(h&(1<<D)-1).toString(32),h>>=D,v-=D,wa=1<<32-Ue(o)+v|c<<v|h,Na=w+a}else wa=1<<w|c<<v|h,Na=a}function Cp(a){a.return!==null&&(Ka(a,1),Sy(a,1,0))}function Ep(a){for(;a===tf;)tf=Mi[--Li],Mi[Li]=null,Jc=Mi[--Li],Mi[Li]=null;for(;a===Il;)Il=Ts[--As],Ts[As]=null,Na=Ts[--As],Ts[As]=null,wa=Ts[--As],Ts[As]=null}function Cy(a,o){Ts[As++]=wa,Ts[As++]=Na,Ts[As++]=Il,wa=o.id,Na=o.overflow,Il=a}var br=null,Nn=null,Dt=!1,zl=null,Rs=!1,kp=Error(s(519));function Ul(a){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(ks(o,a)),kp}function Ey(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Ie]=a,o[$e]=h,c){case"dialog":At("cancel",o),At("close",o);break;case"iframe":case"object":case"embed":At("load",o);break;case"video":case"audio":for(c=0;c<Nu.length;c++)At(Nu[c],o);break;case"source":At("error",o);break;case"img":case"image":case"link":At("error",o),At("load",o);break;case"details":At("toggle",o);break;case"input":At("invalid",o),Ml(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":At("invalid",o);break;case"textarea":At("invalid",o),Kr(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Fw(o.textContent,c)?(h.popover!=null&&(At("beforetoggle",o),At("toggle",o)),h.onScroll!=null&&At("scroll",o),h.onScrollEnd!=null&&At("scrollend",o),h.onClick!=null&&(o.onclick=Xr),o=!0):o=!1,o||Ul(a,!0)}function ky(a){for(br=a.return;br;)switch(br.tag){case 5:case 31:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:br=br.return}}function _i(a){if(a!==br)return!1;if(!Dt)return ky(a),Dt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Vg(a.type,a.memoizedProps)),c=!c),c&&Nn&&Ul(a),ky(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Nn=Qw(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Nn=Qw(a)}else o===27?(o=Nn,eo(a.type)?(a=Xg,Xg=null,Nn=a):Nn=o):Nn=br?Ms(a.stateNode.nextSibling):null;return!0}function $o(){Nn=br=null,Dt=!1}function Tp(){var a=zl;return a!==null&&(es===null?es=a:es.push.apply(es,a),zl=null),a}function eu(a){zl===null?zl=[a]:zl.push(a)}var Ap=q(null),Io=null,Xa=null;function Bl(a,o,c){te(Ap,o._currentValue),o._currentValue=c}function Za(a){a._currentValue=Ap.current,K(Ap)}function Rp(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function Op(a,o,c,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var D=v.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=v;for(var Q=0;Q<o.length;Q++)if(F.context===o[Q]){w.lanes|=c,F=w.alternate,F!==null&&(F.lanes|=c),Rp(w.return,c,a),h||(D=null);break e}w=F.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(s(341));D.lanes|=c,w=D.alternate,w!==null&&(w.lanes|=c),Rp(D,c,a),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===a){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Di(a,o,c,h){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var F=v.type;cs(v.pendingProps.value,D.value)||(a!==null?a.push(F):a=[F])}}else if(v===ae.current){if(D=v.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ku):a=[ku])}v=v.return}a!==null&&Op(o,a,c,h),o.flags|=262144}function nf(a){for(a=a.firstContext;a!==null;){if(!cs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zo(a){Io=a,Xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function vr(a){return Ty(Io,a)}function rf(a,o){return Io===null&&zo(a),Ty(a,o)}function Ty(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Xa===null){if(a===null)throw Error(s(308));Xa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Xa=Xa.next=o;return c}var HT=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},VT=t.unstable_scheduleCallback,GT=t.unstable_NormalPriority,Yn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new HT,data:new Map,refCount:0}}function tu(a){a.refCount--,a.refCount===0&&VT(GT,function(){a.controller.abort()})}var nu=null,Lp=0,Pi=0,$i=null;function YT(a,o){if(nu===null){var c=nu=[];Lp=0,Pi=Pg(),$i={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Lp++,o.then(Ay,Ay),o}function Ay(){if(--Lp===0&&nu!==null){$i!==null&&($i.status="fulfilled");var a=nu;nu=null,Pi=0,$i=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function WT(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var Ry=$.S;$.S=function(a,o){hw=at(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&YT(a,o),Ry!==null&&Ry(a,o)};var Uo=q(null);function _p(){var a=Uo.current;return a!==null?a:xn.pooledCache}function sf(a,o){o===null?te(Uo,Uo.current):te(Uo,o.pool)}function Oy(){var a=_p();return a===null?null:{parent:Yn._currentValue,pool:a}}var Ii=Error(s(460)),Dp=Error(s(474)),af=Error(s(542)),lf={then:function(){}};function My(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ly(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Xr,Xr),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Dy(a),a;default:if(typeof o.status=="string")o.then(Xr,Xr);else{if(a=xn,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Dy(a),a}throw qo=o,Ii}}function Bo(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(qo=c,Ii):c}}var qo=null;function _y(){if(qo===null)throw Error(s(459));var a=qo;return qo=null,a}function Dy(a){if(a===Ii||a===af)throw Error(s(483))}var zi=null,ru=0;function of(a){var o=ru;return ru+=1,zi===null&&(zi=[]),Ly(zi,a,o)}function su(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function cf(a,o){throw o.$$typeof===b?Error(s(525)):(a=Object.prototype.toString.call(o),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Py(a){function o(ie,re){if(a){var fe=ie.deletions;fe===null?(ie.deletions=[re],ie.flags|=16):fe.push(re)}}function c(ie,re){if(!a)return null;for(;re!==null;)o(ie,re),re=re.sibling;return null}function h(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function v(ie,re){return ie=Wa(ie,re),ie.index=0,ie.sibling=null,ie}function w(ie,re,fe){return ie.index=fe,a?(fe=ie.alternate,fe!==null?(fe=fe.index,fe<re?(ie.flags|=67108866,re):fe):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function D(ie){return a&&ie.alternate===null&&(ie.flags|=67108866),ie}function F(ie,re,fe,Ce){return re===null||re.tag!==6?(re=jp(fe,ie.mode,Ce),re.return=ie,re):(re=v(re,fe),re.return=ie,re)}function Q(ie,re,fe,Ce){var tt=fe.type;return tt===j?Ne(ie,re,fe.props.children,Ce,fe.key):re!==null&&(re.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===A&&Bo(tt)===re.type)?(re=v(re,fe.props),su(re,fe),re.return=ie,re):(re=ef(fe.type,fe.key,fe.props,null,ie.mode,Ce),su(re,fe),re.return=ie,re)}function he(ie,re,fe,Ce){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=Sp(fe,ie.mode,Ce),re.return=ie,re):(re=v(re,fe.children||[]),re.return=ie,re)}function Ne(ie,re,fe,Ce,tt){return re===null||re.tag!==7?(re=Po(fe,ie.mode,Ce,tt),re.return=ie,re):(re=v(re,fe),re.return=ie,re)}function Ee(ie,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=jp(""+re,ie.mode,fe),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return fe=ef(re.type,re.key,re.props,null,ie.mode,fe),su(fe,re),fe.return=ie,fe;case N:return re=Sp(re,ie.mode,fe),re.return=ie,re;case A:return re=Bo(re),Ee(ie,re,fe)}if(G(re)||U(re))return re=Po(re,ie.mode,fe,null),re.return=ie,re;if(typeof re.then=="function")return Ee(ie,of(re),fe);if(re.$$typeof===k)return Ee(ie,rf(ie,re),fe);cf(ie,re)}return null}function pe(ie,re,fe,Ce){var tt=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return tt!==null?null:F(ie,re,""+fe,Ce);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return fe.key===tt?Q(ie,re,fe,Ce):null;case N:return fe.key===tt?he(ie,re,fe,Ce):null;case A:return fe=Bo(fe),pe(ie,re,fe,Ce)}if(G(fe)||U(fe))return tt!==null?null:Ne(ie,re,fe,Ce,null);if(typeof fe.then=="function")return pe(ie,re,of(fe),Ce);if(fe.$$typeof===k)return pe(ie,re,rf(ie,fe),Ce);cf(ie,fe)}return null}function ye(ie,re,fe,Ce,tt){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(fe)||null,F(re,ie,""+Ce,tt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:return ie=ie.get(Ce.key===null?fe:Ce.key)||null,Q(re,ie,Ce,tt);case N:return ie=ie.get(Ce.key===null?fe:Ce.key)||null,he(re,ie,Ce,tt);case A:return Ce=Bo(Ce),ye(ie,re,fe,Ce,tt)}if(G(Ce)||U(Ce))return ie=ie.get(fe)||null,Ne(re,ie,Ce,tt,null);if(typeof Ce.then=="function")return ye(ie,re,fe,of(Ce),tt);if(Ce.$$typeof===k)return ye(ie,re,fe,rf(re,Ce),tt);cf(re,Ce)}return null}function Fe(ie,re,fe,Ce){for(var tt=null,Ft=null,Ze=re,wt=re=0,Mt=null;Ze!==null&&wt<fe.length;wt++){Ze.index>wt?(Mt=Ze,Ze=null):Mt=Ze.sibling;var Ht=pe(ie,Ze,fe[wt],Ce);if(Ht===null){Ze===null&&(Ze=Mt);break}a&&Ze&&Ht.alternate===null&&o(ie,Ze),re=w(Ht,re,wt),Ft===null?tt=Ht:Ft.sibling=Ht,Ft=Ht,Ze=Mt}if(wt===fe.length)return c(ie,Ze),Dt&&Ka(ie,wt),tt;if(Ze===null){for(;wt<fe.length;wt++)Ze=Ee(ie,fe[wt],Ce),Ze!==null&&(re=w(Ze,re,wt),Ft===null?tt=Ze:Ft.sibling=Ze,Ft=Ze);return Dt&&Ka(ie,wt),tt}for(Ze=h(Ze);wt<fe.length;wt++)Mt=ye(Ze,ie,wt,fe[wt],Ce),Mt!==null&&(a&&Mt.alternate!==null&&Ze.delete(Mt.key===null?wt:Mt.key),re=w(Mt,re,wt),Ft===null?tt=Mt:Ft.sibling=Mt,Ft=Mt);return a&&Ze.forEach(function(ao){return o(ie,ao)}),Dt&&Ka(ie,wt),tt}function it(ie,re,fe,Ce){if(fe==null)throw Error(s(151));for(var tt=null,Ft=null,Ze=re,wt=re=0,Mt=null,Ht=fe.next();Ze!==null&&!Ht.done;wt++,Ht=fe.next()){Ze.index>wt?(Mt=Ze,Ze=null):Mt=Ze.sibling;var ao=pe(ie,Ze,Ht.value,Ce);if(ao===null){Ze===null&&(Ze=Mt);break}a&&Ze&&ao.alternate===null&&o(ie,Ze),re=w(ao,re,wt),Ft===null?tt=ao:Ft.sibling=ao,Ft=ao,Ze=Mt}if(Ht.done)return c(ie,Ze),Dt&&Ka(ie,wt),tt;if(Ze===null){for(;!Ht.done;wt++,Ht=fe.next())Ht=Ee(ie,Ht.value,Ce),Ht!==null&&(re=w(Ht,re,wt),Ft===null?tt=Ht:Ft.sibling=Ht,Ft=Ht);return Dt&&Ka(ie,wt),tt}for(Ze=h(Ze);!Ht.done;wt++,Ht=fe.next())Ht=ye(Ze,ie,wt,Ht.value,Ce),Ht!==null&&(a&&Ht.alternate!==null&&Ze.delete(Ht.key===null?wt:Ht.key),re=w(Ht,re,wt),Ft===null?tt=Ht:Ft.sibling=Ht,Ft=Ht);return a&&Ze.forEach(function(aR){return o(ie,aR)}),Dt&&Ka(ie,wt),tt}function hn(ie,re,fe,Ce){if(typeof fe=="object"&&fe!==null&&fe.type===j&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:e:{for(var tt=fe.key;re!==null;){if(re.key===tt){if(tt=fe.type,tt===j){if(re.tag===7){c(ie,re.sibling),Ce=v(re,fe.props.children),Ce.return=ie,ie=Ce;break e}}else if(re.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===A&&Bo(tt)===re.type){c(ie,re.sibling),Ce=v(re,fe.props),su(Ce,fe),Ce.return=ie,ie=Ce;break e}c(ie,re);break}else o(ie,re);re=re.sibling}fe.type===j?(Ce=Po(fe.props.children,ie.mode,Ce,fe.key),Ce.return=ie,ie=Ce):(Ce=ef(fe.type,fe.key,fe.props,null,ie.mode,Ce),su(Ce,fe),Ce.return=ie,ie=Ce)}return D(ie);case N:e:{for(tt=fe.key;re!==null;){if(re.key===tt)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){c(ie,re.sibling),Ce=v(re,fe.children||[]),Ce.return=ie,ie=Ce;break e}else{c(ie,re);break}else o(ie,re);re=re.sibling}Ce=Sp(fe,ie.mode,Ce),Ce.return=ie,ie=Ce}return D(ie);case A:return fe=Bo(fe),hn(ie,re,fe,Ce)}if(G(fe))return Fe(ie,re,fe,Ce);if(U(fe)){if(tt=U(fe),typeof tt!="function")throw Error(s(150));return fe=tt.call(fe),it(ie,re,fe,Ce)}if(typeof fe.then=="function")return hn(ie,re,of(fe),Ce);if(fe.$$typeof===k)return hn(ie,re,rf(ie,fe),Ce);cf(ie,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(c(ie,re.sibling),Ce=v(re,fe),Ce.return=ie,ie=Ce):(c(ie,re),Ce=jp(fe,ie.mode,Ce),Ce.return=ie,ie=Ce),D(ie)):c(ie,re)}return function(ie,re,fe,Ce){try{ru=0;var tt=hn(ie,re,fe,Ce);return zi=null,tt}catch(Ze){if(Ze===Ii||Ze===af)throw Ze;var Ft=us(29,Ze,null,ie.mode);return Ft.lanes=Ce,Ft.return=ie,Ft}finally{}}}var Fo=Py(!0),$y=Py(!1),ql=!1;function Pp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $p(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Hl(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Wt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Jd(a),yy(a,null,c),o}return Qd(a,h,o,c),Jd(a)}function au(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Te(a,c)}}function Ip(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=D:w=w.next=D,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var zp=!1;function lu(){if(zp){var a=$i;if(a!==null)throw a}}function ou(a,o,c,h){zp=!1;var v=a.updateQueue;ql=!1;var w=v.firstBaseUpdate,D=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var Q=F,he=Q.next;Q.next=null,D===null?w=he:D.next=he,D=Q;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,F=Ne.lastBaseUpdate,F!==D&&(F===null?Ne.firstBaseUpdate=he:F.next=he,Ne.lastBaseUpdate=Q))}if(w!==null){var Ee=v.baseState;D=0,Ne=he=Q=null,F=w;do{var pe=F.lane&-536870913,ye=pe!==F.lane;if(ye?(Ot&pe)===pe:(h&pe)===pe){pe!==0&&pe===Pi&&(zp=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Fe=a,it=F;pe=o;var hn=c;switch(it.tag){case 1:if(Fe=it.payload,typeof Fe=="function"){Ee=Fe.call(hn,Ee,pe);break e}Ee=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=it.payload,pe=typeof Fe=="function"?Fe.call(hn,Ee,pe):Fe,pe==null)break e;Ee=x({},Ee,pe);break e;case 2:ql=!0}}pe=F.callback,pe!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=v.callbacks,ye===null?v.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Ne===null?(he=Ne=ye,Q=Ee):Ne=Ne.next=ye,D|=pe;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ye=F,F=ye.next,ye.next=null,v.lastBaseUpdate=ye,v.shared.pending=null}}while(!0);Ne===null&&(Q=Ee),v.baseState=Q,v.firstBaseUpdate=he,v.lastBaseUpdate=Ne,w===null&&(v.shared.lanes=0),Kl|=D,a.lanes=D,a.memoizedState=Ee}}function Iy(a,o){if(typeof a!="function")throw Error(s(191,a));a.call(o)}function zy(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Iy(c[a],o)}var Ui=q(null),uf=q(0);function Uy(a,o){a=ll,te(uf,a),te(Ui,o),ll=a|o.baseLanes}function Up(){te(uf,ll),te(Ui,Ui.current)}function Bp(){ll=uf.current,K(Ui),K(uf)}var ds=q(null),Os=null;function Vl(a){var o=a.alternate;te(Un,Un.current&1),te(ds,a),Os===null&&(o===null||Ui.current!==null||o.memoizedState!==null)&&(Os=a)}function qp(a){te(Un,Un.current),te(ds,a),Os===null&&(Os=a)}function By(a){a.tag===22?(te(Un,Un.current),te(ds,a),Os===null&&(Os=a)):Gl()}function Gl(){te(Un,Un.current),te(ds,ds.current)}function fs(a){K(ds),Os===a&&(Os=null),K(Un)}var Un=q(0);function df(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Wg(c)||Kg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qa=0,bt=null,dn=null,Wn=null,ff=!1,Bi=!1,Ho=!1,hf=0,iu=0,qi=null,KT=0;function Dn(){throw Error(s(321))}function Fp(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!cs(a[c],o[c]))return!1;return!0}function Hp(a,o,c,h,v,w){return Qa=w,bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?S1:ag,Ho=!1,w=c(h,v),Ho=!1,Bi&&(w=Fy(o,c,h,v)),qy(a),w}function qy(a){$.H=du;var o=dn!==null&&dn.next!==null;if(Qa=0,Wn=dn=bt=null,ff=!1,iu=0,qi=null,o)throw Error(s(300));a===null||Kn||(a=a.dependencies,a!==null&&nf(a)&&(Kn=!0))}function Fy(a,o,c,h){bt=a;var v=0;do{if(Bi&&(qi=null),iu=0,Bi=!1,25<=v)throw Error(s(301));if(v+=1,Wn=dn=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=C1,w=o(c,h)}while(Bi);return w}function XT(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?cu(o):o,a=a.useState()[0],(dn!==null?dn.memoizedState:null)!==a&&(bt.flags|=1024),o}function Vp(){var a=hf!==0;return hf=0,a}function Gp(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function Yp(a){if(ff){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}ff=!1}Qa=0,Wn=dn=bt=null,Bi=!1,iu=hf=0,qi=null}function Ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?bt.memoizedState=Wn=a:Wn=Wn.next=a,Wn}function Bn(){if(dn===null){var a=bt.alternate;a=a!==null?a.memoizedState:null}else a=dn.next;var o=Wn===null?bt.memoizedState:Wn.next;if(o!==null)Wn=o,dn=a;else{if(a===null)throw bt.alternate===null?Error(s(467)):Error(s(310));dn=a,a={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Wn===null?bt.memoizedState=Wn=a:Wn=Wn.next=a}return Wn}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(a){var o=iu;return iu+=1,qi===null&&(qi=[]),a=Ly(qi,a,o),o=bt,(Wn===null?o.memoizedState:Wn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?S1:ag),a}function pf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return cu(a);if(a.$$typeof===k)return vr(a)}throw Error(s(438,String(a)))}function Wp(a){var o=null,c=bt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=bt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=mf(),bt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=B;return o.index++,c}function Ja(a,o){return typeof o=="function"?o(a):o}function gf(a){var o=Bn();return Kp(o,dn,a)}function Kp(a,o,c){var h=a.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var v=a.baseQueue,w=h.pending;if(w!==null){if(v!==null){var D=v.next;v.next=w.next,w.next=D}o.baseQueue=v=w,h.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var F=D=null,Q=null,he=o,Ne=!1;do{var Ee=he.lane&-536870913;if(Ee!==he.lane?(Ot&Ee)===Ee:(Qa&Ee)===Ee){var pe=he.revertLane;if(pe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ee===Pi&&(Ne=!0);else if((Qa&pe)===pe){he=he.next,pe===Pi&&(Ne=!0);continue}else Ee={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Q===null?(F=Q=Ee,D=w):Q=Q.next=Ee,bt.lanes|=pe,Kl|=pe;Ee=he.action,Ho&&c(w,Ee),w=he.hasEagerState?he.eagerState:c(w,Ee)}else pe={lane:Ee,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Q===null?(F=Q=pe,D=w):Q=Q.next=pe,bt.lanes|=Ee,Kl|=Ee;he=he.next}while(he!==null&&he!==o);if(Q===null?D=w:Q.next=F,!cs(w,a.memoizedState)&&(Kn=!0,Ne&&(c=$i,c!==null)))throw c;a.memoizedState=w,a.baseState=D,a.baseQueue=Q,h.lastRenderedState=w}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Xp(a){var o=Bn(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var h=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var D=v=v.next;do w=a(w,D.action),D=D.next;while(D!==v);cs(w,o.memoizedState)||(Kn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function Hy(a,o,c){var h=bt,v=Bn(),w=Dt;if(w){if(c===void 0)throw Error(s(407));c=c()}else c=o();var D=!cs((dn||v).memoizedState,c);if(D&&(v.memoizedState=c,Kn=!0),v=v.queue,Jp(Yy.bind(null,h,v,a),[a]),v.getSnapshot!==o||D||Wn!==null&&Wn.memoizedState.tag&1){if(h.flags|=2048,Fi(9,{destroy:void 0},Gy.bind(null,h,v,c,o),null),xn===null)throw Error(s(349));w||(Qa&127)!==0||Vy(h,o,c)}return c}function Vy(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=bt.updateQueue,o===null?(o=mf(),bt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function Gy(a,o,c,h){o.value=c,o.getSnapshot=h,Wy(o)&&Ky(a)}function Yy(a,o,c){return c(function(){Wy(o)&&Ky(a)})}function Wy(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!cs(a,c)}catch{return!0}}function Ky(a){var o=Do(a,2);o!==null&&ts(o,a,2)}function Zp(a){var o=Ir();if(typeof a=="function"){var c=a;if(a=c(),Ho){me(!0);try{c()}finally{me(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:a},o}function Xy(a,o,c,h){return a.baseState=c,Kp(a,dn,typeof h=="function"?h:Ja)}function ZT(a,o,c,h,v){if(vf(a))throw Error(s(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};$.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,Zy(o,w)):(w.next=c.next,o.pending=c.next=w)}}function Zy(a,o){var c=o.action,h=o.payload,v=a.state;if(o.isTransition){var w=$.T,D={};$.T=D;try{var F=c(v,h),Q=$.S;Q!==null&&Q(D,F),Qy(a,o,F)}catch(he){Qp(a,o,he)}finally{w!==null&&D.types!==null&&(w.types=D.types),$.T=w}}else try{w=c(v,h),Qy(a,o,w)}catch(he){Qp(a,o,he)}}function Qy(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Jy(a,o,h)},function(h){return Qp(a,o,h)}):Jy(a,o,c)}function Jy(a,o,c){o.status="fulfilled",o.value=c,e1(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,Zy(a,c)))}function Qp(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,e1(o),o=o.next;while(o!==h)}a.action=null}function e1(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function t1(a,o){return o}function n1(a,o){if(Dt){var c=xn.formState;if(c!==null){e:{var h=bt;if(Dt){if(Nn){t:{for(var v=Nn,w=Rs;v.nodeType!==8;){if(!w){v=null;break t}if(v=Ms(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Nn=Ms(v.nextSibling),h=v.data==="F!";break e}}Ul(h)}h=!1}h&&(o=c[0])}}return c=Ir(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t1,lastRenderedState:o},c.queue=h,c=w1.bind(null,bt,h),h.dispatch=c,h=Zp(!1),w=sg.bind(null,bt,!1,h.queue),h=Ir(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,c=ZT.bind(null,bt,v,w,c),v.dispatch=c,h.memoizedState=a,[o,c,!1]}function r1(a){var o=Bn();return s1(o,dn,a)}function s1(a,o,c){if(o=Kp(a,o,t1)[0],a=gf(Ja)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=cu(o)}catch(D){throw D===Ii?af:D}else h=o;o=Bn();var v=o.queue,w=v.dispatch;return c!==o.memoizedState&&(bt.flags|=2048,Fi(9,{destroy:void 0},QT.bind(null,v,c),null)),[h,w,a]}function QT(a,o){a.action=o}function a1(a){var o=Bn(),c=dn;if(c!==null)return s1(o,c,a);Bn(),o=o.memoizedState,c=Bn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Fi(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=bt.updateQueue,o===null&&(o=mf(),bt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function l1(){return Bn().memoizedState}function xf(a,o,c,h){var v=Ir();bt.flags|=a,v.memoizedState=Fi(1|o,{destroy:void 0},c,h===void 0?null:h)}function bf(a,o,c,h){var v=Bn();h=h===void 0?null:h;var w=v.memoizedState.inst;dn!==null&&h!==null&&Fp(h,dn.memoizedState.deps)?v.memoizedState=Fi(o,w,c,h):(bt.flags|=a,v.memoizedState=Fi(1|o,w,c,h))}function o1(a,o){xf(8390656,8,a,o)}function Jp(a,o){bf(2048,8,a,o)}function JT(a){bt.flags|=4;var o=bt.updateQueue;if(o===null)o=mf(),bt.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function i1(a){var o=Bn().memoizedState;return JT({ref:o,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function c1(a,o){return bf(4,2,a,o)}function u1(a,o){return bf(4,4,a,o)}function d1(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function f1(a,o,c){c=c!=null?c.concat([a]):null,bf(4,4,d1.bind(null,o,a),c)}function eg(){}function h1(a,o){var c=Bn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Fp(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function m1(a,o){var c=Bn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Fp(o,h[1]))return h[0];if(h=a(),Ho){me(!0);try{a()}finally{me(!1)}}return c.memoizedState=[h,o],h}function tg(a,o,c){return c===void 0||(Qa&1073741824)!==0&&(Ot&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=pw(),bt.lanes|=a,Kl|=a,c)}function p1(a,o,c,h){return cs(c,o)?c:Ui.current!==null?(a=tg(a,c,h),cs(a,o)||(Kn=!0),a):(Qa&42)===0||(Qa&1073741824)!==0&&(Ot&261930)===0?(Kn=!0,a.memoizedState=c):(a=pw(),bt.lanes|=a,Kl|=a,o)}function g1(a,o,c,h,v){var w=W.p;W.p=w!==0&&8>w?w:8;var D=$.T,F={};$.T=F,sg(a,!1,o,c);try{var Q=v(),he=$.S;if(he!==null&&he(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ne=WT(Q,h);uu(a,o,Ne,ps(a))}else uu(a,o,h,ps(a))}catch(Ee){uu(a,o,{then:function(){},status:"rejected",reason:Ee},ps())}finally{W.p=w,D!==null&&F.types!==null&&(D.types=F.types),$.T=D}}function eA(){}function ng(a,o,c,h){if(a.tag!==5)throw Error(s(476));var v=x1(a).queue;g1(a,v,o,Y,c===null?eA:function(){return b1(a),c(h)})}function x1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:Y},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function b1(a){var o=x1(a);o.next===null&&(o=a.alternate.memoizedState),uu(a,o.next.queue,{},ps())}function rg(){return vr(ku)}function v1(){return Bn().memoizedState}function y1(){return Bn().memoizedState}function tA(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=ps();a=Fl(c);var h=Hl(o,a,c);h!==null&&(ts(h,o,c),au(h,o,c)),o={cache:Mp()},a.payload=o;return}o=o.return}}function nA(a,o,c){var h=ps();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},vf(a)?N1(o,c):(c=wp(a,o,c,h),c!==null&&(ts(c,a,h),j1(c,o,h)))}function w1(a,o,c){var h=ps();uu(a,o,c,h)}function uu(a,o,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(vf(a))N1(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var D=o.lastRenderedState,F=w(D,c);if(v.hasEagerState=!0,v.eagerState=F,cs(F,D))return Qd(a,o,v,0),xn===null&&Zd(),!1}catch{}finally{}if(c=wp(a,o,v,h),c!==null)return ts(c,a,h),j1(c,o,h),!0}return!1}function sg(a,o,c,h){if(h={lane:2,revertLane:Pg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},vf(a)){if(o)throw Error(s(479))}else o=wp(a,c,h,2),o!==null&&ts(o,a,2)}function vf(a){var o=a.alternate;return a===bt||o!==null&&o===bt}function N1(a,o){Bi=ff=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function j1(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,Te(a,c)}}var du={readContext:vr,use:pf,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};du.useEffectEvent=Dn;var S1={readContext:vr,use:pf,useCallback:function(a,o){return Ir().memoizedState=[a,o===void 0?null:o],a},useContext:vr,useEffect:o1,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,xf(4194308,4,d1.bind(null,o,a),c)},useLayoutEffect:function(a,o){return xf(4194308,4,a,o)},useInsertionEffect:function(a,o){xf(4,2,a,o)},useMemo:function(a,o){var c=Ir();o=o===void 0?null:o;var h=a();if(Ho){me(!0);try{a()}finally{me(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Ir();if(c!==void 0){var v=c(o);if(Ho){me(!0);try{c(o)}finally{me(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=nA.bind(null,bt,a),[h.memoizedState,a]},useRef:function(a){var o=Ir();return a={current:a},o.memoizedState=a},useState:function(a){a=Zp(a);var o=a.queue,c=w1.bind(null,bt,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:eg,useDeferredValue:function(a,o){var c=Ir();return tg(c,a,o)},useTransition:function(){var a=Zp(!1);return a=g1.bind(null,bt,a.queue,!0,!1),Ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=bt,v=Ir();if(Dt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),xn===null)throw Error(s(349));(Ot&127)!==0||Vy(h,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,o1(Yy.bind(null,h,w,a),[a]),h.flags|=2048,Fi(9,{destroy:void 0},Gy.bind(null,h,w,c,o),null),c},useId:function(){var a=Ir(),o=xn.identifierPrefix;if(Dt){var c=Na,h=wa;c=(h&~(1<<32-Ue(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=hf++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=KT++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:rg,useFormState:n1,useActionState:n1,useOptimistic:function(a){var o=Ir();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=sg.bind(null,bt,!0,c),c.dispatch=o,[a,o]},useMemoCache:Wp,useCacheRefresh:function(){return Ir().memoizedState=tA.bind(null,bt)},useEffectEvent:function(a){var o=Ir(),c={impl:a};return o.memoizedState=c,function(){if((Wt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},ag={readContext:vr,use:pf,useCallback:h1,useContext:vr,useEffect:Jp,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:gf,useRef:l1,useState:function(){return gf(Ja)},useDebugValue:eg,useDeferredValue:function(a,o){var c=Bn();return p1(c,dn.memoizedState,a,o)},useTransition:function(){var a=gf(Ja)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:cu(a),o]},useSyncExternalStore:Hy,useId:v1,useHostTransitionStatus:rg,useFormState:r1,useActionState:r1,useOptimistic:function(a,o){var c=Bn();return Xy(c,dn,a,o)},useMemoCache:Wp,useCacheRefresh:y1};ag.useEffectEvent=i1;var C1={readContext:vr,use:pf,useCallback:h1,useContext:vr,useEffect:Jp,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:Xp,useRef:l1,useState:function(){return Xp(Ja)},useDebugValue:eg,useDeferredValue:function(a,o){var c=Bn();return dn===null?tg(c,a,o):p1(c,dn.memoizedState,a,o)},useTransition:function(){var a=Xp(Ja)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:cu(a),o]},useSyncExternalStore:Hy,useId:v1,useHostTransitionStatus:rg,useFormState:a1,useActionState:a1,useOptimistic:function(a,o){var c=Bn();return dn!==null?Xy(c,dn,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Wp,useCacheRefresh:y1};C1.useEffectEvent=i1;function lg(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:x({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var og={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=ps(),v=Fl(h);v.payload=o,c!=null&&(v.callback=c),o=Hl(a,v,h),o!==null&&(ts(o,a,h),au(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=ps(),v=Fl(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Hl(a,v,h),o!==null&&(ts(o,a,h),au(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=ps(),h=Fl(c);h.tag=2,o!=null&&(h.callback=o),o=Hl(a,h,c),o!==null&&(ts(o,a,c),au(o,a,c))}};function E1(a,o,c,h,v,w,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,D):o.prototype&&o.prototype.isPureReactComponent?!Zc(c,h)||!Zc(v,w):!0}function k1(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&og.enqueueReplaceState(o,o.state,null)}function Vo(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=x({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function T1(a){Xd(a)}function A1(a){console.error(a)}function R1(a){Xd(a)}function yf(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function O1(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ig(a,o,c){return c=Fl(c),c.tag=3,c.payload={element:null},c.callback=function(){yf(a,o)},c}function M1(a){return a=Fl(a),a.tag=3,a}function L1(a,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;a.payload=function(){return v(w)},a.callback=function(){O1(o,c,h)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){O1(o,c,h),typeof v!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function rA(a,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Di(o,c,v,!0),c=ds.current,c!==null){switch(c.tag){case 31:case 13:return Os===null?Mf():c.alternate===null&&Pn===0&&(Pn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===lf?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Lg(a,h,v)),!1;case 22:return c.flags|=65536,h===lf?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Lg(a,h,v)),!1}throw Error(s(435,c.tag))}return Lg(a,h,v),Mf(),!1}if(Dt)return o=ds.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==kp&&(a=Error(s(422),{cause:h}),eu(ks(a,c)))):(h!==kp&&(o=Error(s(423),{cause:h}),eu(ks(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=ks(h,c),v=ig(a.stateNode,h,v),Ip(a,v),Pn!==4&&(Pn=2)),!1;var w=Error(s(520),{cause:h});if(w=ks(w,c),vu===null?vu=[w]:vu.push(w),Pn!==4&&(Pn=2),o===null)return!0;h=ks(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=ig(c.stateNode,h,a),Ip(c,a),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xl===null||!Xl.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=M1(v),L1(v,a,c,h),Ip(c,v),!1}c=c.return}while(c!==null);return!1}var cg=Error(s(461)),Kn=!1;function yr(a,o,c,h){o.child=a===null?$y(o,null,c,h):Fo(o,a.child,c,h)}function _1(a,o,c,h,v){c=c.render;var w=o.ref;if("ref"in h){var D={};for(var F in h)F!=="ref"&&(D[F]=h[F])}else D=h;return zo(o),h=Hp(a,o,c,D,w,v),F=Vp(),a!==null&&!Kn?(Gp(a,o,v),el(a,o,v)):(Dt&&F&&Cp(o),o.flags|=1,yr(a,o,h,v),o.child)}function D1(a,o,c,h,v){if(a===null){var w=c.type;return typeof w=="function"&&!Np(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,P1(a,o,w,h,v)):(a=ef(c.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!xg(a,v)){var D=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(D,h)&&a.ref===o.ref)return el(a,o,v)}return o.flags|=1,a=Wa(w,h),a.ref=o.ref,a.return=o,o.child=a}function P1(a,o,c,h,v){if(a!==null){var w=a.memoizedProps;if(Zc(w,h)&&a.ref===o.ref)if(Kn=!1,o.pendingProps=h=w,xg(a,v))(a.flags&131072)!==0&&(Kn=!0);else return o.lanes=a.lanes,el(a,o,v)}return ug(a,o,c,h,v)}function $1(a,o,c,h){var v=h.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,o.child=null;return I1(a,o,w,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&sf(o,w!==null?w.cachePool:null),w!==null?Uy(o,w):Up(),By(o);else return h=o.lanes=536870912,I1(a,o,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(sf(o,w.cachePool),Uy(o,w),Gl(),o.memoizedState=null):(a!==null&&sf(o,null),Up(),Gl());return yr(a,o,v,c),o.child}function fu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function I1(a,o,c,h,v){var w=_p();return w=w===null?null:{parent:Yn._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},a!==null&&sf(o,null),Up(),By(o),a!==null&&Di(a,o,h,!0),o.childLanes=v,null}function wf(a,o){return o=jf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function z1(a,o,c){return Fo(o,a.child,null,c),a=wf(o,o.pendingProps),a.flags|=2,fs(o),o.memoizedState=null,a}function sA(a,o,c){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Dt){if(h.mode==="hidden")return a=wf(o,h),o.lanes=536870912,fu(null,a);if(qp(o),(a=Nn)?(a=Zw(a,Rs),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Il!==null?{id:wa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},c=Ny(a),c.return=o,o.child=c,br=o,Nn=null)):a=null,a===null)throw Ul(o);return o.lanes=536870912,null}return wf(o,h)}var w=a.memoizedState;if(w!==null){var D=w.dehydrated;if(qp(o),v)if(o.flags&256)o.flags&=-257,o=z1(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(s(558));else if(Kn||Di(a,o,c,!1),v=(c&a.childLanes)!==0,Kn||v){if(h=xn,h!==null&&(D=Me(h,c),D!==0&&D!==w.retryLane))throw w.retryLane=D,Do(a,D),ts(h,a,D),cg;Mf(),o=z1(a,o,c)}else a=w.treeContext,Nn=Ms(D.nextSibling),br=o,Dt=!0,zl=null,Rs=!1,a!==null&&Cy(o,a),o=wf(o,h),o.flags|=4096;return o}return a=Wa(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Nf(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function ug(a,o,c,h,v){return zo(o),c=Hp(a,o,c,h,void 0,v),h=Vp(),a!==null&&!Kn?(Gp(a,o,v),el(a,o,v)):(Dt&&h&&Cp(o),o.flags|=1,yr(a,o,c,v),o.child)}function U1(a,o,c,h,v,w){return zo(o),o.updateQueue=null,c=Fy(o,h,c,v),qy(a),h=Vp(),a!==null&&!Kn?(Gp(a,o,w),el(a,o,w)):(Dt&&h&&Cp(o),o.flags|=1,yr(a,o,c,w),o.child)}function B1(a,o,c,h,v){if(zo(o),o.stateNode===null){var w=Oi,D=c.contextType;typeof D=="object"&&D!==null&&(w=vr(D)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=og,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Pp(o),D=c.contextType,w.context=typeof D=="object"&&D!==null?vr(D):Oi,w.state=o.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(lg(o,c,D,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&og.enqueueReplaceState(w,w.state,null),ou(o,h,w,v),lu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){w=o.stateNode;var F=o.memoizedProps,Q=Vo(c,F);w.props=Q;var he=w.context,Ne=c.contextType;D=Oi,typeof Ne=="object"&&Ne!==null&&(D=vr(Ne));var Ee=c.getDerivedStateFromProps;Ne=typeof Ee=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,Ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||he!==D)&&k1(o,w,h,D),ql=!1;var pe=o.memoizedState;w.state=pe,ou(o,h,w,v),lu(),he=o.memoizedState,F||pe!==he||ql?(typeof Ee=="function"&&(lg(o,c,Ee,h),he=o.memoizedState),(Q=ql||E1(o,c,Q,h,pe,he,D))?(Ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=he),w.props=h,w.state=he,w.context=D,h=Q):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,$p(a,o),D=o.memoizedProps,Ne=Vo(c,D),w.props=Ne,Ee=o.pendingProps,pe=w.context,he=c.contextType,Q=Oi,typeof he=="object"&&he!==null&&(Q=vr(he)),F=c.getDerivedStateFromProps,(he=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==Ee||pe!==Q)&&k1(o,w,h,Q),ql=!1,pe=o.memoizedState,w.state=pe,ou(o,h,w,v),lu();var ye=o.memoizedState;D!==Ee||pe!==ye||ql||a!==null&&a.dependencies!==null&&nf(a.dependencies)?(typeof F=="function"&&(lg(o,c,F,h),ye=o.memoizedState),(Ne=ql||E1(o,c,Ne,h,pe,ye,Q)||a!==null&&a.dependencies!==null&&nf(a.dependencies))?(he||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ye,Q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ye,Q)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===a.memoizedProps&&pe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&pe===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),w.props=h,w.state=ye,w.context=Q,h=Ne):(typeof w.componentDidUpdate!="function"||D===a.memoizedProps&&pe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&pe===a.memoizedState||(o.flags|=1024),h=!1)}return w=h,Nf(a,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&h?(o.child=Fo(o,a.child,null,v),o.child=Fo(o,null,c,v)):yr(a,o,c,v),o.memoizedState=w.state,a=o.child):a=el(a,o,v),a}function q1(a,o,c,h){return $o(),o.flags|=256,yr(a,o,c,h),o.child}var dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(a){return{baseLanes:a,cachePool:Oy()}}function hg(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ms),a}function F1(a,o,c){var h=o.pendingProps,v=!1,w=(o.flags&128)!==0,D;if((D=w)||(D=a!==null&&a.memoizedState===null?!1:(Un.current&2)!==0),D&&(v=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,a===null){if(Dt){if(v?Vl(o):Gl(),(a=Nn)?(a=Zw(a,Rs),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Il!==null?{id:wa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},c=Ny(a),c.return=o,o.child=c,br=o,Nn=null)):a=null,a===null)throw Ul(o);return Kg(a)?o.lanes=32:o.lanes=536870912,null}var F=h.children;return h=h.fallback,v?(Gl(),v=o.mode,F=jf({mode:"hidden",children:F},v),h=Po(h,v,c,null),F.return=o,h.return=o,F.sibling=h,o.child=F,h=o.child,h.memoizedState=fg(c),h.childLanes=hg(a,D,c),o.memoizedState=dg,fu(null,h)):(Vl(o),mg(o,F))}var Q=a.memoizedState;if(Q!==null&&(F=Q.dehydrated,F!==null)){if(w)o.flags&256?(Vl(o),o.flags&=-257,o=pg(a,o,c)):o.memoizedState!==null?(Gl(),o.child=a.child,o.flags|=128,o=null):(Gl(),F=h.fallback,v=o.mode,h=jf({mode:"visible",children:h.children},v),F=Po(F,v,c,null),F.flags|=2,h.return=o,F.return=o,h.sibling=F,o.child=h,Fo(o,a.child,null,c),h=o.child,h.memoizedState=fg(c),h.childLanes=hg(a,D,c),o.memoizedState=dg,o=fu(null,h));else if(Vl(o),Kg(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var he=D.dgst;D=he,h=Error(s(419)),h.stack="",h.digest=D,eu({value:h,source:null,stack:null}),o=pg(a,o,c)}else if(Kn||Di(a,o,c,!1),D=(c&a.childLanes)!==0,Kn||D){if(D=xn,D!==null&&(h=Me(D,c),h!==0&&h!==Q.retryLane))throw Q.retryLane=h,Do(a,h),ts(D,a,h),cg;Wg(F)||Mf(),o=pg(a,o,c)}else Wg(F)?(o.flags|=192,o.child=a.child,o=null):(a=Q.treeContext,Nn=Ms(F.nextSibling),br=o,Dt=!0,zl=null,Rs=!1,a!==null&&Cy(o,a),o=mg(o,h.children),o.flags|=4096);return o}return v?(Gl(),F=h.fallback,v=o.mode,Q=a.child,he=Q.sibling,h=Wa(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,he!==null?F=Wa(he,F):(F=Po(F,v,c,null),F.flags|=2),F.return=o,h.return=o,h.sibling=F,o.child=h,fu(null,h),h=o.child,F=a.child.memoizedState,F===null?F=fg(c):(v=F.cachePool,v!==null?(Q=Yn._currentValue,v=v.parent!==Q?{parent:Q,pool:Q}:v):v=Oy(),F={baseLanes:F.baseLanes|c,cachePool:v}),h.memoizedState=F,h.childLanes=hg(a,D,c),o.memoizedState=dg,fu(a.child,h)):(Vl(o),c=a.child,a=c.sibling,c=Wa(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(D=o.deletions,D===null?(o.deletions=[a],o.flags|=16):D.push(a)),o.child=c,o.memoizedState=null,c)}function mg(a,o){return o=jf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function jf(a,o){return a=us(22,a,null,o),a.lanes=0,a}function pg(a,o,c){return Fo(o,a.child,null,c),a=mg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function H1(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Rp(a.return,o,c)}function gg(a,o,c,h,v,w){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:w}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=h,D.tail=c,D.tailMode=v,D.treeForkCount=w)}function V1(a,o,c){var h=o.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var D=Un.current,F=(D&2)!==0;if(F?(D=D&1|2,o.flags|=128):D&=1,te(Un,D),yr(a,o,h,c),h=Dt?Jc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&H1(a,c,o);else if(a.tag===19)H1(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&df(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),gg(o,!1,v,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&df(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}gg(o,!0,c,null,w,h);break;case"together":gg(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function el(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Kl|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Di(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(s(153));if(o.child!==null){for(a=o.child,c=Wa(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Wa(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function xg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&nf(a)))}function aA(a,o,c){switch(o.tag){case 3:ge(o,o.stateNode.containerInfo),Bl(o,Yn,a.memoizedState.cache),$o();break;case 27:case 5:ne(o);break;case 4:ge(o,o.stateNode.containerInfo);break;case 10:Bl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qp(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Vl(o),o.flags|=128,null):(c&o.child.childLanes)!==0?F1(a,o,c):(Vl(o),a=el(a,o,c),a!==null?a.sibling:null);Vl(o);break;case 19:var v=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Di(a,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return V1(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(Un,Un.current),h)break;return null;case 22:return o.lanes=0,$1(a,o,c,o.pendingProps);case 24:Bl(o,Yn,a.memoizedState.cache)}return el(a,o,c)}function G1(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Kn=!0;else{if(!xg(a,c)&&(o.flags&128)===0)return Kn=!1,aA(a,o,c);Kn=(a.flags&131072)!==0}else Kn=!1,Dt&&(o.flags&1048576)!==0&&Sy(o,Jc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Bo(o.elementType),o.type=a,typeof a=="function")Np(a)?(h=Vo(a,h),o.tag=1,o=B1(null,o,a,h,c)):(o.tag=0,o=ug(null,o,a,h,c));else{if(a!=null){var v=a.$$typeof;if(v===_){o.tag=11,o=_1(null,o,a,h,c);break e}else if(v===O){o.tag=14,o=D1(null,o,a,h,c);break e}}throw o=z(a)||a,Error(s(306,o,""))}}return o;case 0:return ug(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Vo(h,o.pendingProps),B1(a,o,h,v,c);case 3:e:{if(ge(o,o.stateNode.containerInfo),a===null)throw Error(s(387));h=o.pendingProps;var w=o.memoizedState;v=w.element,$p(a,o),ou(o,h,null,c);var D=o.memoizedState;if(h=D.cache,Bl(o,Yn,h),h!==w.cache&&Op(o,[Yn],c,!0),lu(),h=D.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=q1(a,o,h,c);break e}else if(h!==v){v=ks(Error(s(424)),o),eu(v),o=q1(a,o,h,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Nn=Ms(a.firstChild),br=o,Dt=!0,zl=null,Rs=!0,c=$y(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if($o(),h===v){o=el(a,o,c);break e}yr(a,o,h,c)}o=o.child}return o;case 26:return Nf(a,o),a===null?(c=rN(o.type,null,o.pendingProps,null))?o.memoizedState=c:Dt||(c=o.type,a=o.pendingProps,h=zf(xe.current).createElement(c),h[Ie]=o,h[$e]=a,wr(h,c,a),un(h),o.stateNode=h):o.memoizedState=rN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ne(o),a===null&&Dt&&(h=o.stateNode=eN(o.type,o.pendingProps,xe.current),br=o,Rs=!0,v=Nn,eo(o.type)?(Xg=v,Nn=Ms(h.firstChild)):Nn=v),yr(a,o,o.pendingProps.children,c),Nf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Dt&&((v=h=Nn)&&(h=DA(h,o.type,o.pendingProps,Rs),h!==null?(o.stateNode=h,br=o,Nn=Ms(h.firstChild),Rs=!1,v=!0):v=!1),v||Ul(o)),ne(o),v=o.type,w=o.pendingProps,D=a!==null?a.memoizedProps:null,h=w.children,Vg(v,w)?h=null:D!==null&&Vg(v,D)&&(o.flags|=32),o.memoizedState!==null&&(v=Hp(a,o,XT,null,null,c),ku._currentValue=v),Nf(a,o),yr(a,o,h,c),o.child;case 6:return a===null&&Dt&&((a=c=Nn)&&(c=PA(c,o.pendingProps,Rs),c!==null?(o.stateNode=c,br=o,Nn=null,a=!0):a=!1),a||Ul(o)),null;case 13:return F1(a,o,c);case 4:return ge(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Fo(o,null,h,c):yr(a,o,h,c),o.child;case 11:return _1(a,o,o.type,o.pendingProps,c);case 7:return yr(a,o,o.pendingProps,c),o.child;case 8:return yr(a,o,o.pendingProps.children,c),o.child;case 12:return yr(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Bl(o,o.type,h.value),yr(a,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,zo(o),v=vr(v),h=h(v),o.flags|=1,yr(a,o,h,c),o.child;case 14:return D1(a,o,o.type,o.pendingProps,c);case 15:return P1(a,o,o.type,o.pendingProps,c);case 19:return V1(a,o,c);case 31:return sA(a,o,c);case 22:return $1(a,o,c,o.pendingProps);case 24:return zo(o),h=vr(Yn),a===null?(v=_p(),v===null&&(v=xn,w=Mp(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),o.memoizedState={parent:h,cache:v},Pp(o),Bl(o,Yn,v)):((a.lanes&c)!==0&&($p(a,o),ou(o,null,null,c),lu()),v=a.memoizedState,w=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Bl(o,Yn,h)):(h=w.cache,Bl(o,Yn,h),h!==v.cache&&Op(o,[Yn],c,!0))),yr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function tl(a){a.flags|=4}function bg(a,o,c,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(vw())a.flags|=8192;else throw qo=lf,Dp}else a.flags&=-16777217}function Y1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!iN(o))if(vw())a.flags|=8192;else throw qo=lf,Dp}function Sf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?In():536870912,a.lanes|=o,Yi|=o)}function hu(a,o){if(!Dt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function jn(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function lA(a,o,c){var h=o.pendingProps;switch(Ep(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(o),null;case 1:return jn(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Za(Yn),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(_i(o)?tl(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tp())),jn(o),null;case 26:var v=o.type,w=o.memoizedState;return a===null?(tl(o),w!==null?(jn(o),Y1(o,w)):(jn(o),bg(o,v,null,h,c))):w?w!==a.memoizedState?(tl(o),jn(o),Y1(o,w)):(jn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&tl(o),jn(o),bg(o,v,a,h,c)),null;case 27:if(ce(o),c=xe.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&tl(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return jn(o),null}a=se.current,_i(o)?Ey(o):(a=eN(v,h,c),o.stateNode=a,tl(o))}return jn(o),null;case 5:if(ce(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&tl(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return jn(o),null}if(w=se.current,_i(o))Ey(o);else{var D=zf(xe.current);switch(w){case 1:w=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=D.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?D.createElement("select",{is:h.is}):D.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?D.createElement(v,{is:h.is}):D.createElement(v)}}w[Ie]=o,w[$e]=h;e:for(D=o.child;D!==null;){if(D.tag===5||D.tag===6)w.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===o)break e;for(;D.sibling===null;){if(D.return===null||D.return===o)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}o.stateNode=w;e:switch(wr(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&tl(o)}}return jn(o),bg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&tl(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(s(166));if(a=xe.current,_i(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,v=br,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[Ie]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Fw(a.nodeValue,c)),a||Ul(o,!0)}else a=zf(a).createTextNode(h),a[Ie]=o,o.stateNode=a}return jn(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=_i(o),c!==null){if(a===null){if(!h)throw Error(s(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[Ie]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jn(o),a=!1}else c=Tp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(fs(o),o):(fs(o),null);if((o.flags&128)!==0)throw Error(s(558))}return jn(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=_i(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(s(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Ie]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jn(o),v=!1}else v=Tp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(fs(o),o):(fs(o),null)}return fs(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Sf(o,o.updateQueue),jn(o),null);case 4:return X(),a===null&&Ug(o.stateNode.containerInfo),jn(o),null;case 10:return Za(o.type),jn(o),null;case 19:if(K(Un),h=o.memoizedState,h===null)return jn(o),null;if(v=(o.flags&128)!==0,w=h.rendering,w===null)if(v)hu(h,!1);else{if(Pn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=df(a),w!==null){for(o.flags|=128,hu(h,!1),a=w.updateQueue,o.updateQueue=a,Sf(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)wy(c,a),c=c.sibling;return te(Un,Un.current&1|2),Dt&&Ka(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&at()>Af&&(o.flags|=128,v=!0,hu(h,!1),o.lanes=4194304)}else{if(!v)if(a=df(w),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Sf(o,a),hu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Dt)return jn(o),null}else 2*at()-h.renderingStartTime>Af&&c!==536870912&&(o.flags|=128,v=!0,hu(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(a=h.last,a!==null?a.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=at(),a.sibling=null,c=Un.current,te(Un,v?c&1|2:c&1),Dt&&Ka(o,h.treeForkCount),a):(jn(o),null);case 22:case 23:return fs(o),Bp(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(jn(o),o.subtreeFlags&6&&(o.flags|=8192)):jn(o),c=o.updateQueue,c!==null&&Sf(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&K(Uo),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Za(Yn),jn(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function oA(a,o){switch(Ep(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Za(Yn),X(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ce(o),null;case 31:if(o.memoizedState!==null){if(fs(o),o.alternate===null)throw Error(s(340));$o()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(fs(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(s(340));$o()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(Un),null;case 4:return X(),null;case 10:return Za(o.type),null;case 22:case 23:return fs(o),Bp(),a!==null&&K(Uo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Za(Yn),null;case 25:return null;default:return null}}function W1(a,o){switch(Ep(o),o.tag){case 3:Za(Yn),X();break;case 26:case 27:case 5:ce(o);break;case 4:X();break;case 31:o.memoizedState!==null&&fs(o);break;case 13:fs(o);break;case 19:K(Un);break;case 10:Za(o.type);break;case 22:case 23:fs(o),Bp(),a!==null&&K(Uo);break;case 24:Za(Yn)}}function mu(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&a)===a){h=void 0;var w=c.create,D=c.inst;h=w(),D.destroy=h}c=c.next}while(c!==v)}}catch(F){an(o,o.return,F)}}function Yl(a,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&a)===a){var D=h.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,v=o;var Q=c,he=F;try{he()}catch(Ne){an(v,Q,Ne)}}}h=h.next}while(h!==w)}}catch(Ne){an(o,o.return,Ne)}}function K1(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{zy(o,c)}catch(h){an(a,a.return,h)}}}function X1(a,o,c){c.props=Vo(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){an(a,o,h)}}function pu(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(v){an(a,o,v)}}function ja(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){an(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){an(a,o,v)}else c.current=null}function Z1(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){an(a,a.return,v)}}function vg(a,o,c){try{var h=a.stateNode;AA(h,a.type,c,o),h[$e]=o}catch(v){an(a,a.return,v)}}function Q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&eo(a.type)||a.tag===4}function yg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&eo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wg(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Xr));else if(h!==4&&(h===27&&eo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(wg(a,o,c),a=a.sibling;a!==null;)wg(a,o,c),a=a.sibling}function Cf(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&eo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Cf(a,o,c),a=a.sibling;a!==null;)Cf(a,o,c),a=a.sibling}function J1(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);wr(o,h,c),o[Ie]=a,o[$e]=c}catch(w){an(a,a.return,w)}}var nl=!1,Xn=!1,Ng=!1,ew=typeof WeakSet=="function"?WeakSet:Set,hr=null;function iA(a,o){if(a=a.containerInfo,Fg=Gf,a=fy(a),pp(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var D=0,F=-1,Q=-1,he=0,Ne=0,Ee=a,pe=null;t:for(;;){for(var ye;Ee!==c||v!==0&&Ee.nodeType!==3||(F=D+v),Ee!==w||h!==0&&Ee.nodeType!==3||(Q=D+h),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(ye=Ee.firstChild)!==null;)pe=Ee,Ee=ye;for(;;){if(Ee===a)break t;if(pe===c&&++he===v&&(F=D),pe===w&&++Ne===h&&(Q=D),(ye=Ee.nextSibling)!==null)break;Ee=pe,pe=Ee.parentNode}Ee=ye}c=F===-1||Q===-1?null:{start:F,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Hg={focusedElem:a,selectionRange:c},Gf=!1,hr=o;hr!==null;)if(o=hr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,hr=a;else for(;hr!==null;){switch(o=hr,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=o,v=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var Fe=Vo(c.type,v);a=h.getSnapshotBeforeUpdate(Fe,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(it){an(c,c.return,it)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Yg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Yg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=o.sibling,a!==null){a.return=o.return,hr=a;break}hr=o.return}}function tw(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:sl(a,c),h&4&&mu(5,c);break;case 1:if(sl(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(D){an(c,c.return,D)}else{var v=Vo(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(D){an(c,c.return,D)}}h&64&&K1(c),h&512&&pu(c,c.return);break;case 3:if(sl(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{zy(a,o)}catch(D){an(c,c.return,D)}}break;case 27:o===null&&h&4&&J1(c);case 26:case 5:sl(a,c),o===null&&h&4&&Z1(c),h&512&&pu(c,c.return);break;case 12:sl(a,c);break;case 31:sl(a,c),h&4&&sw(a,c);break;case 13:sl(a,c),h&4&&aw(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=xA.bind(null,c),$A(a,c))));break;case 22:if(h=c.memoizedState!==null||nl,!h){o=o!==null&&o.memoizedState!==null||Xn,v=nl;var w=Xn;nl=h,(Xn=o)&&!w?al(a,c,(c.subtreeFlags&8772)!==0):sl(a,c),nl=v,Xn=w}break;case 30:break;default:sl(a,c)}}function nw(a){var o=a.alternate;o!==null&&(a.alternate=null,nw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&_r(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var kn=null,Zr=!1;function rl(a,o,c){for(c=c.child;c!==null;)rw(a,o,c),c=c.sibling}function rw(a,o,c){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Vn,c)}catch{}switch(c.tag){case 26:Xn||ja(c,o),rl(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xn||ja(c,o);var h=kn,v=Zr;eo(c.type)&&(kn=c.stateNode,Zr=!1),rl(a,o,c),Su(c.stateNode),kn=h,Zr=v;break;case 5:Xn||ja(c,o);case 6:if(h=kn,v=Zr,kn=null,rl(a,o,c),kn=h,Zr=v,kn!==null)if(Zr)try{(kn.nodeType===9?kn.body:kn.nodeName==="HTML"?kn.ownerDocument.body:kn).removeChild(c.stateNode)}catch(w){an(c,o,w)}else try{kn.removeChild(c.stateNode)}catch(w){an(c,o,w)}break;case 18:kn!==null&&(Zr?(a=kn,Kw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),tc(a)):Kw(kn,c.stateNode));break;case 4:h=kn,v=Zr,kn=c.stateNode.containerInfo,Zr=!0,rl(a,o,c),kn=h,Zr=v;break;case 0:case 11:case 14:case 15:Yl(2,c,o),Xn||Yl(4,c,o),rl(a,o,c);break;case 1:Xn||(ja(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&X1(c,o,h)),rl(a,o,c);break;case 21:rl(a,o,c);break;case 22:Xn=(h=Xn)||c.memoizedState!==null,rl(a,o,c),Xn=h;break;default:rl(a,o,c)}}function sw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{tc(a)}catch(c){an(o,o.return,c)}}}function aw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{tc(a)}catch(c){an(o,o.return,c)}}function cA(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new ew),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new ew),o;default:throw Error(s(435,a.tag))}}function Ef(a,o){var c=cA(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var v=bA.bind(null,a,h);h.then(v,v)}})}function Qr(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],w=a,D=o,F=D;e:for(;F!==null;){switch(F.tag){case 27:if(eo(F.type)){kn=F.stateNode,Zr=!1;break e}break;case 5:kn=F.stateNode,Zr=!1;break e;case 3:case 4:kn=F.stateNode.containerInfo,Zr=!0;break e}F=F.return}if(kn===null)throw Error(s(160));rw(w,D,v),kn=null,Zr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)lw(o,a),o=o.sibling}var Xs=null;function lw(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Qr(o,a),Jr(a),h&4&&(Yl(3,a,a.return),mu(3,a),Yl(5,a,a.return));break;case 1:Qr(o,a),Jr(a),h&512&&(Xn||c===null||ja(c,c.return)),h&64&&nl&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Xs;if(Qr(o,a),Jr(a),h&512&&(Xn||c===null||ja(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Lt]||w[Ie]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),wr(w,h,c),w[Ie]=a,un(w),h=w;break e;case"link":var D=lN("link","href",v).get(h+(c.href||""));if(D){for(var F=0;F<D.length;F++)if(w=D[F],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice(F,1);break t}}w=v.createElement(h),wr(w,h,c),v.head.appendChild(w);break;case"meta":if(D=lN("meta","content",v).get(h+(c.content||""))){for(F=0;F<D.length;F++)if(w=D[F],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice(F,1);break t}}w=v.createElement(h),wr(w,h,c),v.head.appendChild(w);break;default:throw Error(s(468,h))}w[Ie]=a,un(w),h=w}a.stateNode=h}else oN(v,a.type,a.stateNode);else a.stateNode=aN(v,h,a.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?oN(v,a.type,a.stateNode):aN(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&vg(a,a.memoizedProps,c.memoizedProps)}break;case 27:Qr(o,a),Jr(a),h&512&&(Xn||c===null||ja(c,c.return)),c!==null&&h&4&&vg(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Qr(o,a),Jr(a),h&512&&(Xn||c===null||ja(c,c.return)),a.flags&32){v=a.stateNode;try{kr(v,"")}catch(Fe){an(a,a.return,Fe)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,vg(a,v,c!==null?c.memoizedProps:v)),h&1024&&(Ng=!0);break;case 6:if(Qr(o,a),Jr(a),h&4){if(a.stateNode===null)throw Error(s(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(Fe){an(a,a.return,Fe)}}break;case 3:if(qf=null,v=Xs,Xs=Uf(o.containerInfo),Qr(o,a),Xs=v,Jr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{tc(o.containerInfo)}catch(Fe){an(a,a.return,Fe)}Ng&&(Ng=!1,ow(a));break;case 4:h=Xs,Xs=Uf(a.stateNode.containerInfo),Qr(o,a),Jr(a),Xs=h;break;case 12:Qr(o,a),Jr(a);break;case 31:Qr(o,a),Jr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ef(a,h)));break;case 13:Qr(o,a),Jr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Tf=at()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ef(a,h)));break;case 22:v=a.memoizedState!==null;var Q=c!==null&&c.memoizedState!==null,he=nl,Ne=Xn;if(nl=he||v,Xn=Ne||Q,Qr(o,a),Xn=Ne,nl=he,Jr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||Q||nl||Xn||Go(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){Q=c=o;try{if(w=Q.stateNode,v)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=Q.stateNode;var Ee=Q.memoizedProps.style,pe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;F.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Fe){an(Q,Q.return,Fe)}}}else if(o.tag===6){if(c===null){Q=o;try{Q.stateNode.nodeValue=v?"":Q.memoizedProps}catch(Fe){an(Q,Q.return,Fe)}}}else if(o.tag===18){if(c===null){Q=o;try{var ye=Q.stateNode;v?Xw(ye,!0):Xw(Q.stateNode,!1)}catch(Fe){an(Q,Q.return,Fe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Ef(a,c))));break;case 19:Qr(o,a),Jr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ef(a,h)));break;case 30:break;case 21:break;default:Qr(o,a),Jr(a)}}function Jr(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(Q1(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var v=c.stateNode,w=yg(a);Cf(a,w,v);break;case 5:var D=c.stateNode;c.flags&32&&(kr(D,""),c.flags&=-33);var F=yg(a);Cf(a,F,D);break;case 3:case 4:var Q=c.stateNode.containerInfo,he=yg(a);wg(a,he,Q);break;default:throw Error(s(161))}}catch(Ne){an(a,a.return,Ne)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ow(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;ow(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function sl(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)tw(a,o.alternate,o),o=o.sibling}function Go(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Yl(4,o,o.return),Go(o);break;case 1:ja(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&X1(o,o.return,c),Go(o);break;case 27:Su(o.stateNode);case 26:case 5:ja(o,o.return),Go(o);break;case 22:o.memoizedState===null&&Go(o);break;case 30:Go(o);break;default:Go(o)}a=a.sibling}}function al(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,w=o,D=w.flags;switch(w.tag){case 0:case 11:case 15:al(v,w,c),mu(4,w);break;case 1:if(al(v,w,c),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){an(h,h.return,he)}if(h=w,v=h.updateQueue,v!==null){var F=h.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)Iy(Q[v],F)}catch(he){an(h,h.return,he)}}c&&D&64&&K1(w),pu(w,w.return);break;case 27:J1(w);case 26:case 5:al(v,w,c),c&&h===null&&D&4&&Z1(w),pu(w,w.return);break;case 12:al(v,w,c);break;case 31:al(v,w,c),c&&D&4&&sw(v,w);break;case 13:al(v,w,c),c&&D&4&&aw(v,w);break;case 22:w.memoizedState===null&&al(v,w,c),pu(w,w.return);break;case 30:break;default:al(v,w,c)}o=o.sibling}}function jg(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&tu(c))}function Sg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tu(a))}function Zs(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)iw(a,o,c,h),o=o.sibling}function iw(a,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Zs(a,o,c,h),v&2048&&mu(9,o);break;case 1:Zs(a,o,c,h);break;case 3:Zs(a,o,c,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tu(a)));break;case 12:if(v&2048){Zs(a,o,c,h),a=o.stateNode;try{var w=o.memoizedProps,D=w.id,F=w.onPostCommit;typeof F=="function"&&F(D,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){an(o,o.return,Q)}}else Zs(a,o,c,h);break;case 31:Zs(a,o,c,h);break;case 13:Zs(a,o,c,h);break;case 23:break;case 22:w=o.stateNode,D=o.alternate,o.memoizedState!==null?w._visibility&2?Zs(a,o,c,h):gu(a,o):w._visibility&2?Zs(a,o,c,h):(w._visibility|=2,Hi(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&jg(D,o);break;case 24:Zs(a,o,c,h),v&2048&&Sg(o.alternate,o);break;default:Zs(a,o,c,h)}}function Hi(a,o,c,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,D=o,F=c,Q=h,he=D.flags;switch(D.tag){case 0:case 11:case 15:Hi(w,D,F,Q,v),mu(8,D);break;case 23:break;case 22:var Ne=D.stateNode;D.memoizedState!==null?Ne._visibility&2?Hi(w,D,F,Q,v):gu(w,D):(Ne._visibility|=2,Hi(w,D,F,Q,v)),v&&he&2048&&jg(D.alternate,D);break;case 24:Hi(w,D,F,Q,v),v&&he&2048&&Sg(D.alternate,D);break;default:Hi(w,D,F,Q,v)}o=o.sibling}}function gu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,v=h.flags;switch(h.tag){case 22:gu(c,h),v&2048&&jg(h.alternate,h);break;case 24:gu(c,h),v&2048&&Sg(h.alternate,h);break;default:gu(c,h)}o=o.sibling}}var xu=8192;function Vi(a,o,c){if(a.subtreeFlags&xu)for(a=a.child;a!==null;)cw(a,o,c),a=a.sibling}function cw(a,o,c){switch(a.tag){case 26:Vi(a,o,c),a.flags&xu&&a.memoizedState!==null&&KA(c,Xs,a.memoizedState,a.memoizedProps);break;case 5:Vi(a,o,c);break;case 3:case 4:var h=Xs;Xs=Uf(a.stateNode.containerInfo),Vi(a,o,c),Xs=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=xu,xu=16777216,Vi(a,o,c),xu=h):Vi(a,o,c));break;default:Vi(a,o,c)}}function uw(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function bu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];hr=h,fw(h,a)}uw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dw(a),a=a.sibling}function dw(a){switch(a.tag){case 0:case 11:case 15:bu(a),a.flags&2048&&Yl(9,a,a.return);break;case 3:bu(a);break;case 12:bu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,kf(a)):bu(a);break;default:bu(a)}}function kf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];hr=h,fw(h,a)}uw(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Yl(8,o,o.return),kf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,kf(o));break;default:kf(o)}a=a.sibling}}function fw(a,o){for(;hr!==null;){var c=hr;switch(c.tag){case 0:case 11:case 15:Yl(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:tu(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,hr=h;else e:for(c=a;hr!==null;){h=hr;var v=h.sibling,w=h.return;if(nw(h),h===c){hr=null;break e}if(v!==null){v.return=w,hr=v;break e}hr=w}}}var uA={getCacheForType:function(a){var o=vr(Yn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return vr(Yn).controller.signal}},dA=typeof WeakMap=="function"?WeakMap:Map,Wt=0,xn=null,Tt=null,Ot=0,sn=0,hs=null,Wl=!1,Gi=!1,Cg=!1,ll=0,Pn=0,Kl=0,Yo=0,Eg=0,ms=0,Yi=0,vu=null,es=null,kg=!1,Tf=0,hw=0,Af=1/0,Rf=null,Xl=null,sr=0,Zl=null,Wi=null,ol=0,Tg=0,Ag=null,mw=null,yu=0,Rg=null;function ps(){return(Wt&2)!==0&&Ot!==0?Ot&-Ot:$.T!==null?Pg():_e()}function pw(){if(ms===0)if((Ot&536870912)===0||Dt){var a=en;en<<=1,(en&3932160)===0&&(en=262144),ms=a}else ms=536870912;return a=ds.current,a!==null&&(a.flags|=32),ms}function ts(a,o,c){(a===xn&&(sn===2||sn===9)||a.cancelPendingCommit!==null)&&(Ki(a,0),Ql(a,Ot,ms,!1)),J(a,c),((Wt&2)===0||a!==xn)&&(a===xn&&((Wt&2)===0&&(Yo|=c),Pn===4&&Ql(a,Ot,ms,!1)),Sa(a))}function gw(a,o,c){if((Wt&6)!==0)throw Error(s(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||cn(a,o),v=h?mA(a,o):Mg(a,o,!0),w=h;do{if(v===0){Gi&&!h&&Ql(a,o,0,!1);break}else{if(c=a.current.alternate,w&&!fA(c)){v=Mg(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var F=a;v=vu;var Q=F.current.memoizedState.isDehydrated;if(Q&&(Ki(F,D).flags|=256),D=Mg(F,D,!1),D!==2){if(Cg&&!Q){F.errorRecoveryDisabledLanes|=w,Yo|=w,v=4;break e}w=es,es=v,w!==null&&(es===null?es=w:es.push.apply(es,w))}v=D}if(w=!1,v!==2)continue}}if(v===1){Ki(a,0),Ql(a,o,0,!0);break}e:{switch(h=a,w=v,w){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Ql(h,o,ms,!Wl);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(v=Tf+300-at(),10<v)){if(Ql(h,o,ms,!Wl),Ut(h,0,!0)!==0)break e;ol=o,h.timeoutHandle=Yw(xw.bind(null,h,c,es,Rf,kg,o,ms,Yo,Yi,Wl,w,"Throttled",-0,0),v);break e}xw(h,c,es,Rf,kg,o,ms,Yo,Yi,Wl,w,null,-0,0)}}break}while(!0);Sa(a)}function xw(a,o,c,h,v,w,D,F,Q,he,Ne,Ee,pe,ye){if(a.timeoutHandle=-1,Ee=o.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xr},cw(o,w,Ee);var Fe=(w&62914560)===w?Tf-at():(w&4194048)===w?hw-at():0;if(Fe=XA(Ee,Fe),Fe!==null){ol=w,a.cancelPendingCommit=Fe(Cw.bind(null,a,o,w,c,h,v,D,F,Q,Ne,Ee,null,pe,ye)),Ql(a,w,D,!he);return}}Cw(a,o,w,c,h,v,D,F,Q)}function fA(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],w=v.getSnapshot;v=v.value;try{if(!cs(w(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ql(a,o,c,h){o&=~Eg,o&=~Yo,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var w=31-Ue(v),D=1<<w;h[w]=-1,v&=~D}c!==0&&be(a,c,o)}function Of(){return(Wt&6)===0?(wu(0),!1):!0}function Og(){if(Tt!==null){if(sn===0)var a=Tt.return;else a=Tt,Xa=Io=null,Yp(a),zi=null,ru=0,a=Tt;for(;a!==null;)W1(a.alternate,a),a=a.return;Tt=null}}function Ki(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,MA(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ol=0,Og(),xn=a,Tt=c=Wa(a.current,null),Ot=o,sn=0,hs=null,Wl=!1,Gi=cn(a,o),Cg=!1,Yi=ms=Eg=Yo=Kl=Pn=0,es=vu=null,kg=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Ue(h),w=1<<v;o|=a[v],h&=~w}return ll=o,Zd(),c}function bw(a,o){bt=null,$.H=du,o===Ii||o===af?(o=_y(),sn=3):o===Dp?(o=_y(),sn=4):sn=o===cg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,hs=o,Tt===null&&(Pn=1,yf(a,ks(o,a.current)))}function vw(){var a=ds.current;return a===null?!0:(Ot&4194048)===Ot?Os===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?a===Os:!1}function yw(){var a=$.H;return $.H=du,a===null?du:a}function ww(){var a=$.A;return $.A=uA,a}function Mf(){Pn=4,Wl||(Ot&4194048)!==Ot&&ds.current!==null||(Gi=!0),(Kl&134217727)===0&&(Yo&134217727)===0||xn===null||Ql(xn,Ot,ms,!1)}function Mg(a,o,c){var h=Wt;Wt|=2;var v=yw(),w=ww();(xn!==a||Ot!==o)&&(Rf=null,Ki(a,o)),o=!1;var D=Pn;e:do try{if(sn!==0&&Tt!==null){var F=Tt,Q=hs;switch(sn){case 8:Og(),D=6;break e;case 3:case 2:case 9:case 6:ds.current===null&&(o=!0);var he=sn;if(sn=0,hs=null,Xi(a,F,Q,he),c&&Gi){D=0;break e}break;default:he=sn,sn=0,hs=null,Xi(a,F,Q,he)}}hA(),D=Pn;break}catch(Ne){bw(a,Ne)}while(!0);return o&&a.shellSuspendCounter++,Xa=Io=null,Wt=h,$.H=v,$.A=w,Tt===null&&(xn=null,Ot=0,Zd()),D}function hA(){for(;Tt!==null;)Nw(Tt)}function mA(a,o){var c=Wt;Wt|=2;var h=yw(),v=ww();xn!==a||Ot!==o?(Rf=null,Af=at()+500,Ki(a,o)):Gi=cn(a,o);e:do try{if(sn!==0&&Tt!==null){o=Tt;var w=hs;t:switch(sn){case 1:sn=0,hs=null,Xi(a,o,w,1);break;case 2:case 9:if(My(w)){sn=0,hs=null,jw(o);break}o=function(){sn!==2&&sn!==9||xn!==a||(sn=7),Sa(a)},w.then(o,o);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:My(w)?(sn=0,hs=null,jw(o)):(sn=0,hs=null,Xi(a,o,w,7));break;case 5:var D=null;switch(Tt.tag){case 26:D=Tt.memoizedState;case 5:case 27:var F=Tt;if(D?iN(D):F.stateNode.complete){sn=0,hs=null;var Q=F.sibling;if(Q!==null)Tt=Q;else{var he=F.return;he!==null?(Tt=he,Lf(he)):Tt=null}break t}}sn=0,hs=null,Xi(a,o,w,5);break;case 6:sn=0,hs=null,Xi(a,o,w,6);break;case 8:Og(),Pn=6;break e;default:throw Error(s(462))}}pA();break}catch(Ne){bw(a,Ne)}while(!0);return Xa=Io=null,$.H=h,$.A=v,Wt=c,Tt!==null?0:(xn=null,Ot=0,Zd(),Pn)}function pA(){for(;Tt!==null&&!yt();)Nw(Tt)}function Nw(a){var o=G1(a.alternate,a,ll);a.memoizedProps=a.pendingProps,o===null?Lf(a):Tt=o}function jw(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=U1(c,o,o.pendingProps,o.type,void 0,Ot);break;case 11:o=U1(c,o,o.pendingProps,o.type.render,o.ref,Ot);break;case 5:Yp(o);default:W1(c,o),o=Tt=wy(o,ll),o=G1(c,o,ll)}a.memoizedProps=a.pendingProps,o===null?Lf(a):Tt=o}function Xi(a,o,c,h){Xa=Io=null,Yp(o),zi=null,ru=0;var v=o.return;try{if(rA(a,v,o,c,Ot)){Pn=1,yf(a,ks(c,a.current)),Tt=null;return}}catch(w){if(v!==null)throw Tt=v,w;Pn=1,yf(a,ks(c,a.current)),Tt=null;return}o.flags&32768?(Dt||h===1?a=!0:Gi||(Ot&536870912)!==0?a=!1:(Wl=a=!0,(h===2||h===9||h===3||h===6)&&(h=ds.current,h!==null&&h.tag===13&&(h.flags|=16384))),Sw(o,a)):Lf(o)}function Lf(a){var o=a;do{if((o.flags&32768)!==0){Sw(o,Wl);return}a=o.return;var c=lA(o.alternate,o,ll);if(c!==null){Tt=c;return}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=a}while(o!==null);Pn===0&&(Pn=5)}function Sw(a,o){do{var c=oA(a.alternate,a);if(c!==null){c.flags&=32767,Tt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Tt=a;return}Tt=a=c}while(a!==null);Pn=6,Tt=null}function Cw(a,o,c,h,v,w,D,F,Q){a.cancelPendingCommit=null;do _f();while(sr!==0);if((Wt&6)!==0)throw Error(s(327));if(o!==null){if(o===a.current)throw Error(s(177));if(w=o.lanes|o.childLanes,w|=yp,le(a,c,w,D,F,Q),a===xn&&(Tt=xn=null,Ot=0),Wi=o,Zl=a,ol=c,Tg=w,Ag=v,mw=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,vA(Vt,function(){return Rw(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,v=W.p,W.p=2,D=Wt,Wt|=4;try{iA(a,o,c)}finally{Wt=D,W.p=v,$.T=h}}sr=1,Ew(),kw(),Tw()}}function Ew(){if(sr===1){sr=0;var a=Zl,o=Wi,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var h=W.p;W.p=2;var v=Wt;Wt|=4;try{lw(o,a);var w=Hg,D=fy(a.containerInfo),F=w.focusedElem,Q=w.selectionRange;if(D!==F&&F&&F.ownerDocument&&dy(F.ownerDocument.documentElement,F)){if(Q!==null&&pp(F)){var he=Q.start,Ne=Q.end;if(Ne===void 0&&(Ne=he),"selectionStart"in F)F.selectionStart=he,F.selectionEnd=Math.min(Ne,F.value.length);else{var Ee=F.ownerDocument||document,pe=Ee&&Ee.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),Fe=F.textContent.length,it=Math.min(Q.start,Fe),hn=Q.end===void 0?it:Math.min(Q.end,Fe);!ye.extend&&it>hn&&(D=hn,hn=it,it=D);var ie=uy(F,it),re=uy(F,hn);if(ie&&re&&(ye.rangeCount!==1||ye.anchorNode!==ie.node||ye.anchorOffset!==ie.offset||ye.focusNode!==re.node||ye.focusOffset!==re.offset)){var fe=Ee.createRange();fe.setStart(ie.node,ie.offset),ye.removeAllRanges(),it>hn?(ye.addRange(fe),ye.extend(re.node,re.offset)):(fe.setEnd(re.node,re.offset),ye.addRange(fe))}}}}for(Ee=[],ye=F;ye=ye.parentNode;)ye.nodeType===1&&Ee.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ee.length;F++){var Ce=Ee[F];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Gf=!!Fg,Hg=Fg=null}finally{Wt=v,W.p=h,$.T=c}}a.current=o,sr=2}}function kw(){if(sr===2){sr=0;var a=Zl,o=Wi,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var h=W.p;W.p=2;var v=Wt;Wt|=4;try{tw(a,o.alternate,o)}finally{Wt=v,W.p=h,$.T=c}}sr=3}}function Tw(){if(sr===4||sr===3){sr=0,Ct();var a=Zl,o=Wi,c=ol,h=mw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?sr=5:(sr=0,Wi=Zl=null,Aw(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Xl=null),qe(c),o=o.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Vn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=$.T,v=W.p,W.p=2,$.T=null;try{for(var w=a.onRecoverableError,D=0;D<h.length;D++){var F=h[D];w(F.value,{componentStack:F.stack})}}finally{$.T=o,W.p=v}}(ol&3)!==0&&_f(),Sa(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===Rg?yu++:(yu=0,Rg=a):yu=0,wu(0)}}function Aw(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,tu(o)))}function _f(){return Ew(),kw(),Tw(),Rw()}function Rw(){if(sr!==5)return!1;var a=Zl,o=Tg;Tg=0;var c=qe(ol),h=$.T,v=W.p;try{W.p=32>c?32:c,$.T=null,c=Ag,Ag=null;var w=Zl,D=ol;if(sr=0,Wi=Zl=null,ol=0,(Wt&6)!==0)throw Error(s(331));var F=Wt;if(Wt|=4,dw(w.current),iw(w,w.current,D,c),Wt=F,wu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Vn,w)}catch{}return!0}finally{W.p=v,$.T=h,Aw(a,o)}}function Ow(a,o,c){o=ks(c,o),o=ig(a.stateNode,o,2),a=Hl(a,o,2),a!==null&&(J(a,2),Sa(a))}function an(a,o,c){if(a.tag===3)Ow(a,a,c);else for(;o!==null;){if(o.tag===3){Ow(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Xl===null||!Xl.has(h))){a=ks(c,a),c=M1(2),h=Hl(o,c,2),h!==null&&(L1(c,h,o,a),J(h,2),Sa(h));break}}o=o.return}}function Lg(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new dA;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(Cg=!0,v.add(c),a=gA.bind(null,a,o,c),o.then(a,a))}function gA(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,xn===a&&(Ot&c)===c&&(Pn===4||Pn===3&&(Ot&62914560)===Ot&&300>at()-Tf?(Wt&2)===0&&Ki(a,0):Eg|=c,Yi===Ot&&(Yi=0)),Sa(a)}function Mw(a,o){o===0&&(o=In()),a=Do(a,o),a!==null&&(J(a,o),Sa(a))}function xA(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Mw(a,c)}function bA(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(o),Mw(a,c)}function vA(a,o){return rt(a,o)}var Df=null,Zi=null,_g=!1,Pf=!1,Dg=!1,Jl=0;function Sa(a){a!==Zi&&a.next===null&&(Zi===null?Df=Zi=a:Zi=Zi.next=a),Pf=!0,_g||(_g=!0,wA())}function wu(a,o){if(!Dg&&Pf){Dg=!0;do for(var c=!1,h=Df;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var D=h.suspendedLanes,F=h.pingedLanes;w=(1<<31-Ue(42|a)+1)-1,w&=v&~(D&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Pw(h,w))}else w=Ot,w=Ut(h,h===xn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||cn(h,w)||(c=!0,Pw(h,w));h=h.next}while(c);Dg=!1}}function yA(){Lw()}function Lw(){Pf=_g=!1;var a=0;Jl!==0&&OA()&&(a=Jl);for(var o=at(),c=null,h=Df;h!==null;){var v=h.next,w=_w(h,o);w===0?(h.next=null,c===null?Df=v:c.next=v,v===null&&(Zi=c)):(c=h,(a!==0||(w&3)!==0)&&(Pf=!0)),h=v}sr!==0&&sr!==5||wu(a),Jl!==0&&(Jl=0)}function _w(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var D=31-Ue(w),F=1<<D,Q=v[D];Q===-1?((F&c)===0||(F&h)!==0)&&(v[D]=dr(F,o)):Q<=o&&(a.expiredLanes|=F),w&=~F}if(o=xn,c=Ot,c=Ut(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(sn===2||sn===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&ut(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||cn(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&ut(h),qe(c)){case 2:case 8:c=pt;break;case 32:c=Vt;break;case 268435456:c=zt;break;default:c=Vt}return h=Dw.bind(null,a),c=rt(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&ut(h),a.callbackPriority=2,a.callbackNode=null,2}function Dw(a,o){if(sr!==0&&sr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(_f()&&a.callbackNode!==c)return null;var h=Ot;return h=Ut(a,a===xn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(gw(a,h,o),_w(a,at()),a.callbackNode!=null&&a.callbackNode===c?Dw.bind(null,a):null)}function Pw(a,o){if(_f())return null;gw(a,o,!0)}function wA(){LA(function(){(Wt&6)!==0?rt(mt,yA):Lw()})}function Pg(){if(Jl===0){var a=Pi;a===0&&(a=on,on<<=1,(on&261888)===0&&(on=256)),Jl=a}return Jl}function $w(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ll(""+a)}function Iw(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function NA(a,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var w=$w((v[$e]||null).action),D=h.submitter;D&&(o=(o=D[$e]||null)?$w(o.formAction):D.getAttribute("formAction"),o!==null&&(w=o,D=null));var F=new Xe("action","action",null,h,v);a.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Jl!==0){var Q=D?Iw(v,D):new FormData(v);ng(c,{pending:!0,data:Q,method:v.method,action:w},null,Q)}}else typeof w=="function"&&(F.preventDefault(),Q=D?Iw(v,D):new FormData(v),ng(c,{pending:!0,data:Q,method:v.method,action:w},w,Q))},currentTarget:v}]})}}for(var $g=0;$g<vp.length;$g++){var Ig=vp[$g],jA=Ig.toLowerCase(),SA=Ig[0].toUpperCase()+Ig.slice(1);Ks(jA,"on"+SA)}Ks(py,"onAnimationEnd"),Ks(gy,"onAnimationIteration"),Ks(xy,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(UT,"onTransitionRun"),Ks(BT,"onTransitionStart"),Ks(qT,"onTransitionCancel"),Ks(by,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function zw(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var D=h.length-1;0<=D;D--){var F=h[D],Q=F.instance,he=F.currentTarget;if(F=F.listener,Q!==w&&v.isPropagationStopped())break e;w=F,v.currentTarget=he;try{w(v)}catch(Ne){Xd(Ne)}v.currentTarget=null,w=Q}else for(D=0;D<h.length;D++){if(F=h[D],Q=F.instance,he=F.currentTarget,F=F.listener,Q!==w&&v.isPropagationStopped())break e;w=F,v.currentTarget=he;try{w(v)}catch(Ne){Xd(Ne)}v.currentTarget=null,w=Q}}}}function At(a,o){var c=o[dt];c===void 0&&(c=o[dt]=new Set);var h=a+"__bubble";c.has(h)||(Uw(o,a,2,!1),c.add(h))}function zg(a,o,c){var h=0;o&&(h|=4),Uw(c,a,h,o)}var $f="_reactListening"+Math.random().toString(36).slice(2);function Ug(a){if(!a[$f]){a[$f]=!0,Gr.forEach(function(c){c!=="selectionchange"&&(CA.has(c)||zg(c,!1,a),zg(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[$f]||(o[$f]=!0,zg("selectionchange",!1,o))}}function Uw(a,o,c,h){switch(pN(o)){case 2:var v=JA;break;case 8:v=eR;break;default:v=tx}c=v.bind(null,o,c,a),v=void 0,!Pl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function Bg(a,o,c,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var F=h.stateNode.containerInfo;if(F===v)break;if(D===4)for(D=h.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;F!==null;){if(D=gn(F),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){h=w=D;continue e}F=F.parentNode}}h=h.return}ji(function(){var he=w,Ne=_l(c),Ee=[];e:{var pe=vy.get(a);if(pe!==void 0){var ye=Xe,Fe=a;switch(a){case"keypress":if(R(c)===0)break e;case"keydown":case"keyup":ye=bT;break;case"focusin":Fe="focus",ye=is;break;case"focusout":Fe="blur",ye=is;break;case"beforeblur":case"afterblur":ye=is;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=wT;break;case py:case gy:case xy:ye=Wd;break;case by:ye=jT;break;case"scroll":case"scrollend":ye=_t;break;case"wheel":ye=CT;break;case"copy":case"cut":case"paste":ye=Ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=X0;break;case"toggle":case"beforetoggle":ye=kT}var it=(o&4)!==0,hn=!it&&(a==="scroll"||a==="scrollend"),ie=it?pe!==null?pe+"Capture":null:pe;it=[];for(var re=he,fe;re!==null;){var Ce=re;if(fe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||fe===null||ie===null||(Ce=va(re,ie),Ce!=null&&it.push(ju(re,Ce,fe))),hn)break;re=re.return}0<it.length&&(pe=new ye(pe,Fe,null,c,Ne),Ee.push({event:pe,listeners:it}))}}if((o&7)===0){e:{if(pe=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",pe&&c!==tr&&(Fe=c.relatedTarget||c.fromElement)&&(gn(Fe)||Fe[st]))break e;if((ye||pe)&&(pe=Ne.window===Ne?Ne:(pe=Ne.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Fe=c.relatedTarget||c.toElement,ye=he,Fe=Fe?gn(Fe):null,Fe!==null&&(hn=i(Fe),it=Fe.tag,Fe!==hn||it!==5&&it!==27&&it!==6)&&(Fe=null)):(ye=null,Fe=he),ye!==Fe)){if(it=_n,Ce="onMouseLeave",ie="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(it=X0,Ce="onPointerLeave",ie="onPointerEnter",re="pointer"),hn=ye==null?pe:Gn(ye),fe=Fe==null?pe:Gn(Fe),pe=new it(Ce,re+"leave",ye,c,Ne),pe.target=hn,pe.relatedTarget=fe,Ce=null,gn(Ne)===he&&(it=new it(ie,re+"enter",Fe,c,Ne),it.target=fe,it.relatedTarget=hn,Ce=it),hn=Ce,ye&&Fe)t:{for(it=EA,ie=ye,re=Fe,fe=0,Ce=ie;Ce;Ce=it(Ce))fe++;Ce=0;for(var tt=re;tt;tt=it(tt))Ce++;for(;0<fe-Ce;)ie=it(ie),fe--;for(;0<Ce-fe;)re=it(re),Ce--;for(;fe--;){if(ie===re||re!==null&&ie===re.alternate){it=ie;break t}ie=it(ie),re=it(re)}it=null}else it=null;ye!==null&&Bw(Ee,pe,ye,it,!1),Fe!==null&&hn!==null&&Bw(Ee,hn,Fe,it,!0)}}e:{if(pe=he?Gn(he):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var Ft=sy;else if(ny(pe))if(ay)Ft=$T;else{Ft=DT;var Ze=_T}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Mo(he.elementType)&&(Ft=sy):Ft=PT;if(Ft&&(Ft=Ft(a,he))){ry(Ee,Ft,c,Ne);break e}Ze&&Ze(a,pe,he),a==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&Oo(pe,"number",pe.value)}switch(Ze=he?Gn(he):window,a){case"focusin":(ny(Ze)||Ze.contentEditable==="true")&&(Ti=Ze,gp=he,Qc=null);break;case"focusout":Qc=gp=Ti=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,hy(Ee,c,Ne);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":hy(Ee,c,Ne)}var wt;if(fp)e:{switch(a){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else ki?ey(a,c)&&(Mt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Mt="onCompositionStart");Mt&&(Z0&&c.locale!=="ko"&&(ki||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ki&&(wt=Si()):(os=Ne,Ga="value"in os?os.value:os.textContent,ki=!0)),Ze=If(he,Mt),0<Ze.length&&(Mt=new K0(Mt,a,null,c,Ne),Ee.push({event:Mt,listeners:Ze}),wt?Mt.data=wt:(wt=ty(c),wt!==null&&(Mt.data=wt)))),(wt=AT?RT(a,c):OT(a,c))&&(Mt=If(he,"onBeforeInput"),0<Mt.length&&(Ze=new K0("onBeforeInput","beforeinput",null,c,Ne),Ee.push({event:Ze,listeners:Mt}),Ze.data=wt)),NA(Ee,a,he,c,Ne)}zw(Ee,o)})}function ju(a,o,c){return{instance:a,listener:o,currentTarget:c}}function If(a,o){for(var c=o+"Capture",h=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=va(a,c),v!=null&&h.unshift(ju(a,v,w)),v=va(a,o),v!=null&&h.push(ju(a,v,w))),a.tag===3)return h;a=a.return}return[]}function EA(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Bw(a,o,c,h,v){for(var w=o._reactName,D=[];c!==null&&c!==h;){var F=c,Q=F.alternate,he=F.stateNode;if(F=F.tag,Q!==null&&Q===h)break;F!==5&&F!==26&&F!==27||he===null||(Q=he,v?(he=va(c,w),he!=null&&D.unshift(ju(c,he,Q))):v||(he=va(c,w),he!=null&&D.push(ju(c,he,Q)))),c=c.return}D.length!==0&&a.push({event:o,listeners:D})}var kA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function qw(a){return(typeof a=="string"?a:""+a).replace(kA,`
`).replace(TA,"")}function Fw(a,o){return o=qw(o),qw(a)===o}function fn(a,o,c,h,v,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||kr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&kr(a,""+h);break;case"className":Gs(a,"class",h);break;case"tabIndex":Gs(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(a,c,h);break;case"style":as(a,h,w);break;case"data":if(o!=="object"){Gs(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ll(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&fn(a,o,"name",v.name,v,null),fn(a,o,"formEncType",v.formEncType,v,null),fn(a,o,"formMethod",v.formMethod,v,null),fn(a,o,"formTarget",v.formTarget,v,null)):(fn(a,o,"encType",v.encType,v,null),fn(a,o,"method",v.method,v,null),fn(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Ll(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Xr);break;case"onScroll":h!=null&&At("scroll",a);break;case"onScrollEnd":h!=null&&At("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Ll(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":At("beforetoggle",a),At("toggle",a),ss(a,"popover",h);break;case"xlinkActuate":Pr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Pr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Pr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Pr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Pr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Pr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Pr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Pr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Pr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ss(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gc.get(c)||c,ss(a,c,h))}}function qg(a,o,c,h,v,w){switch(c){case"style":as(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"children":typeof h=="string"?kr(a,h):(typeof h=="number"||typeof h=="bigint")&&kr(a,""+h);break;case"onScroll":h!=null&&At("scroll",a);break;case"onScrollEnd":h!=null&&At("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),w=a[$e]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,v);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):ss(a,c,h)}}}function wr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",a),At("load",a);var h=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var D=c[w];if(D!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:fn(a,o,w,D,c,null)}}v&&fn(a,o,"srcSet",c.srcSet,c,null),h&&fn(a,o,"src",c.src,c,null);return;case"input":At("invalid",a);var F=w=D=v=null,Q=null,he=null;for(h in c)if(c.hasOwnProperty(h)){var Ne=c[h];if(Ne!=null)switch(h){case"name":v=Ne;break;case"type":D=Ne;break;case"checked":Q=Ne;break;case"defaultChecked":he=Ne;break;case"value":w=Ne;break;case"defaultValue":F=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,o));break;default:fn(a,o,h,Ne,c,null)}}Ml(a,w,F,Q,he,D,v,!1);return;case"select":At("invalid",a),h=D=w=null;for(v in c)if(c.hasOwnProperty(v)&&(F=c[v],F!=null))switch(v){case"value":w=F;break;case"defaultValue":D=F;break;case"multiple":h=F;default:fn(a,o,v,F,c,null)}o=w,c=D,a.multiple=!!h,o!=null?ga(a,!!h,o,!1):c!=null&&ga(a,!!h,c,!0);return;case"textarea":At("invalid",a),w=v=h=null;for(D in c)if(c.hasOwnProperty(D)&&(F=c[D],F!=null))switch(D){case"value":h=F;break;case"defaultValue":v=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:fn(a,o,D,F,c,null)}Kr(a,h,v,w);return;case"option":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fn(a,o,Q,h,c,null)}return;case"dialog":At("beforetoggle",a),At("toggle",a),At("cancel",a),At("close",a);break;case"iframe":case"object":At("load",a);break;case"video":case"audio":for(h=0;h<Nu.length;h++)At(Nu[h],a);break;case"image":At("error",a),At("load",a);break;case"details":At("toggle",a);break;case"embed":case"source":case"link":At("error",a),At("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(h=c[he],h!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:fn(a,o,he,h,c,null)}return;default:if(Mo(o)){for(Ne in c)c.hasOwnProperty(Ne)&&(h=c[Ne],h!==void 0&&qg(a,o,Ne,h,c,void 0));return}}for(F in c)c.hasOwnProperty(F)&&(h=c[F],h!=null&&fn(a,o,F,h,c,null))}function AA(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,D=null,F=null,Q=null,he=null,Ne=null;for(ye in c){var Ee=c[ye];if(c.hasOwnProperty(ye)&&Ee!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=Ee;default:h.hasOwnProperty(ye)||fn(a,o,ye,null,h,Ee)}}for(var pe in h){var ye=h[pe];if(Ee=c[pe],h.hasOwnProperty(pe)&&(ye!=null||Ee!=null))switch(pe){case"type":w=ye;break;case"name":v=ye;break;case"checked":he=ye;break;case"defaultChecked":Ne=ye;break;case"value":D=ye;break;case"defaultValue":F=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,o));break;default:ye!==Ee&&fn(a,o,pe,ye,h,Ee)}}Ro(a,D,F,Q,he,Ne,w,v);return;case"select":ye=D=F=pe=null;for(w in c)if(Q=c[w],c.hasOwnProperty(w)&&Q!=null)switch(w){case"value":break;case"multiple":ye=Q;default:h.hasOwnProperty(w)||fn(a,o,w,null,h,Q)}for(v in h)if(w=h[v],Q=c[v],h.hasOwnProperty(v)&&(w!=null||Q!=null))switch(v){case"value":pe=w;break;case"defaultValue":F=w;break;case"multiple":D=w;default:w!==Q&&fn(a,o,v,w,h,Q)}o=F,c=D,h=ye,pe!=null?ga(a,!!c,pe,!1):!!h!=!!c&&(o!=null?ga(a,!!c,o,!0):ga(a,!!c,c?[]:"",!1));return;case"textarea":ye=pe=null;for(F in c)if(v=c[F],c.hasOwnProperty(F)&&v!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:fn(a,o,F,null,h,v)}for(D in h)if(v=h[D],w=c[D],h.hasOwnProperty(D)&&(v!=null||w!=null))switch(D){case"value":pe=v;break;case"defaultValue":ye=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==w&&fn(a,o,D,v,h,w)}xa(a,pe,ye);return;case"option":for(var Fe in c)if(pe=c[Fe],c.hasOwnProperty(Fe)&&pe!=null&&!h.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:fn(a,o,Fe,null,h,pe)}for(Q in h)if(pe=h[Q],ye=c[Q],h.hasOwnProperty(Q)&&pe!==ye&&(pe!=null||ye!=null))switch(Q){case"selected":a.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:fn(a,o,Q,pe,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in c)pe=c[it],c.hasOwnProperty(it)&&pe!=null&&!h.hasOwnProperty(it)&&fn(a,o,it,null,h,pe);for(he in h)if(pe=h[he],ye=c[he],h.hasOwnProperty(he)&&pe!==ye&&(pe!=null||ye!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,o));break;default:fn(a,o,he,pe,h,ye)}return;default:if(Mo(o)){for(var hn in c)pe=c[hn],c.hasOwnProperty(hn)&&pe!==void 0&&!h.hasOwnProperty(hn)&&qg(a,o,hn,void 0,h,pe);for(Ne in h)pe=h[Ne],ye=c[Ne],!h.hasOwnProperty(Ne)||pe===ye||pe===void 0&&ye===void 0||qg(a,o,Ne,pe,h,ye);return}}for(var ie in c)pe=c[ie],c.hasOwnProperty(ie)&&pe!=null&&!h.hasOwnProperty(ie)&&fn(a,o,ie,null,h,pe);for(Ee in h)pe=h[Ee],ye=c[Ee],!h.hasOwnProperty(Ee)||pe===ye||pe==null&&ye==null||fn(a,o,Ee,pe,h,ye)}function Hw(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],w=v.transferSize,D=v.initiatorType,F=v.duration;if(w&&F&&Hw(D)){for(D=0,F=v.responseEnd,h+=1;h<c.length;h++){var Q=c[h],he=Q.startTime;if(he>F)break;var Ne=Q.transferSize,Ee=Q.initiatorType;Ne&&Hw(Ee)&&(Q=Q.responseEnd,D+=Ne*(Q<F?1:(F-he)/(Q-he)))}if(--h,o+=8*(w+D)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Fg=null,Hg=null;function zf(a){return a.nodeType===9?a:a.ownerDocument}function Vw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Vg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gg=null;function OA(){var a=window.event;return a&&a.type==="popstate"?a===Gg?!1:(Gg=a,!0):(Gg=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(a){return Ww.resolve(null).then(a).catch(_A)}:Yw;function _A(a){setTimeout(function(){throw a})}function eo(a){return a==="head"}function Kw(a,o){var c=o,h=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(v),tc(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Su(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Su(c);for(var w=c.firstChild;w;){var D=w.nextSibling,F=w.nodeName;w[Lt]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=D}}else c==="body"&&Su(a.ownerDocument.body);c=v}while(c);tc(o)}function Xw(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Yg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Yg(c),_r(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function DA(a,o,c,h){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Lt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ms(a.nextSibling),a===null)break}return null}function PA(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ms(a.nextSibling),a===null))return null;return a}function Zw(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ms(a.nextSibling),a===null))return null;return a}function Wg(a){return a.data==="$?"||a.data==="$~"}function Kg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $A(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ms(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Xg=null;function Qw(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ms(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function Jw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function eN(a,o,c){switch(o=zf(c),a){case"html":if(a=o.documentElement,!a)throw Error(s(452));return a;case"head":if(a=o.head,!a)throw Error(s(453));return a;case"body":if(a=o.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function Su(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);_r(a)}var Ls=new Map,tN=new Set;function Uf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var il=W.d;W.d={f:IA,r:zA,D:UA,C:BA,L:qA,m:FA,X:VA,S:HA,M:GA};function IA(){var a=il.f(),o=Of();return a||o}function zA(a){var o=Jn(a);o!==null&&o.tag===5&&o.type==="form"?b1(o):il.r(a)}var Qi=typeof document>"u"?null:document;function nN(a,o,c){var h=Qi;if(h&&typeof o=="string"&&o){var v=Er(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),tN.has(v)||(tN.add(v),a={rel:a,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),wr(o,"link",a),un(o),h.head.appendChild(o)))}}function UA(a){il.D(a),nN("dns-prefetch",a,null)}function BA(a,o){il.C(a,o),nN("preconnect",a,o)}function qA(a,o,c){il.L(a,o,c);var h=Qi;if(h&&a&&o){var v='link[rel="preload"][as="'+Er(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Er(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Er(c.imageSizes)+'"]')):v+='[href="'+Er(a)+'"]';var w=v;switch(o){case"style":w=Ji(a);break;case"script":w=ec(a)}Ls.has(w)||(a=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ls.set(w,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Cu(w))||o==="script"&&h.querySelector(Eu(w))||(o=h.createElement("link"),wr(o,"link",a),un(o),h.head.appendChild(o)))}}function FA(a,o){il.m(a,o);var c=Qi;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Er(h)+'"][href="'+Er(a)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ec(a)}if(!Ls.has(w)&&(a=x({rel:"modulepreload",href:a},o),Ls.set(w,a),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Eu(w)))return}h=c.createElement("link"),wr(h,"link",a),un(h),c.head.appendChild(h)}}}function HA(a,o,c){il.S(a,o,c);var h=Qi;if(h&&a){var v=Vr(h).hoistableStyles,w=Ji(a);o=o||"default";var D=v.get(w);if(!D){var F={loading:0,preload:null};if(D=h.querySelector(Cu(w)))F.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ls.get(w))&&Zg(a,c);var Q=D=h.createElement("link");un(Q),wr(Q,"link",a),Q._p=new Promise(function(he,Ne){Q.onload=he,Q.onerror=Ne}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Bf(D,o,h)}D={type:"stylesheet",instance:D,count:1,state:F},v.set(w,D)}}}function VA(a,o){il.X(a,o);var c=Qi;if(c&&a){var h=Vr(c).hoistableScripts,v=ec(a),w=h.get(v);w||(w=c.querySelector(Eu(v)),w||(a=x({src:a,async:!0},o),(o=Ls.get(v))&&Qg(a,o),w=c.createElement("script"),un(w),wr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function GA(a,o){il.M(a,o);var c=Qi;if(c&&a){var h=Vr(c).hoistableScripts,v=ec(a),w=h.get(v);w||(w=c.querySelector(Eu(v)),w||(a=x({src:a,async:!0,type:"module"},o),(o=Ls.get(v))&&Qg(a,o),w=c.createElement("script"),un(w),wr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function rN(a,o,c,h){var v=(v=xe.current)?Uf(v):null;if(!v)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ji(c.href),c=Vr(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ji(c.href);var w=Vr(v).hoistableStyles,D=w.get(a);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,D),(w=v.querySelector(Cu(a)))&&!w._p&&(D.instance=w,D.state.loading=5),Ls.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ls.set(a,c),w||YA(v,a,c,D.state))),o&&h===null)throw Error(s(528,""));return D}if(o&&h!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ec(c),c=Vr(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Ji(a){return'href="'+Er(a)+'"'}function Cu(a){return'link[rel="stylesheet"]['+a+"]"}function sN(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function YA(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),wr(o,"link",c),un(o),a.head.appendChild(o))}function ec(a){return'[src="'+Er(a)+'"]'}function Eu(a){return"script[async]"+a}function aN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Er(c.href)+'"]');if(h)return o.instance=h,un(h),h;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),un(h),wr(h,"style",v),Bf(h,c.precedence,a),o.instance=h;case"stylesheet":v=Ji(c.href);var w=a.querySelector(Cu(v));if(w)return o.state.loading|=4,o.instance=w,un(w),w;h=sN(c),(v=Ls.get(v))&&Zg(h,v),w=(a.ownerDocument||a).createElement("link"),un(w);var D=w;return D._p=new Promise(function(F,Q){D.onload=F,D.onerror=Q}),wr(w,"link",h),o.state.loading|=4,Bf(w,c.precedence,a),o.instance=w;case"script":return w=ec(c.src),(v=a.querySelector(Eu(w)))?(o.instance=v,un(v),v):(h=c,(v=Ls.get(w))&&(h=x({},c),Qg(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),un(v),wr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Bf(h,c.precedence,a));return o.instance}function Bf(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,D=0;D<h.length;D++){var F=h[D];if(F.dataset.precedence===o)w=F;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Zg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Qg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var qf=null;function lN(a,o,c){if(qf===null){var h=new Map,v=qf=new Map;v.set(c,h)}else v=qf,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var w=c[v];if(!(w[Lt]||w[Ie]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(o)||"";D=a+D;var F=h.get(D);F?F.push(w):h.set(D,[w])}}return h}function oN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function WA(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function KA(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Ji(h.href),w=o.querySelector(Cu(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Ff.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=w,un(w);return}w=o.ownerDocument||o,h=sN(h),(v=Ls.get(v))&&Zg(h,v),w=w.createElement("link"),un(w);var D=w;D._p=new Promise(function(F,Q){D.onload=F,D.onerror=Q}),wr(w,"link",h),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Ff.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Jg=0;function XA(a,o){return a.stylesheets&&a.count===0&&Vf(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Vf(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&Jg===0&&(Jg=62500*RA());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Vf(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Jg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hf=null;function Vf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hf=new Map,o.forEach(ZA,a),Hf=null,Ff.call(a))}function ZA(a,o){if(!(o.state.loading&4)){var c=Hf.get(a);if(c)var h=c.get(null);else{c=new Map,Hf.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var D=v[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),h=D)}h&&c.set(null,h)}v=o.instance,D=v.getAttribute("data-precedence"),w=c.get(D)||h,w===h&&c.set(null,v),c.set(D,v),this.count++,h=Ff.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ku={$$typeof:k,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function QA(a,o,c,h,v,w,D,F,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function cN(a,o,c,h,v,w,D,F,Q,he,Ne,Ee){return a=new QA(a,o,c,D,Q,he,Ne,Ee,F),o=1,w===!0&&(o|=24),w=us(3,null,null,o),a.current=w,w.stateNode=a,o=Mp(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},Pp(w),a}function uN(a){return a?(a=Oi,a):Oi}function dN(a,o,c,h,v,w){v=uN(v),h.context===null?h.context=v:h.pendingContext=v,h=Fl(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Hl(a,h,o),c!==null&&(ts(c,a,o),au(c,a,o))}function fN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function ex(a,o){fN(a,o),(a=a.alternate)&&fN(a,o)}function hN(a){if(a.tag===13||a.tag===31){var o=Do(a,67108864);o!==null&&ts(o,a,67108864),ex(a,67108864)}}function mN(a){if(a.tag===13||a.tag===31){var o=ps();o=Be(o);var c=Do(a,o);c!==null&&ts(c,a,o),ex(a,o)}}var Gf=!0;function JA(a,o,c,h){var v=$.T;$.T=null;var w=W.p;try{W.p=2,tx(a,o,c,h)}finally{W.p=w,$.T=v}}function eR(a,o,c,h){var v=$.T;$.T=null;var w=W.p;try{W.p=8,tx(a,o,c,h)}finally{W.p=w,$.T=v}}function tx(a,o,c,h){if(Gf){var v=nx(h);if(v===null)Bg(a,o,h,Yf,c),gN(a,h);else if(nR(v,a,o,c,h))h.stopPropagation();else if(gN(a,h),o&4&&-1<tR.indexOf(a)){for(;v!==null;){var w=Jn(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=bn(w.pendingLanes);if(D!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var Q=1<<31-Ue(D);F.entanglements[1]|=Q,D&=~Q}Sa(w),(Wt&6)===0&&(Af=at()+500,wu(0))}}break;case 31:case 13:F=Do(w,2),F!==null&&ts(F,w,2),Of(),ex(w,2)}if(w=nx(h),w===null&&Bg(a,o,h,Yf,c),w===v)break;v=w}v!==null&&h.stopPropagation()}else Bg(a,o,h,null,c)}}function nx(a){return a=_l(a),rx(a)}var Yf=null;function rx(a){if(Yf=null,a=gn(a),a!==null){var o=i(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=u(o),a!==null)return a;a=null}else if(c===31){if(a=d(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Yf=a,null}function pN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case mt:return 2;case pt:return 8;case Vt:case ur:return 32;case zt:return 268435456;default:return 32}default:return 32}}var sx=!1,to=null,no=null,ro=null,Tu=new Map,Au=new Map,so=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gN(a,o){switch(a){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(o.pointerId)}}function Ru(a,o,c,h,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Jn(o),o!==null&&hN(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function nR(a,o,c,h,v){switch(o){case"focusin":return to=Ru(to,a,o,c,h,v),!0;case"dragenter":return no=Ru(no,a,o,c,h,v),!0;case"mouseover":return ro=Ru(ro,a,o,c,h,v),!0;case"pointerover":var w=v.pointerId;return Tu.set(w,Ru(Tu.get(w)||null,a,o,c,h,v)),!0;case"gotpointercapture":return w=v.pointerId,Au.set(w,Ru(Au.get(w)||null,a,o,c,h,v)),!0}return!1}function xN(a){var o=gn(a.target);if(o!==null){var c=i(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){a.blockedOn=o,We(a.priority,function(){mN(c)});return}}else if(o===31){if(o=d(c),o!==null){a.blockedOn=o,We(a.priority,function(){mN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=nx(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);tr=h,c.target.dispatchEvent(h),tr=null}else return o=Jn(c),o!==null&&hN(o),a.blockedOn=c,!1;o.shift()}return!0}function bN(a,o,c){Wf(a)&&c.delete(o)}function rR(){sx=!1,to!==null&&Wf(to)&&(to=null),no!==null&&Wf(no)&&(no=null),ro!==null&&Wf(ro)&&(ro=null),Tu.forEach(bN),Au.forEach(bN)}function Kf(a,o){a.blockedOn===o&&(a.blockedOn=null,sx||(sx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rR)))}var Xf=null;function vN(a){Xf!==a&&(Xf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xf===a&&(Xf=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(rx(h||c)===null)continue;break}var w=Jn(c);w!==null&&(a.splice(o,3),o-=3,ng(w,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function tc(a){function o(Q){return Kf(Q,a)}to!==null&&Kf(to,a),no!==null&&Kf(no,a),ro!==null&&Kf(ro,a),Tu.forEach(o),Au.forEach(o);for(var c=0;c<so.length;c++){var h=so[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<so.length&&(c=so[0],c.blockedOn===null);)xN(c),c.blockedOn===null&&so.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],D=v[$e]||null;if(typeof w=="function")D||vN(c);else if(D){var F=null;if(w&&w.hasAttribute("formAction")){if(v=w,D=w[$e]||null)F=D.formAction;else if(rx(v)!==null)continue}else F=D.action;typeof F=="function"?c[h+1]=F:(c.splice(h,3),h-=3),vN(c)}}}function yN(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(D){return v=D})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function ax(a){this._internalRoot=a}Zf.prototype.render=ax.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,h=ps();dN(c,h,a,o,null,null)},Zf.prototype.unmount=ax.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;dN(a.current,2,null,a,null,null),Of(),o[st]=null}};function Zf(a){this._internalRoot=a}Zf.prototype.unstable_scheduleHydration=function(a){if(a){var o=_e();a={blockedOn:null,target:a,priority:o};for(var c=0;c<so.length&&o!==0&&o<so[c].priority;c++);so.splice(c,0,a),c===0&&xN(a)}};var wN=e.version;if(wN!=="19.2.0")throw Error(s(527,wN,"19.2.0"));W.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=m(o),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var sR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{Vn=Qf.inject(sR),pn=Qf}catch{}}return Mu.createRoot=function(a,o){if(!l(a))throw Error(s(299));var c=!1,h="",v=T1,w=A1,D=R1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError)),o=cN(a,1,!1,null,null,c,h,null,v,w,D,yN),a[st]=o.current,Ug(a),new ax(o)},Mu.hydrateRoot=function(a,o,c){if(!l(a))throw Error(s(299));var h=!1,v="",w=T1,D=A1,F=R1,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(F=c.onRecoverableError),c.formState!==void 0&&(Q=c.formState)),o=cN(a,1,!0,o,c??null,h,v,Q,w,D,F,yN),o.context=uN(null),c=o.current,h=ps(),h=Be(h),v=Fl(h),v.callback=null,Hl(c,v,h),c=h,o.current.lanes=c,J(o,c),Sa(o),a[st]=o.current,Ug(a),new Zf(o)},Mu.version="19.2.0",Mu}var ON;function xR(){if(ON)return ix.exports;ON=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ix.exports=gR(),ix.exports}var bR=xR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zS=t=>{throw TypeError(t)},vR=(t,e,n)=>e.has(t)||zS("Cannot "+n),fx=(t,e,n)=>(vR(t,e,"read from private field"),n?n.call(t):e.get(t)),yR=(t,e,n)=>e.has(t)?zS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),MN="popstate";function wR(t={}){function e(s,l){let{pathname:i,search:u,hash:d}=s.location;return ad("",{pathname:i,search:u,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:xo(l)}return jR(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NR(){return Math.random().toString(36).substring(2,10)}function LN(t,e){return{usr:t.state,key:t.key,idx:e}}function ad(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:n,key:e&&e.key||s||NR()}}function xo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function No(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function jR(t,e,n,s={}){let{window:l=document.defaultView,v5Compat:i=!1}=s,u=l.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let S=g(),C=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:C})}function b(S,C){d="PUSH";let T=ad(j.location,S,C);m=g()+1;let k=LN(T,m),_=j.createHref(T);try{u.pushState(k,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(_)}i&&f&&f({action:d,location:j.location,delta:1})}function y(S,C){d="REPLACE";let T=ad(j.location,S,C);m=g();let k=LN(T,m),_=j.createHref(T);u.replaceState(k,"",_),i&&f&&f({action:d,location:j.location,delta:0})}function N(S){return US(S)}let j={get action(){return d},get location(){return t(l,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(MN,x),f=S,()=>{l.removeEventListener(MN,x),f=null}},createHref(S){return e(l,S)},createURL:N,encodeLocation(S){let C=N(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:y,go(S){return u.go(S)}};return j}function US(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:xo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Vu,_N=class{constructor(t){if(yR(this,Vu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(fx(this,Vu).has(t))return fx(this,Vu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){fx(this,Vu).set(t,e)}};Vu=new WeakMap;var SR=new Set(["lazy","caseSensitive","path","id","index","children"]);function CR(t){return SR.has(t)}var ER=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function kR(t){return ER.has(t)}function TR(t){return t.index===!0}function ld(t,e,n=[],s={},l=!1){return t.map((i,u)=>{let d=[...n,String(u)],f=typeof i.id=="string"?i.id:d.join("-");if(Rt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Rt(l||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),TR(i)){let m={...i,...e(i),id:f};return s[f]=m,m}else{let m={...i,...e(i),id:f,children:void 0};return s[f]=m,i.children&&(m.children=ld(i.children,e,d,s,l)),m}})}function co(t,e,n="/"){return Eh(t,e,n,!1)}function Eh(t,e,n,s){let l=typeof e=="string"?No(e):e,i=Bs(l.pathname||"/",n);if(i==null)return null;let u=BS(t);RR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=BR(i);d=zR(u[f],m,s)}return d}function AR(t,e){let{route:n,pathname:s,params:l}=t;return{id:n.id,pathname:s,params:l,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function BS(t,e=[],n=[],s="",l=!1){let i=(u,d,f=l,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;Rt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let x=Ma([s,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),BS(u.children,e,b,x,f)),!(u.path==null&&!u.index)&&e.push({path:x,score:$R(x,u.index),routesMeta:b})};return t.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))i(u,d);else for(let m of qS(u.path))i(u,d,!0,m)}),e}function qS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return l?[i,""]:[i];let u=qS(s.join("/")),d=[];return d.push(...u.map(f=>f===""?i:[i,f].join("/"))),l&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function RR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OR=/^:[\w-]+$/,MR=3,LR=2,_R=1,DR=10,PR=-2,DN=t=>t==="*";function $R(t,e){let n=t.split("/"),s=n.length;return n.some(DN)&&(s+=PR),e&&(s+=LR),n.filter(l=>!DN(l)).reduce((l,i)=>l+(OR.test(i)?MR:i===""?_R:DR),s)}function IR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,l)=>s===e[l])?t[t.length-1]-e[e.length-1]:0}function zR(t,e,n=!1){let{routesMeta:s}=t,l={},i="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],m=d===s.length-1,g=i==="/"?e:e.slice(i.length)||"/",x=Bh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!s[s.length-1].route.index&&(x=Bh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Ma([i,x.pathname]),pathnameBase:VR(Ma([i,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(i=Ma([i,x.pathnameBase]))}return u}function Bh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=UR(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let i=l[0],u=i.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let N=d[b]||"";u=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const y=d[b];return x&&!y?m[g]=void 0:m[g]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:u,pattern:t}}function UR(t,e=!1,n=!0){Fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function BR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function qR({basename:t,pathname:e}){return e==="/"?t:Ma([t,e])}function FR(t,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof t=="string"?No(t):t;return{pathname:n?n.startsWith("/")?n:HR(n,e):e,search:GR(s),hash:YR(l)}}function HR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function hx(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xv(t){let e=FS(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function bv(t,e,n,s=!1){let l;typeof t=="string"?l=No(t):(l={...t},Rt(!l.pathname||!l.pathname.includes("?"),hx("?","pathname","search",l)),Rt(!l.pathname||!l.pathname.includes("#"),hx("#","pathname","hash",l)),Rt(!l.search||!l.search.includes("#"),hx("#","search","hash",l)));let i=t===""||l.pathname==="",u=i?"/":l.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=FR(l,d),m=u&&u!=="/"&&u.endsWith("/"),g=(i||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Ma=t=>t.join("/").replace(/\/\/+/g,"/"),VR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qh=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function od(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HS=["POST","PUT","PATCH","DELETE"],WR=new Set(HS),KR=["GET",...HS],XR=new Set(KR),ZR=new Set([301,302,303,307,308]),QR=new Set([307,308]),mx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},e6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vv=t=>e6.test(t),t6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),VS="remix-router-transitions",GS=Symbol("ResetLoaderData");function n6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Rt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],l=t.mapRouteProperties||t6,i={},u=ld(t.routes,l,void 0,i),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let m=t.dataStrategy||o6,g={...t.future},x=null,b=new Set,y=null,N=null,j=null,S=t.hydrationData!=null,C=co(u,t.history.location,f),T=!1,k=null,_;if(C==null&&!t.patchRoutesOnNavigation){let J=Ds(404,{pathname:t.history.location.pathname}),{matches:le,route:be}=Jf(u);_=!0,C=le,k={[be.id]:J}}else if(C&&!t.hydrationData&&cn(C,u,t.history.location.pathname).active&&(C=null),C)if(C.some(J=>J.route.lazy))_=!1;else if(!C.some(J=>yv(J.route)))_=!0;else{let J=t.hydrationData?t.hydrationData.loaderData:null,le=t.hydrationData?t.hydrationData.errors:null;if(le){let be=C.findIndex(Te=>le[Te.route.id]!==void 0);_=C.slice(0,be+1).every(Te=>!ob(Te.route,J,le))}else _=C.every(be=>!ob(be.route,J,le))}else{_=!1,C=[];let J=cn(null,u,t.history.location.pathname);J.active&&J.matches&&(T=!0,C=J.matches)}let E,L={historyAction:t.history.action,location:t.history.location,matches:C,initialized:_,navigation:mx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},O="POP",A=!1,M,B=!1,P=new Map,U=null,I=!1,z=!1,G=new Set,$=new Map,W=0,Y=-1,Z=new Map,V=new Set,q=new Map,K=new Map,te=new Set,se=new Map,ue,xe=null;function ae(){if(x=t.history.listen(({action:J,location:le,delta:be})=>{if(ue){ue(),ue=void 0;return}Fn(se.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Yt({currentLocation:L.location,nextLocation:le,historyAction:J});if(Te&&be!=null){let Me=new Promise(Be=>{ue=Be});t.history.go(be*-1),Gt(Te,{state:"blocked",location:le,proceed(){Gt(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Me.then(()=>t.history.go(be))},reset(){let Be=new Map(L.blockers);Be.set(Te,Lu),ne({blockers:Be})}});return}return ke(J,le)}),n){N6(e,P);let J=()=>j6(e,P);e.addEventListener("pagehide",J),U=()=>e.removeEventListener("pagehide",J)}return L.initialized||ke("POP",L.location,{initialHydration:!0}),E}function ge(){x&&x(),U&&U(),b.clear(),M&&M.abort(),L.fetchers.forEach((J,le)=>zt(le)),L.blockers.forEach((J,le)=>Et(le))}function X(J){return b.add(J),()=>b.delete(J)}function ne(J,le={}){J.matches&&(J.matches=J.matches.map(Me=>{let Be=i[Me.route.id],qe=Me.route;return qe.element!==Be.element||qe.errorElement!==Be.errorElement||qe.hydrateFallbackElement!==Be.hydrateFallbackElement?{...Me,route:Be}:Me})),L={...L,...J};let be=[],Te=[];L.fetchers.forEach((Me,Be)=>{Me.state==="idle"&&(te.has(Be)?be.push(Be):Te.push(Be))}),te.forEach(Me=>{!L.fetchers.has(Me)&&!$.has(Me)&&be.push(Me)}),[...b].forEach(Me=>Me(L,{deletedFetchers:be,viewTransitionOpts:le.viewTransitionOpts,flushSync:le.flushSync===!0})),be.forEach(Me=>zt(Me)),Te.forEach(Me=>L.fetchers.delete(Me))}function ce(J,le,{flushSync:be}={}){var Ie,$e;let Te=L.actionData!=null&&L.navigation.formMethod!=null&&ns(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Ie=J.state)==null?void 0:Ie._isRedirect)!==!0,Me;le.actionData?Object.keys(le.actionData).length>0?Me=le.actionData:Me=null:Te?Me=L.actionData:Me=null;let Be=le.loaderData?VN(L.loaderData,le.loaderData,le.matches||[],le.errors):L.loaderData,qe=L.blockers;qe.size>0&&(qe=new Map(qe),qe.forEach((st,dt)=>qe.set(dt,Lu)));let _e=I?!1:Ut(J,le.matches||L.matches),We=A===!0||L.navigation.formMethod!=null&&ns(L.navigation.formMethod)&&(($e=J.state)==null?void 0:$e._isRedirect)!==!0;d&&(u=d,d=void 0),I||O==="POP"||(O==="PUSH"?t.history.push(J,J.state):O==="REPLACE"&&t.history.replace(J,J.state));let Ke;if(O==="POP"){let st=P.get(L.location.pathname);st&&st.has(J.pathname)?Ke={currentLocation:L.location,nextLocation:J}:P.has(J.pathname)&&(Ke={currentLocation:J,nextLocation:L.location})}else if(B){let st=P.get(L.location.pathname);st?st.add(J.pathname):(st=new Set([J.pathname]),P.set(L.location.pathname,st)),Ke={currentLocation:L.location,nextLocation:J}}ne({...le,actionData:Me,loaderData:Be,historyAction:O,location:J,initialized:!0,navigation:mx,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:We,blockers:qe},{viewTransitionOpts:Ke,flushSync:be===!0}),O="POP",A=!1,B=!1,I=!1,z=!1,xe==null||xe.resolve(),xe=null}async function oe(J,le){if(typeof J=="number"){t.history.go(J);return}let be=lb(L.location,L.matches,f,J,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:Te,submission:Me,error:Be}=PN(!1,be,le),qe=L.location,_e=ad(L.location,Te,le&&le.state);_e={..._e,...t.history.encodeLocation(_e)};let We=le&&le.replace!=null?le.replace:void 0,Ke="PUSH";We===!0?Ke="REPLACE":We===!1||Me!=null&&ns(Me.formMethod)&&Me.formAction===L.location.pathname+L.location.search&&(Ke="REPLACE");let Ie=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,$e=(le&&le.flushSync)===!0,st=Yt({currentLocation:qe,nextLocation:_e,historyAction:Ke});if(st){Gt(st,{state:"blocked",location:_e,proceed(){Gt(st,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),oe(J,le)},reset(){let dt=new Map(L.blockers);dt.set(st,Lu),ne({blockers:dt})}});return}await ke(Ke,_e,{submission:Me,pendingError:Be,preventScrollReset:Ie,replace:le&&le.replace,enableViewTransition:le&&le.viewTransition,flushSync:$e})}function we(){xe||(xe=S6()),ze(),ne({revalidation:"loading"});let J=xe.promise;return L.navigation.state==="submitting"?J:L.navigation.state==="idle"?(ke(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),J):(ke(O||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:B===!0}),J)}async function ke(J,le,be){M&&M.abort(),M=null,O=J,I=(be&&be.startUninterruptedRevalidation)===!0,bn(L.location,L.matches),A=(be&&be.preventScrollReset)===!0,B=(be&&be.enableViewTransition)===!0;let Te=d||u,Me=be&&be.overrideNavigation,Be=be!=null&&be.initialHydration&&L.matches&&L.matches.length>0&&!T?L.matches:co(Te,le,f),qe=(be&&be.flushSync)===!0;if(Be&&L.initialized&&!z&&p6(L.location,le)&&!(be&&be.submission&&ns(be.submission.formMethod))){ce(le,{matches:Be},{flushSync:qe});return}let _e=cn(Be,Te,le.pathname);if(_e.active&&_e.matches&&(Be=_e.matches),!Be){let{error:zn,notFoundMatches:tn,route:Lt}=on(le.pathname);ce(le,{matches:tn,loaderData:{},errors:{[Lt.id]:zn}},{flushSync:qe});return}M=new AbortController;let We=oc(t.history,le,M.signal,be&&be.submission),Ke=t.getContext?await t.getContext():new _N,Ie;if(be&&be.pendingError)Ie=[uo(Be).route.id,{type:"error",error:be.pendingError}];else if(be&&be.submission&&ns(be.submission.formMethod)){let zn=await je(We,le,be.submission,Be,Ke,_e.active,be&&be.initialHydration===!0,{replace:be.replace,flushSync:qe});if(zn.shortCircuited)return;if(zn.pendingActionResult){let[tn,Lt]=zn.pendingActionResult;if(gs(Lt)&&od(Lt.error)&&Lt.error.status===404){M=null,ce(le,{matches:zn.matches,loaderData:{},errors:{[tn]:Lt.error}});return}}Be=zn.matches||Be,Ie=zn.pendingActionResult,Me=px(le,be.submission),qe=!1,_e.active=!1,We=oc(t.history,We.url,We.signal)}let{shortCircuited:$e,matches:st,loaderData:dt,errors:Cn}=await Ae(We,le,Be,Ke,_e.active,Me,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,be&&be.initialHydration===!0,qe,Ie);$e||(M=null,ce(le,{matches:st||Be,...GN(Ie),loaderData:dt,errors:Cn}))}async function je(J,le,be,Te,Me,Be,qe,_e={}){ze();let We=y6(le,be);if(ne({navigation:We},{flushSync:_e.flushSync===!0}),Be){let $e=await dr(Te,le.pathname,J.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){if($e.partialMatches.length===0){let{matches:dt,route:Cn}=Jf(u);return{matches:dt,pendingActionResult:[Cn.id,{type:"error",error:$e.error}]}}let st=uo($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[st,{type:"error",error:$e.error}]}}else if($e.matches)Te=$e.matches;else{let{notFoundMatches:st,error:dt,route:Cn}=on(le.pathname);return{matches:st,pendingActionResult:[Cn.id,{type:"error",error:dt}]}}}let Ke,Ie=kh(Te,le);if(!Ie.route.action&&!Ie.route.lazy)Ke={type:"error",error:Ds(405,{method:J.method,pathname:le.pathname,routeId:Ie.route.id})};else{let $e=mc(l,i,J,Te,Ie,qe?[]:s,Me),st=await Ct(J,$e,Me,null);if(Ke=st[Ie.route.id],!Ke){for(let dt of Te)if(st[dt.route.id]){Ke=st[dt.route.id];break}}if(J.signal.aborted)return{shortCircuited:!0}}if(Ko(Ke)){let $e;return _e&&_e.replace!=null?$e=_e.replace:$e=qN(Ke.response.headers.get("Location"),new URL(J.url),f)===L.location.pathname+L.location.search,await yt(J,Ke,!0,{submission:be,replace:$e}),{shortCircuited:!0}}if(gs(Ke)){let $e=uo(Te,Ie.route.id);return(_e&&_e.replace)!==!0&&(O="PUSH"),{matches:Te,pendingActionResult:[$e.route.id,Ke,Ie.route.id]}}return{matches:Te,pendingActionResult:[Ie.route.id,Ke]}}async function Ae(J,le,be,Te,Me,Be,qe,_e,We,Ke,Ie,$e){let st=Be||px(le,qe),dt=qe||_e||WN(st),Cn=!I&&!Ke;if(Me){if(Cn){let rn=de($e);ne({navigation:st,...rn!==void 0?{actionData:rn}:{}},{flushSync:Ie})}let ft=await dr(be,le.pathname,J.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Dr,route:Wr}=Jf(u);return{matches:Dr,loaderData:{},errors:{[Wr.id]:ft.error}}}let rn=uo(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[rn]:ft.error}}}else if(ft.matches)be=ft.matches;else{let{error:rn,notFoundMatches:Dr,route:Wr}=on(le.pathname);return{matches:Dr,loaderData:{},errors:{[Wr.id]:rn}}}}let zn=d||u,{dsMatches:tn,revalidatingFetchers:Lt}=$N(J,Te,l,i,t.history,L,be,dt,le,Ke?[]:s,Ke===!0,z,G,te,q,V,zn,f,t.patchRoutesOnNavigation!=null,$e);if(Y=++W,!t.dataStrategy&&!tn.some(ft=>ft.shouldLoad)&&!tn.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&Lt.length===0){let ft=pn();return ce(le,{matches:be,loaderData:{},errors:$e&&gs($e[1])?{[$e[0]]:$e[1].error}:null,...GN($e),...ft?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(Cn){let ft={};if(!Me){ft.navigation=st;let rn=de($e);rn!==void 0&&(ft.actionData=rn)}Lt.length>0&&(ft.fetchers=Re(Lt)),ne(ft,{flushSync:Ie})}Lt.forEach(ft=>{Tn(ft.key),ft.controller&&$.set(ft.key,ft.controller)});let _r=()=>Lt.forEach(ft=>Tn(ft.key));M&&M.signal.addEventListener("abort",_r);let{loaderResults:gn,fetcherResults:Jn}=await at(tn,Lt,J,Te);if(J.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",_r),Lt.forEach(ft=>$.delete(ft.key));let Gn=eh(gn);if(Gn)return await yt(J,Gn.result,!0,{replace:We}),{shortCircuited:!0};if(Gn=eh(Jn),Gn)return V.add(Gn.key),await yt(J,Gn.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Vr,errors:un}=HN(L,be,gn,$e,Lt,Jn);Ke&&L.errors&&(un={...L.errors,...un});let Gr=pn(),Yr=me(Y),xr=Gr||Yr||Lt.length>0;return{matches:be,loaderData:Vr,errors:un,...xr?{fetchers:new Map(L.fetchers)}:{}}}function de(J){if(J&&!gs(J[1]))return{[J[0]]:J[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Re(J){return J.forEach(le=>{let be=L.fetchers.get(le.key),Te=_u(void 0,be?be.data:void 0);L.fetchers.set(le.key,Te)}),new Map(L.fetchers)}async function De(J,le,be,Te){Tn(J);let Me=(Te&&Te.flushSync)===!0,Be=d||u,qe=lb(L.location,L.matches,f,be,le,Te==null?void 0:Te.relative),_e=co(Be,qe,f),We=cn(_e,Be,qe);if(We.active&&We.matches&&(_e=We.matches),!_e){pt(J,le,Ds(404,{pathname:qe}),{flushSync:Me});return}let{path:Ke,submission:Ie,error:$e}=PN(!0,qe,Te);if($e){pt(J,le,$e,{flushSync:Me});return}let st=t.getContext?await t.getContext():new _N,dt=(Te&&Te.preventScrollReset)===!0;if(Ie&&ns(Ie.formMethod)){await rt(J,le,Ke,_e,st,We.active,Me,dt,Ie);return}q.set(J,{routeId:le,path:Ke}),await ut(J,le,Ke,_e,st,We.active,Me,dt,Ie)}async function rt(J,le,be,Te,Me,Be,qe,_e,We){ze(),q.delete(J);let Ke=L.fetchers.get(J);mt(J,w6(We,Ke),{flushSync:qe});let Ie=new AbortController,$e=oc(t.history,be,Ie.signal,We);if(Be){let wn=await dr(Te,new URL($e.url).pathname,$e.signal,J);if(wn.type==="aborted")return;if(wn.type==="error"){pt(J,le,wn.error,{flushSync:qe});return}else if(wn.matches)Te=wn.matches;else{pt(J,le,Ds(404,{pathname:be}),{flushSync:qe});return}}let st=kh(Te,be);if(!st.route.action&&!st.route.lazy){let wn=Ds(405,{method:We.formMethod,pathname:be,routeId:le});pt(J,le,wn,{flushSync:qe});return}$.set(J,Ie);let dt=W,Cn=mc(l,i,$e,Te,st,s,Me),tn=(await Ct($e,Cn,Me,J))[st.route.id];if($e.signal.aborted){$.get(J)===Ie&&$.delete(J);return}if(te.has(J)){if(Ko(tn)||gs(tn)){mt(J,dl(void 0));return}}else{if(Ko(tn))if($.delete(J),Y>dt){mt(J,dl(void 0));return}else return V.add(J),mt(J,_u(We)),yt($e,tn,!1,{fetcherSubmission:We,preventScrollReset:_e});if(gs(tn)){pt(J,le,tn.error);return}}let Lt=L.navigation.location||L.location,_r=oc(t.history,Lt,Ie.signal),gn=d||u,Jn=L.navigation.state!=="idle"?co(gn,L.navigation.location,f):L.matches;Rt(Jn,"Didn't find any matches after fetcher action");let Gn=++W;Z.set(J,Gn);let Vr=_u(We,tn.data);L.fetchers.set(J,Vr);let{dsMatches:un,revalidatingFetchers:Gr}=$N(_r,Me,l,i,t.history,L,Jn,We,Lt,s,!1,z,G,te,q,V,gn,f,t.patchRoutesOnNavigation!=null,[st.route.id,tn]);Gr.filter(wn=>wn.key!==J).forEach(wn=>{let ss=wn.key,Gs=L.fetchers.get(ss),Pr=_u(void 0,Gs?Gs.data:void 0);L.fetchers.set(ss,Pr),Tn(ss),wn.controller&&$.set(ss,wn.controller)}),ne({fetchers:new Map(L.fetchers)});let Yr=()=>Gr.forEach(wn=>Tn(wn.key));Ie.signal.addEventListener("abort",Yr);let{loaderResults:xr,fetcherResults:ft}=await at(un,Gr,_r,Me);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",Yr),Z.delete(J),$.delete(J),Gr.forEach(wn=>$.delete(wn.key)),L.fetchers.has(J)){let wn=dl(tn.data);L.fetchers.set(J,wn)}let rn=eh(xr);if(rn)return yt(_r,rn.result,!1,{preventScrollReset:_e});if(rn=eh(ft),rn)return V.add(rn.key),yt(_r,rn.result,!1,{preventScrollReset:_e});let{loaderData:Dr,errors:Wr}=HN(L,Jn,xr,void 0,Gr,ft);me(Gn),L.navigation.state==="loading"&&Gn>Y?(Rt(O,"Expected pending action"),M&&M.abort(),ce(L.navigation.location,{matches:Jn,loaderData:Dr,errors:Wr,fetchers:new Map(L.fetchers)})):(ne({errors:Wr,loaderData:VN(L.loaderData,Dr,Jn,Wr),fetchers:new Map(L.fetchers)}),z=!1)}async function ut(J,le,be,Te,Me,Be,qe,_e,We){let Ke=L.fetchers.get(J);mt(J,_u(We,Ke?Ke.data:void 0),{flushSync:qe});let Ie=new AbortController,$e=oc(t.history,be,Ie.signal);if(Be){let Lt=await dr(Te,new URL($e.url).pathname,$e.signal,J);if(Lt.type==="aborted")return;if(Lt.type==="error"){pt(J,le,Lt.error,{flushSync:qe});return}else if(Lt.matches)Te=Lt.matches;else{pt(J,le,Ds(404,{pathname:be}),{flushSync:qe});return}}let st=kh(Te,be);$.set(J,Ie);let dt=W,Cn=mc(l,i,$e,Te,st,s,Me),tn=(await Ct($e,Cn,Me,J))[st.route.id];if($.get(J)===Ie&&$.delete(J),!$e.signal.aborted){if(te.has(J)){mt(J,dl(void 0));return}if(Ko(tn))if(Y>dt){mt(J,dl(void 0));return}else{V.add(J),await yt($e,tn,!1,{preventScrollReset:_e});return}if(gs(tn)){pt(J,le,tn.error);return}mt(J,dl(tn.data))}}async function yt(J,le,be,{submission:Te,fetcherSubmission:Me,preventScrollReset:Be,replace:qe}={}){le.response.headers.has("X-Remix-Revalidate")&&(z=!0);let _e=le.response.headers.get("Location");Rt(_e,"Expected a Location header on the redirect Response"),_e=qN(_e,new URL(J.url),f);let We=ad(L.location,_e,{_isRedirect:!0});if(n){let Cn=!1;if(le.response.headers.has("X-Remix-Reload-Document"))Cn=!0;else if(vv(_e)){const zn=US(_e,!0);Cn=zn.origin!==e.location.origin||Bs(zn.pathname,f)==null}if(Cn){qe?e.location.replace(_e):e.location.assign(_e);return}}M=null;let Ke=qe===!0||le.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:$e,formEncType:st}=L.navigation;!Te&&!Me&&Ie&&$e&&st&&(Te=WN(L.navigation));let dt=Te||Me;if(QR.has(le.response.status)&&dt&&ns(dt.formMethod))await ke(Ke,We,{submission:{...dt,formAction:_e},preventScrollReset:Be||A,enableViewTransition:be?B:void 0});else{let Cn=px(We,Te);await ke(Ke,We,{overrideNavigation:Cn,fetcherSubmission:Me,preventScrollReset:Be||A,enableViewTransition:be?B:void 0})}}async function Ct(J,le,be,Te){let Me,Be={};try{Me=await c6(m,J,le,Te,be,!1)}catch(qe){return le.filter(_e=>_e.shouldLoad).forEach(_e=>{Be[_e.route.id]={type:"error",error:qe}}),Be}if(J.signal.aborted)return Be;for(let[qe,_e]of Object.entries(Me))if(b6(_e)){let We=_e.result;Be[qe]={type:"redirect",response:h6(We,J,qe,le,f)}}else Be[qe]=await f6(_e);return Be}async function at(J,le,be,Te){let Me=Ct(be,J,Te,null),Be=Promise.all(le.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let Ie=(await Ct(We.request,We.matches,Te,We.key))[We.match.route.id];return{[We.key]:Ie}}else return Promise.resolve({[We.key]:{type:"error",error:Ds(404,{pathname:We.path})}})})),qe=await Me,_e=(await Be).reduce((We,Ke)=>Object.assign(We,Ke),{});return{loaderResults:qe,fetcherResults:_e}}function ze(){z=!0,q.forEach((J,le)=>{$.has(le)&&G.add(le),Tn(le)})}function mt(J,le,be={}){L.fetchers.set(J,le),ne({fetchers:new Map(L.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function pt(J,le,be,Te={}){let Me=uo(L.matches,le);zt(J),ne({errors:{[Me.route.id]:be},fetchers:new Map(L.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function Vt(J){return K.set(J,(K.get(J)||0)+1),te.has(J)&&te.delete(J),L.fetchers.get(J)||JR}function ur(J,le){Tn(J,le==null?void 0:le.reason),mt(J,dl(null))}function zt(J){let le=L.fetchers.get(J);$.has(J)&&!(le&&le.state==="loading"&&Z.has(J))&&Tn(J),q.delete(J),Z.delete(J),V.delete(J),te.delete(J),G.delete(J),L.fetchers.delete(J)}function gr(J){let le=(K.get(J)||0)-1;le<=0?(K.delete(J),te.add(J)):K.set(J,le),ne({fetchers:new Map(L.fetchers)})}function Tn(J,le){let be=$.get(J);be&&(be.abort(le),$.delete(J))}function Vn(J){for(let le of J){let be=Vt(le),Te=dl(be.data);L.fetchers.set(le,Te)}}function pn(){let J=[],le=!1;for(let be of V){let Te=L.fetchers.get(be);Rt(Te,`Expected fetcher: ${be}`),Te.state==="loading"&&(V.delete(be),J.push(be),le=!0)}return Vn(J),le}function me(J){let le=[];for(let[be,Te]of Z)if(Te<J){let Me=L.fetchers.get(be);Rt(Me,`Expected fetcher: ${be}`),Me.state==="loading"&&(Tn(be),Z.delete(be),le.push(be))}return Vn(le),le.length>0}function Ue(J,le){let be=L.blockers.get(J)||Lu;return se.get(J)!==le&&se.set(J,le),be}function Et(J){L.blockers.delete(J),se.delete(J)}function Gt(J,le){let be=L.blockers.get(J)||Lu;Rt(be.state==="unblocked"&&le.state==="blocked"||be.state==="blocked"&&le.state==="blocked"||be.state==="blocked"&&le.state==="proceeding"||be.state==="blocked"&&le.state==="unblocked"||be.state==="proceeding"&&le.state==="unblocked",`Invalid blocker state transition: ${be.state} -> ${le.state}`);let Te=new Map(L.blockers);Te.set(J,le),ne({blockers:Te})}function Yt({currentLocation:J,nextLocation:le,historyAction:be}){if(se.size===0)return;se.size>1&&Fn(!1,"A router only supports one blocker at a time");let Te=Array.from(se.entries()),[Me,Be]=Te[Te.length-1],qe=L.blockers.get(Me);if(!(qe&&qe.state==="proceeding")&&Be({currentLocation:J,nextLocation:le,historyAction:be}))return Me}function on(J){let le=Ds(404,{pathname:J}),be=d||u,{matches:Te,route:Me}=Jf(be);return{notFoundMatches:Te,route:Me,error:le}}function en(J,le,be){if(y=J,j=le,N=be||null,!S&&L.navigation===mx){S=!0;let Te=Ut(L.location,L.matches);Te!=null&&ne({restoreScrollPosition:Te})}return()=>{y=null,j=null,N=null}}function qt(J,le){return N&&N(J,le.map(Te=>AR(Te,L.loaderData)))||J.key}function bn(J,le){if(y&&j){let be=qt(J,le);y[be]=j()}}function Ut(J,le){if(y){let be=qt(J,le),Te=y[be];if(typeof Te=="number")return Te}return null}function cn(J,le,be){if(t.patchRoutesOnNavigation)if(J){if(Object.keys(J[0].params).length>0)return{active:!0,matches:Eh(le,be,f,!0)}}else return{active:!0,matches:Eh(le,be,f,!0)||[]};return{active:!1,matches:null}}async function dr(J,le,be,Te){if(!t.patchRoutesOnNavigation)return{type:"success",matches:J};let Me=J;for(;;){let Be=d==null,qe=d||u,_e=i;try{await t.patchRoutesOnNavigation({signal:be,path:le,matches:Me,fetcherKey:Te,patch:(Ie,$e)=>{be.aborted||IN(Ie,$e,qe,_e,l,!1)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:Me}}finally{Be&&!be.aborted&&(u=[...u])}if(be.aborted)return{type:"aborted"};let We=co(qe,le,f);if(We)return{type:"success",matches:We};let Ke=Eh(qe,le,f,!0);if(!Ke||Me.length===Ke.length&&Me.every((Ie,$e)=>Ie.route.id===Ke[$e].route.id))return{type:"success",matches:null};Me=Ke}}function In(J){i={},d=ld(J,l,void 0,i)}function Hr(J,le,be=!1){let Te=d==null;IN(J,le,d||u,i,l,be),Te&&(u=[...u],ne({}))}return E={get basename(){return f},get future(){return g},get state(){return L},get routes(){return u},get window(){return e},initialize:ae,subscribe:X,enableScrollRestoration:en,navigate:oe,fetch:De,revalidate:we,createHref:J=>t.history.createHref(J),encodeLocation:J=>t.history.encodeLocation(J),getFetcher:Vt,resetFetcher:ur,deleteFetcher:gr,dispose:ge,getBlocker:Ue,deleteBlocker:Et,patchRoutes:Hr,_internalFetchControllers:$,_internalSetRoutes:In,_internalSetStateDoNotUseOrYouWillBreakYourApp(J){ne(J)}},E}function r6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lb(t,e,n,s,l,i){let u,d;if(l){u=[];for(let m of e)if(u.push(m),m.route.id===l){d=m;break}}else u=e,d=e[e.length-1];let f=bv(s||".",xv(u),Bs(t.pathname,n)||t.pathname,i==="path");if(s==null&&(f.search=t.search,f.hash=t.hash),(s==null||s===""||s===".")&&d){let m=wv(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),x=g.getAll("index");g.delete("index"),x.filter(y=>y).forEach(y=>g.append("index",y));let b=g.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=qR({basename:n,pathname:f.pathname})),xo(f)}function PN(t,e,n){if(!n||!r6(n))return{path:e};if(n.formMethod&&!v6(n.formMethod))return{path:e,error:Ds(405,{method:n.formMethod})};let s=()=>({path:e,error:Ds(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),u=QS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ns(i))return s();let x=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,N])=>`${b}${y}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:i,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:x}}}else if(n.formEncType==="application/json"){if(!ns(i))return s();try{let x=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:i,formAction:u,formEncType:n.formEncType,formData:void 0,json:x,text:void 0}}}catch{return s()}}}Rt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=cb(n.formData),f=n.formData;else if(n.body instanceof FormData)d=cb(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=FN(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=FN(d)}catch{return s()}let m={formMethod:i,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ns(m.formMethod))return{path:e,submission:m};let g=No(e);return t&&g.search&&wv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:xo(g),submission:m}}function $N(t,e,n,s,l,i,u,d,f,m,g,x,b,y,N,j,S,C,T,k){var I;let _=k?gs(k[1])?k[1].error:k[1].data:void 0,E=l.createURL(i.location),L=l.createURL(f),O;if(g&&i.errors){let z=Object.keys(i.errors)[0];O=u.findIndex(G=>G.route.id===z)}else if(k&&gs(k[1])){let z=k[0];O=u.findIndex(G=>G.route.id===z)-1}let A=k?k[1].statusCode:void 0,M=A&&A>=400,B={currentUrl:E,currentParams:((I=i.matches[0])==null?void 0:I.params)||{},nextUrl:L,nextParams:u[0].params,...d,actionResult:_,actionStatus:A},P=u.map((z,G)=>{let{route:$}=z,W=null;if(O!=null&&G>O?W=!1:$.lazy?W=!0:yv($)?g?W=ob($,i.loaderData,i.errors):s6(i.loaderData,i.matches[G],z)&&(W=!0):W=!1,W!==null)return ib(n,s,t,z,m,e,W);let Y=M?!1:x||E.pathname+E.search===L.pathname+L.search||E.search!==L.search||a6(i.matches[G],z),Z={...B,defaultShouldRevalidate:Y},V=Fh(z,Z);return ib(n,s,t,z,m,e,V,Z)}),U=[];return N.forEach((z,G)=>{if(g||!u.some(te=>te.route.id===z.routeId)||y.has(G))return;let $=i.fetchers.get(G),W=$&&$.state!=="idle"&&$.data===void 0,Y=co(S,z.path,C);if(!Y){if(T&&W)return;U.push({key:G,routeId:z.routeId,path:z.path,matches:null,match:null,request:null,controller:null});return}if(j.has(G))return;let Z=kh(Y,z.path),V=new AbortController,q=oc(l,z.path,V.signal),K=null;if(b.has(G))b.delete(G),K=mc(n,s,q,Y,Z,m,e);else if(W)x&&(K=mc(n,s,q,Y,Z,m,e));else{let te={...B,defaultShouldRevalidate:M?!1:x};Fh(Z,te)&&(K=mc(n,s,q,Y,Z,m,e,te))}K&&U.push({key:G,routeId:z.routeId,path:z.path,matches:K,match:Z,request:q,controller:V})}),{dsMatches:P,revalidatingFetchers:U}}function yv(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function ob(t,e,n){if(t.lazy)return!0;if(!yv(t))return!1;let s=e!=null&&t.id in e,l=n!=null&&n[t.id]!==void 0;return!s&&l?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!l}function s6(t,e,n){let s=!e||n.route.id!==e.route.id,l=!t.hasOwnProperty(n.route.id);return s||l}function a6(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Fh(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function IN(t,e,n,s,l,i){let u;if(t){let m=s[t];Rt(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),u=m.children}else u=n;let d=[],f=[];if(e.forEach(m=>{let g=u.find(x=>YS(m,x));g?f.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=ld(d,l,[t||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...m)}if(i&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:g,newRoute:x}=f[m],b=g,[y]=ld([x],l,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function YS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>{var l;return(l=e.children)==null?void 0:l.some(i=>YS(n,i))}):!1}var zN=new WeakMap,WS=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let l=n[e.id];if(Rt(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let i=l.lazy[t];if(!i)return;let u=zN.get(l);u||(u={},zN.set(l,u));let d=u[t];if(d)return d;let f=(async()=>{let m=CR(t),x=l[t]!==void 0&&t!=="hasErrorBoundary";if(m)Fn(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(x)Fn(!1,`Route "${l.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await i();b!=null&&(Object.assign(l,{[t]:b}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[t]=void 0,Object.values(l.lazy).every(b=>b===void 0)&&(l.lazy=void 0))})();return u[t]=f,f},UN=new WeakMap;function l6(t,e,n,s,l){let i=n[t.id];if(Rt(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=UN.get(i);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let x=(async()=>{Rt(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),y={};for(let N in b){let j=b[N];if(j===void 0)continue;let S=kR(N),T=i[N]!==void 0&&N!=="hasErrorBoundary";S?Fn(!S,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?Fn(!T,`Route "${i.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):y[N]=j}Object.assign(i,y),Object.assign(i,{...s(i),lazy:void 0})})();return UN.set(i,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let u=Object.keys(t.lazy),d=[],f;for(let g of u){if(l&&l.includes(g))continue;let x=WS({key:g,route:t,manifest:n,mapRouteProperties:s});x&&(d.push(x),g===e&&(f=x))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function BN(t){let e=t.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(e.map(l=>l.resolve()))).forEach((l,i)=>{n[e[i].route.id]=l}),n}async function o6(t){return t.matches.some(e=>e.route.middleware)?KS(t,()=>BN(t)):BN(t)}function KS(t,e){return i6(t,e,s=>s,g6,n);function n(s,l,i){if(i)return Promise.resolve(Object.assign(i.value,{[l]:{type:"error",result:s}}));{let{matches:u}=t,d=Math.min(Math.max(u.findIndex(m=>m.route.id===l),0),Math.max(u.findIndex(m=>m.unstable_shouldCallHandler()),0)),f=uo(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:s}})}}}async function i6(t,e,n,s,l){let{matches:i,request:u,params:d,context:f}=t,m=i.flatMap(x=>x.route.middleware?x.route.middleware.map(b=>[x.route.id,b]):[]);return await XS({request:u,params:d,context:f},m,e,n,s,l)}async function XS(t,e,n,s,l,i,u=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=e[u];if(!f)return await n();let[m,g]=f,x,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");try{return x={value:await XS(t,e,n,s,l,i,u+1)},x.value}catch(y){return x={value:await i(y,m,x)},x.value}};try{let y=await g(t,b),N=y!=null?s(y):void 0;return l(N)?N:x?N??x.value:(x={value:await b()},x.value)}catch(y){return await i(y,m,x)}}function ZS(t,e,n,s,l){let i=WS({key:"middleware",route:s.route,manifest:e,mapRouteProperties:t}),u=l6(s.route,ns(n.method)?"action":"loader",e,t,l);return{middleware:i,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function ib(t,e,n,s,l,i,u,d=null){let f=!1,m=ZS(t,e,n,s,l);return{...s,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return f=!0,d?typeof g=="boolean"?Fh(s,{...d,defaultShouldRevalidate:g}):Fh(s,d):u},resolve(g){let{lazy:x,loader:b,middleware:y}=s.route,N=f||u||g&&!ns(n.method)&&(x||b),j=y&&y.length>0&&!b&&!x;return N&&!j?u6({request:n,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:g,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function mc(t,e,n,s,l,i,u,d=null){return s.map(f=>f.route.id!==l.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:ZS(t,e,n,f,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ib(t,e,n,f,i,u,!0,d))}async function c6(t,e,n,s,l,i){n.some(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(n.map(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware}));let u={request:e,params:n[0].params,context:l,matches:n},f=await t({...u,fetcherKey:s,runClientMiddleware:m=>{let g=u;return KS(g,()=>m({...g,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>{var g,x;return[(g=m._lazyPromises)==null?void 0:g.handler,(x=m._lazyPromises)==null?void 0:x.route]}))}catch{}return f}async function u6({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:l,scopedContext:i}){let u,d,f=ns(t.method),m=f?"action":"loader",g=x=>{let b,y=new Promise((S,C)=>b=C);d=()=>b(),t.signal.addEventListener("abort",d);let N=S=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):x({request:t,params:e.params,context:i},...S!==void 0?[S]:[]),j=(async()=>{try{return{type:"data",result:await(l?l(C=>N(C)):N())}}catch(S){return{type:"error",result:S}}})();return Promise.race([j,y])};try{let x=f?e.route.action:e.route.loader;if(n||s)if(x){let b,[y]=await Promise.all([g(x).catch(N=>{b=N}),n,s]);if(b!==void 0)throw b;u=y}else{await n;let b=f?e.route.action:e.route.loader;if(b)[u]=await Promise.all([g(b),s]);else if(m==="action"){let y=new URL(t.url),N=y.pathname+y.search;throw Ds(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)u=await g(x);else{let b=new URL(t.url),y=b.pathname+b.search;throw Ds(404,{pathname:y})}}catch(x){return{type:"error",result:x}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function d6(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function f6(t){var s,l,i,u,d,f;let{result:e,type:n}=t;if(JS(e)){let m;try{m=await d6(e)}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new qh(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?YN(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qh(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:od(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:od(e)?e.status:void 0}:YN(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function h6(t,e,n,s,l){let i=t.headers.get("Location");if(Rt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!vv(i)){let u=s.slice(0,s.findIndex(d=>d.route.id===n)+1);i=lb(new URL(e.url),u,l,i),t.headers.set("Location",i)}return t}function qN(t,e,n){if(vv(t)){let s=t,l=s.startsWith("//")?new URL(e.protocol+s):new URL(s),i=Bs(l.pathname,n)!=null;if(l.origin===e.origin&&i)return l.pathname+l.search+l.hash}return t}function oc(t,e,n,s){let l=t.createURL(QS(e)).toString(),i={signal:n};if(s&&ns(s.formMethod)){let{formMethod:u,formEncType:d}=s;i.method=u.toUpperCase(),d==="application/json"?(i.headers=new Headers({"Content-Type":d}),i.body=JSON.stringify(s.json)):d==="text/plain"?i.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?i.body=cb(s.formData):i.body=s.formData}return new Request(l,i)}function cb(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function FN(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function m6(t,e,n,s=!1,l=!1){let i={},u=null,d,f=!1,m={},g=n&&gs(n[1])?n[1].error:void 0;return t.forEach(x=>{if(!(x.route.id in e))return;let b=x.route.id,y=e[b];if(Rt(!Ko(y),"Cannot handle redirect results in processLoaderData"),gs(y)){let N=y.error;if(g!==void 0&&(N=g,g=void 0),u=u||{},l)u[b]=N;else{let j=uo(t,b);u[j.route.id]==null&&(u[j.route.id]=N)}s||(i[b]=GS),f||(f=!0,d=od(y.error)?y.error.status:500),y.headers&&(m[b]=y.headers)}else i[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(m[b]=y.headers)}),g!==void 0&&n&&(u={[n[0]]:g},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:u,statusCode:d||200,loaderHeaders:m}}function HN(t,e,n,s,l,i){let{loaderData:u,errors:d}=m6(e,n,s);return l.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:g,controller:x}=f;if(x&&x.signal.aborted)return;let b=i[m];if(Rt(b,"Did not find corresponding fetcher result"),gs(b)){let y=uo(t.matches,g==null?void 0:g.route.id);d&&d[y.route.id]||(d={...d,[y.route.id]:b.error}),t.fetchers.delete(m)}else if(Ko(b))Rt(!1,"Unhandled fetcher revalidation redirect");else{let y=dl(b.data);t.fetchers.set(m,y)}}),{loaderData:u,errors:d}}function VN(t,e,n,s){let l=Object.entries(e).filter(([,i])=>i!==GS).reduce((i,[u,d])=>(i[u]=d,i),{});for(let i of n){let u=i.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&i.route.loader&&(l[u]=t[u]),s&&s.hasOwnProperty(u))break}return l}function GN(t){return t?gs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function uo(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function Jf(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ds(t,{pathname:e,routeId:n,method:s,type:l,message:i}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new qh(t||500,u,new Error(d),!0)}function eh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,l]=e[n];if(Ko(l))return{key:s,result:l}}}function QS(t){let e=typeof t=="string"?No(t):t;return xo({...e,hash:""})}function p6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function g6(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&x6(n))}function x6(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function b6(t){return JS(t.result)&&ZR.has(t.result.status)}function gs(t){return t.type==="error"}function Ko(t){return(t&&t.type)==="redirect"}function YN(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function JS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function v6(t){return XR.has(t.toUpperCase())}function ns(t){return WR.has(t.toUpperCase())}function wv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function kh(t,e){let n=typeof e=="string"?No(e).search:e.search;if(t[t.length-1].route.index&&wv(n||""))return t[t.length-1];let s=FS(t);return s[s.length-1]}function WN(t){let{formMethod:e,formAction:n,formEncType:s,text:l,formData:i,json:u}=t;if(!(!e||!n||!s)){if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:l};if(i!=null)return{formMethod:e,formAction:n,formEncType:s,formData:i,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:u,text:void 0}}}function px(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function y6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _u(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function w6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function dl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N6(t,e){try{let n=t.sessionStorage.getItem(VS);if(n){let s=JSON.parse(n);for(let[l,i]of Object.entries(s||{}))i&&Array.isArray(i)&&e.set(l,new Set(i||[]))}}catch{}}function j6(t,e){if(e.size>0){let n={};for(let[s,l]of e)n[s]=[...l];try{t.sessionStorage.setItem(VS,JSON.stringify(n))}catch(s){Fn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function S6(){let t,e,n=new Promise((s,l)=>{t=async i=>{s(i);try{await n}catch{}},e=async i=>{l(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var di=p.createContext(null);di.displayName="DataRouter";var kd=p.createContext(null);kd.displayName="DataRouterState";p.createContext(!1);var Nv=p.createContext({isTransitioning:!1});Nv.displayName="ViewTransition";var eC=p.createContext(new Map);eC.displayName="Fetchers";var C6=p.createContext(null);C6.displayName="Await";var Ba=p.createContext(null);Ba.displayName="Navigation";var xm=p.createContext(null);xm.displayName="Location";var ia=p.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var jv=p.createContext(null);jv.displayName="RouteError";function E6(t,{relative:e}={}){Rt(Td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=p.useContext(Ba),{hash:l,pathname:i,search:u}=Ad(t,{relative:e}),d=i;return n!=="/"&&(d=i==="/"?n:Ma([n,i])),s.createHref({pathname:d,search:u,hash:l})}function Td(){return p.useContext(xm)!=null}function ca(){return Rt(Td(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(xm).location}var tC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nC(t){p.useContext(Ba).static||p.useLayoutEffect(t)}function Je(){let{isDataRoute:t}=p.useContext(ia);return t?B6():k6()}function k6(){Rt(Td(),"useNavigate() may be used only in the context of a <Router> component.");let t=p.useContext(di),{basename:e,navigator:n}=p.useContext(Ba),{matches:s}=p.useContext(ia),{pathname:l}=ca(),i=JSON.stringify(xv(s)),u=p.useRef(!1);return nC(()=>{u.current=!0}),p.useCallback((f,m={})=>{if(Fn(u.current,tC),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=bv(f,JSON.parse(i),l,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ma([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,i,l,t])}var T6=p.createContext(null);function A6(t){let e=p.useContext(ia).outlet;return p.useMemo(()=>e&&p.createElement(T6.Provider,{value:t},e),[e,t])}function ln(){let{matches:t}=p.useContext(ia),e=t[t.length-1];return e?e.params:{}}function Ad(t,{relative:e}={}){let{matches:n}=p.useContext(ia),{pathname:s}=ca(),l=JSON.stringify(xv(n));return p.useMemo(()=>bv(t,JSON.parse(l),s,e==="path"),[t,l,s,e])}function R6(t,e,n,s,l){Rt(Td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(Ba),{matches:u}=p.useContext(ia),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let T=x&&x.path||"";rC(m,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=ca(),y;y=b;let N=y.pathname||"/",j=N;if(g!=="/"){let T=g.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=co(t,{pathname:j});return Fn(x||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Fn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),D6(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Ma([g,i.encodeLocation?i.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:Ma([g,i.encodeLocation?i.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),u,n,s,l)}function O6(){let t=U6(),e=od(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:l},n):null,u)}var M6=p.createElement(O6,null),L6=class extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?p.createElement(ia.Provider,{value:this.props.routeContext},p.createElement(jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _6({routeContext:t,match:e,children:n}){let s=p.useContext(di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),p.createElement(ia.Provider,{value:t},n)}function D6(t,e=[],n=null,s=null,l=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,u=n==null?void 0:n.errors;if(u!=null){let m=i.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<i.length;m++){let g=i[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,y=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||y){d=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,g,x)=>{let b,y=!1,N=null,j=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||M6,d&&(f<0&&x===0?(rC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):f===x&&(y=!0,j=g.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,x+1)),C=()=>{let T;return b?T=N:y?T=j:g.route.Component?T=p.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=m,p.createElement(_6,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?p.createElement(L6,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:s}):C()},null)}function Sv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P6(t){let e=p.useContext(di);return Rt(e,Sv(t)),e}function $6(t){let e=p.useContext(kd);return Rt(e,Sv(t)),e}function I6(t){let e=p.useContext(ia);return Rt(e,Sv(t)),e}function Cv(t){let e=I6(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function z6(){return Cv("useRouteId")}function U6(){var s;let t=p.useContext(jv),e=$6("useRouteError"),n=Cv("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function B6(){let{router:t}=P6("useNavigate"),e=Cv("useNavigate"),n=p.useRef(!1);return nC(()=>{n.current=!0}),p.useCallback(async(l,i={})=>{Fn(n.current,tC),n.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...i}))},[t,e])}var KN={};function rC(t,e,n){!e&&!KN[t]&&(KN[t]=!0,Fn(!1,n))}var XN={};function ZN(t,e){!t&&!XN[e]&&(XN[e]=!0,console.warn(e))}function q6(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Fn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:p.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Fn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:p.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Fn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:p.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var F6=["HydrateFallback","hydrateFallbackElement"],H6=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function V6({router:t,flushSync:e,unstable_onError:n}){let[s,l]=p.useState(t.state),[i,u]=p.useState(),[d,f]=p.useState({isTransitioning:!1}),[m,g]=p.useState(),[x,b]=p.useState(),[y,N]=p.useState(),j=p.useRef(new Map),S=p.useCallback(E=>{l(L=>(E.errors&&n&&Object.entries(E.errors).forEach(([O,A])=>{var M;((M=L.errors)==null?void 0:M[O])!==A&&n(A)}),E))},[n]),C=p.useCallback((E,{deletedFetchers:L,flushSync:O,viewTransitionOpts:A})=>{E.fetchers.forEach((B,P)=>{B.data!==void 0&&j.current.set(P,B.data)}),L.forEach(B=>j.current.delete(B)),ZN(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(ZN(A==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!M){e&&O?e(()=>S(E)):p.startTransition(()=>S(E));return}if(e&&O){e(()=>{x&&(m&&m.resolve(),x.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let B=t.window.document.startViewTransition(()=>{e(()=>S(E))});B.finished.finally(()=>{e(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>b(B));return}x?(m&&m.resolve(),x.skipTransition(),N({state:E,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(u(E),f({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[t.window,e,x,m,S]);p.useLayoutEffect(()=>t.subscribe(C),[t,C]),p.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new H6)},[d]),p.useEffect(()=>{if(m&&i&&t.window){let E=i,L=m.promise,O=t.window.document.startViewTransition(async()=>{p.startTransition(()=>S(E)),await L});O.finished.finally(()=>{g(void 0),b(void 0),u(void 0),f({isTransitioning:!1})}),b(O)}},[i,m,t.window,S]),p.useEffect(()=>{m&&i&&s.location.key===i.location.key&&m.resolve()},[m,x,s.location,i]),p.useEffect(()=>{!d.isTransitioning&&y&&(u(y.state),f({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),N(void 0))},[d.isTransitioning,y]);let T=p.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:E=>t.navigate(E),push:(E,L,O)=>t.navigate(E,{state:L,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(E,L,O)=>t.navigate(E,{replace:!0,state:L,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),k=t.basename||"/",_=p.useMemo(()=>({router:t,navigator:T,static:!1,basename:k,unstable_onError:n}),[t,T,k,n]);return p.createElement(p.Fragment,null,p.createElement(di.Provider,{value:_},p.createElement(kd.Provider,{value:s},p.createElement(eC.Provider,{value:j.current},p.createElement(Nv.Provider,{value:d},p.createElement(W6,{basename:k,location:s.location,navigationType:s.historyAction,navigator:T},p.createElement(G6,{routes:t.routes,future:t.future,state:s,unstable_onError:n})))))),null)}var G6=p.memo(Y6);function Y6({routes:t,future:e,state:n,unstable_onError:s}){return R6(t,void 0,n,s,e)}function Ev(t){return A6(t.context)}function W6({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:i=!1}){Rt(!Td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:u,navigator:l,static:i,future:{}}),[u,l,i]);typeof n=="string"&&(n=No(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,y=p.useMemo(()=>{let N=Bs(f,u);return N==null?null:{location:{pathname:N,search:m,hash:g,state:x,key:b},navigationType:s}},[u,f,m,g,x,b,s]);return Fn(y!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:p.createElement(Ba.Provider,{value:d},p.createElement(xm.Provider,{children:e,value:y}))}var Th="get",Ah="application/x-www-form-urlencoded";function bm(t){return t!=null&&typeof t.tagName=="string"}function K6(t){return bm(t)&&t.tagName.toLowerCase()==="button"}function X6(t){return bm(t)&&t.tagName.toLowerCase()==="form"}function Z6(t){return bm(t)&&t.tagName.toLowerCase()==="input"}function Q6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J6(t,e){return t.button===0&&(!e||e==="_self")&&!Q6(t)}function ub(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function eO(t,e){let n=ub(t);return e&&e.forEach((s,l)=>{n.has(l)||e.getAll(l).forEach(i=>{n.append(l,i)})}),n}var th=null;function tO(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gx(t){return t!=null&&!nO.has(t)?(Fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):t}function rO(t,e){let n,s,l,i,u;if(X6(t)){let d=t.getAttribute("action");s=d?Bs(d,e):null,n=t.getAttribute("method")||Th,l=gx(t.getAttribute("enctype"))||Ah,i=new FormData(t)}else if(K6(t)||Z6(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?Bs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Th,l=gx(t.getAttribute("formenctype"))||gx(d.getAttribute("enctype"))||Ah,i=new FormData(d,t),!tO()){let{name:m,type:g,value:x}=t;if(g==="image"){let b=m?`${m}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else m&&i.append(m,x)}}else{if(bm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,l=Ah,u=t}return i&&l==="text/plain"&&(u=i,i=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:i,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sO(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Bs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function aO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oO(t,e,n){let s=await Promise.all(t.map(async l=>{let i=e.routes[l.route.id];if(i){let u=await aO(i,n);return u.links?u.links():[]}return[]}));return dO(s.flat(1).filter(lO).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function QN(t,e,n,s,l,i){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return i==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):i==="data"?e.filter((f,m)=>{var x;let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function iO(t,e,{includeHydrateFallback:n}={}){return cO(t.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let i=[l.module];return l.clientActionModule&&(i=i.concat(l.clientActionModule)),l.clientLoaderModule&&(i=i.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(i=i.concat(l.hydrateFallbackModule)),l.imports&&(i=i.concat(l.imports)),i}).flat(1))}function cO(t){return[...new Set(t)]}function uO(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function dO(t,e){let n=new Set;return new Set(e),t.reduce((s,l)=>{let i=JSON.stringify(uO(l));return n.has(i)||(n.add(i),s.push({key:i,link:l})),s},[])}function sC(){let t=p.useContext(di);return kv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fO(){let t=p.useContext(kd);return kv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=p.createContext(void 0);Tv.displayName="FrameworkContext";function aC(){let t=p.useContext(Tv);return kv(t,"You must render this element inside a <HydratedRouter> element"),t}function hO(t,e){let n=p.useContext(Tv),[s,l]=p.useState(!1),[i,u]=p.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,b=p.useRef(null);p.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=C=>{C.forEach(T=>{u(T.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),p.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let y=()=>{l(!0)},N=()=>{l(!1),u(!1)};return n?t!=="intent"?[i,b,{}]:[i,b,{onFocus:Du(d,y),onBlur:Du(f,N),onMouseEnter:Du(m,y),onMouseLeave:Du(g,N),onTouchStart:Du(x,y)}]:[!1,b,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mO({page:t,...e}){let{router:n}=sC(),s=p.useMemo(()=>co(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?p.createElement(gO,{page:t,matches:s,...e}):null}function pO(t){let{manifest:e,routeModules:n}=aC(),[s,l]=p.useState([]);return p.useEffect(()=>{let i=!1;return oO(t,e,n).then(u=>{i||l(u)}),()=>{i=!0}},[t,e,n]),s}function gO({page:t,matches:e,...n}){let s=ca(),{manifest:l,routeModules:i}=aC(),{basename:u}=sC(),{loaderData:d,matches:f}=fO(),m=p.useMemo(()=>QN(t,e,f,l,s,"data"),[t,e,f,l,s]),g=p.useMemo(()=>QN(t,e,f,l,s,"assets"),[t,e,f,l,s]),x=p.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,j=!1;if(e.forEach(C=>{var k;let T=l.routes[C.route.id];!T||!T.hasLoader||(!m.some(_=>_.route.id===C.route.id)&&C.route.id in d&&((k=i[C.route.id])!=null&&k.shouldRevalidate)||T.hasClientLoader?j=!0:N.add(C.route.id))}),N.size===0)return[];let S=sO(t,u,"data");return j&&N.size>0&&S.searchParams.set("_routes",e.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[u,d,s,l,m,e,t,i]),b=p.useMemo(()=>iO(g,l),[g,l]),y=pO(g);return p.createElement(p.Fragment,null,x.map(N=>p.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>p.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),y.map(({key:N,link:j})=>p.createElement("link",{key:N,nonce:n.nonce,...j})))}function xO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lC&&(window.__reactRouterVersion="7.9.4")}catch{}function bO(t,e){return n6({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:wR({window:e==null?void 0:e.window}),hydrationData:vO(),routes:t,mapRouteProperties:q6,hydrationRouteProperties:F6,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function vO(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:yO(t.errors)}),t}function yO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,l]of e)if(l&&l.__type==="RouteErrorResponse")n[s]=new qh(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let i=window[l.__subType];if(typeof i=="function")try{let u=new i(l.message);u.stack="",n[s]=u}catch{}}if(n[s]==null){let i=new Error(l.message);i.stack="",n[s]=i}}else n[s]=l;return n}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mr=p.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:i,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},y){let{basename:N}=p.useContext(Ba),j=typeof m=="string"&&oC.test(m),S,C=!1;if(typeof m=="string"&&j&&(S=m,lC))try{let M=new URL(window.location.href),B=m.startsWith("//")?new URL(M.protocol+m):new URL(m),P=Bs(B.pathname,N);B.origin===M.origin&&P!=null?m=P+B.search+B.hash:C=!0}catch{Fn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=E6(m,{relative:l}),[k,_,E]=hO(s,b),L=SO(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:x});function O(M){e&&e(M),M.defaultPrevented||L(M)}let A=p.createElement("a",{...b,...E,href:S||T,onClick:C||i?e:O,ref:xO(y,_),target:f,"data-discover":!j&&n==="render"?"true":void 0});return k&&!j?p.createElement(p.Fragment,null,A,p.createElement(mO,{page:T})):A});mr.displayName="Link";var wO=p.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:i,to:u,viewTransition:d,children:f,...m},g){let x=Ad(u,{relative:m.relative}),b=ca(),y=p.useContext(kd),{navigator:N,basename:j}=p.useContext(Ba),S=y!=null&&RO(x)&&d===!0,C=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,T=b.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(T=T.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&j&&(k=Bs(k,j)||k);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=T===C||!l&&T.startsWith(C)&&T.charAt(_)==="/",L=k!=null&&(k===C||!l&&k.startsWith(C)&&k.charAt(C.length)==="/"),O={isActive:E,isPending:L,isTransitioning:S},A=E?e:void 0,M;typeof s=="function"?M=s(O):M=[s,E?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(O):i;return p.createElement(mr,{...m,"aria-current":A,className:M,ref:g,style:B,to:u,viewTransition:d},typeof f=="function"?f(O):f)});wO.displayName="NavLink";var NO=p.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:i,method:u=Th,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},y)=>{let N=TO(),j=AO(d,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&oC.test(d),T=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,E=(_==null?void 0:_.getAttribute("formmethod"))||u;N(_||k.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:l,state:i,relative:m,preventScrollReset:g,viewTransition:x})};return p.createElement("form",{ref:y,method:S,action:j,onSubmit:s?f:T,...b,"data-discover":!C&&t==="render"?"true":void 0})});NO.displayName="Form";function jO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iC(t){let e=p.useContext(di);return Rt(e,jO(t)),e}function SO(t,{target:e,replace:n,state:s,preventScrollReset:l,relative:i,viewTransition:u}={}){let d=Je(),f=ca(),m=Ad(t,{relative:i});return p.useCallback(g=>{if(J6(g,e)){g.preventDefault();let x=n!==void 0?n:xo(f)===xo(m);d(t,{replace:x,state:s,preventScrollReset:l,relative:i,viewTransition:u})}},[f,d,m,n,s,e,t,l,i,u])}function CO(t){Fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=p.useRef(ub(t)),n=p.useRef(!1),s=ca(),l=p.useMemo(()=>eO(s.search,n.current?null:e.current),[s.search]),i=Je(),u=p.useCallback((d,f)=>{const m=ub(typeof d=="function"?d(new URLSearchParams(l)):d);n.current=!0,i("?"+m,f)},[i,l]);return[l,u]}var EO=0,kO=()=>`__${String(++EO)}__`;function TO(){let{router:t}=iC("useSubmit"),{basename:e}=p.useContext(Ba),n=z6();return p.useCallback(async(s,l={})=>{let{action:i,method:u,encType:d,formData:f,body:m}=rO(s,e);if(l.navigate===!1){let g=l.fetcherKey||kO();await t.fetch(g,n,l.action||i,{preventScrollReset:l.preventScrollReset,formData:f,body:m,formMethod:l.method||u,formEncType:l.encType||d,flushSync:l.flushSync})}else await t.navigate(l.action||i,{preventScrollReset:l.preventScrollReset,formData:f,body:m,formMethod:l.method||u,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,n])}function AO(t,{relative:e}={}){let{basename:n}=p.useContext(Ba),s=p.useContext(ia);Rt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),i={...Ad(t||".",{relative:e})},u=ca();if(t==null){i.search=u.search;let d=new URLSearchParams(i.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();i.search=g?`?${g}`:""}}return(!t||t===".")&&l.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ma([n,i.pathname])),xo(i)}function RO(t,{relative:e}={}){let n=p.useContext(Nv);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iC("useViewTransitionState"),l=Ad(t,{relative:e});if(!n.isTransitioning)return!1;let i=Bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bh(l.pathname,u)!=null||Bh(l.pathname,i)!=null}var fi=IS();const OO=Ed(fi);function MO(t){return p.createElement(V6,{flushSync:fi.flushSync,...t})}const cC=p.createContext();function LO({children:t}){const[e,n]=p.useState(()=>{const s=localStorage.getItem("user");return s?JSON.parse(s):null});return p.useEffect(()=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},[e]),p.useEffect(()=>{async function s(){try{const l=await fetch("https://fanhub-server.onrender.com/api/auth/me",{method:"GET",credentials:"include"});if(l.ok){const i=await l.json();n(i)}else n(null),localStorage.removeItem("user")}catch{n(null),localStorage.removeItem("user")}}e||s()},[]),r.jsx(cC.Provider,{value:{user:e,setUser:n},children:t})}function Nt(){return p.useContext(cC)}function _O(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(n);return new Uint8Array([...s].map(l=>l.charCodeAt(0)))}function DO({user:t}){return p.useEffect(()=>{if(!t)return;async function e(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){console.warn("Push notifications are not supported in this browser.");return}try{const n=await navigator.serviceWorker.register("/service-worker.js");if(console.log("Service Worker registered:",n),await navigator.serviceWorker.ready,console.log("Service Worker is active"),await Notification.requestPermission()!=="granted"){console.warn("Notification permission not granted");return}const l=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_O("BH2ABzwqDGV-NFDX-JoUM1tDr1YdisxsMB4FTFbBcJpmTjggtRAKkj6oswgdOQBSEax1YdCsAcu7l_Gmbc2e76A")});console.log("Push subscription created:",l),await fetch("https://fanhub-server.onrender.com/api/notifications/save-subscription",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)}),console.log("Subscription sent to backend successfully")}catch(n){console.error("Push setup error:",n)}}e()},[t]),null}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$O=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),JN=t=>{const e=$O(t);return e.charAt(0).toUpperCase()+e.slice(1)},uC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),IO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:i,iconNode:u,...d},f)=>p.createElement("svg",{ref:f,...zO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:uC("lucide",l),...!i&&!IO(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>p.createElement(m,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=p.forwardRef(({className:s,...l},i)=>p.createElement(UO,{ref:i,iconNode:e,className:uC(`lucide-${PO(JN(t))}`,`lucide-${t}`,s),...l}));return n.displayName=JN(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$c=Le("arrow-left",BO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FO=Le("arrow-right",qO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],db=Le("bell",HO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wc=Le("book-marked",VO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qt=Le("book-open",GO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],xx=Le("book",YO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],KO=Le("bookmark",WO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],ZO=Le("calendar-check",XO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zo=Le("calendar",QO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Av=Le("check",JO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rv=Le("chevron-down",eM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dC=Le("chevron-left",tM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vm=Le("chevron-right",nM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sM=Le("chevron-up",rM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nc=Le("circle-alert",aM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fb=Le("circle-check-big",lM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hb=Le("circle-check",oM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Ov=Le("circle-user",iM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uM=Le("circle-x",cM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fC=Le("circle",dM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rd=Le("clock",fM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ej=Le("compass",hM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pM=Le("dollar-sign",mM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Od=Le("ellipsis-vertical",gM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hC=Le("external-link",xM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Md=Le("eye-off",bM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cr=Le("eye",vM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],wM=Le("facebook",yM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],jc=Le("feather",NM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],SM=Le("file-image",jM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mC=Le("file-text",CM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],pC=Le("film",EM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],tj=Le("flame",kM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]],AM=Le("folder-pen",TM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],OM=Le("folder-plus",RM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M20 5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h2.5a1.5 1.5 0 0 1 1.2.6l.6.8a1.5 1.5 0 0 0 1.2.6z",key:"a4852j"}],["path",{d:"M3 8.268a2 2 0 0 0-1 1.738V19a2 2 0 0 0 2 2h11a2 2 0 0 0 1.732-1",key:"yxbcw3"}]],LM=Le("folders",MM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xo=Le("funnel",_M);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nj=Le("globe",DM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$t=Le("heart",PM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Sc=Le("image-plus",$M);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ws=Le("image",IM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],gC=Le("inbox",zM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],BM=Le("instagram",UM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FM=Le("layers",qM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mb=Le("layout-dashboard",HM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],ym=Le("library",VM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Hh=Le("lightbulb",GM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],po=Le("list-checks",YM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],rj=Le("list-plus",WM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],XM=Le("list",KM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=Le("loader-circle",ZM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JM=Le("log-out",QM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xC=Le("menu",eL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jr=Le("message-circle",tL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mn=Le("message-square",nL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sL=Le("moon",rL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],lL=Le("party-popper",aL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iL=Le("pen-line",oL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pb=Le("pen",cL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mv=Le("play",uL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bo=Le("plus",dL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],bC=Le("rocket",fL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lv=Le("save",hL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qr=Le("search",mL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vC=Le("send",pL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xL=Le("settings",gL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vL=Le("share-2",bL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ra=Le("sparkles",yL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ld=Le("square-pen",wL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qs=Le("star",NL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],SL=Le("sun",jL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_v=Le("tag",CL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mr=Le("trash-2",EL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dv=Le("trending-up",kL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wm=Le("triangle-alert",TL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],RL=Le("twitter",AL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Cc=Le("upload",OL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sj=Le("user-minus",ML);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],aj=Le("user-plus",LL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hi=Le("user",_L);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vh=Le("users",DL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Fs=Le("video",PL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],On=Le("x",$L);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zL=Le("zap",IL);function UL(t,e){const n=p.createContext(e),s=i=>{const{children:u,...d}=i,f=p.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:f,children:u})};s.displayName=t+"Provider";function l(i){const u=p.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,l]}function Sl(t,e=[]){let n=[];function s(i,u){const d=p.createContext(u),f=n.length;n=[...n,u];const m=x=>{var C;const{scope:b,children:y,...N}=x,j=((C=b==null?void 0:b[t])==null?void 0:C[f])||d,S=p.useMemo(()=>N,Object.values(N));return r.jsx(j.Provider,{value:S,children:y})};m.displayName=i+"Provider";function g(x,b){var j;const y=((j=b==null?void 0:b[t])==null?void 0:j[f])||d,N=p.useContext(y);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[m,g]}const l=()=>{const i=n.map(u=>p.createContext(u));return function(d){const f=(d==null?void 0:d[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return l.scopeName=t,[s,BL(l,...e)]}function BL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(i){const u=s.reduce((d,{useScope:f,scopeName:m})=>{const x=f(i)[`__scope${m}`];return{...d,...x}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function pr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}var Qn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function lj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cl(...t){return e=>{let n=!1;const s=t.map(l=>{const i=lj(l,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let l=0;l<s.length;l++){const i=s[l];typeof i=="function"?i():lj(t[l],null)}}}}function Bt(...t){return p.useCallback(Cl(...t),t)}function qL(t){const e=FL(t),n=p.forwardRef((s,l)=>{const{children:i,...u}=s,d=p.Children.toArray(i),f=d.find(VL);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}function FL(t){const e=p.forwardRef((n,s)=>{const{children:l,...i}=n;if(p.isValidElement(l)){const u=YL(l),d=GL(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HL=Symbol("radix.slottable");function VL(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HL}function GL(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function YL(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=WL.reduce((t,e)=>{const n=qL(`Primitive.${e}`),s=p.forwardRef((l,i)=>{const{asChild:u,...d}=l,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...d,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function yC(t,e){t&&fi.flushSync(()=>t.dispatchEvent(e))}var bx={exports:{}},vx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj;function KL(){if(oj)return vx;oj=1;var t=gm();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,l=t.useEffect,i=t.useLayoutEffect,u=t.useDebugValue;function d(x,b){var y=b(),N=s({inst:{value:y,getSnapshot:b}}),j=N[0].inst,S=N[1];return i(function(){j.value=y,j.getSnapshot=b,f(j)&&S({inst:j})},[x,y,b]),l(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),u(y),y}function f(x){var b=x.getSnapshot;x=x.value;try{var y=b();return!n(x,y)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return vx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,vx}var ij;function XL(){return ij||(ij=1,bx.exports=KL()),bx.exports}var ZL=XL();function QL(){return ZL.useSyncExternalStore(JL,()=>!0,()=>!1)}function JL(){return()=>{}}var Pv="Avatar",[e_]=Sl(Pv),[t_,wC]=e_(Pv),NC=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[l,i]=p.useState("idle");return r.jsx(t_,{scope:n,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:r.jsx(xt.span,{...s,ref:e})})});NC.displayName=Pv;var jC="AvatarImage",SC=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:l=()=>{},...i}=t,u=wC(jC,n),d=n_(s,i),f=pr(m=>{l(m),u.onImageLoadingStatusChange(m)});return Qn(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?r.jsx(xt.img,{...i,ref:e,src:s}):null});SC.displayName=jC;var CC="AvatarFallback",EC=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...l}=t,i=wC(CC,n),[u,d]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const f=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(f)}},[s]),u&&i.imageLoadingStatus!=="loaded"?r.jsx(xt.span,{...l,ref:e}):null});EC.displayName=CC;function cj(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n_(t,{referrerPolicy:e,crossOrigin:n}){const s=QL(),l=p.useRef(null),i=s?(l.current||(l.current=new window.Image),l.current):null,[u,d]=p.useState(()=>cj(i,t));return Qn(()=>{d(cj(i,t))},[i,t]),Qn(()=>{const f=x=>()=>{d(x)};if(!i)return;const m=f("loaded"),g=f("error");return i.addEventListener("load",m),i.addEventListener("error",g),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",m),i.removeEventListener("error",g)}},[i,n,e]),u}var kC=NC,TC=SC,AC=EC;function RC(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=RC(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function OC(){for(var t,e,n=0,s="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=RC(t))&&(s&&(s+=" "),s+=e);return s}const $v="-",r_=t=>{const e=a_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split($v);return d[0]===""&&d.length!==1&&d.shift(),MC(d,e)||s_(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&s[u]?[...f,...s[u]]:f}}},MC=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),l=s?MC(t.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const i=t.join($v);return(u=e.validators.find(({validator:d})=>d(i)))==null?void 0:u.classGroupId},uj=/^\[(.+)\]$/,s_=t=>{if(uj.test(t)){const e=uj.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},a_=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const l in n)gb(n[l],s,l,e);return s},gb=(t,e,n,s)=>{t.forEach(l=>{if(typeof l=="string"){const i=l===""?e:dj(e,l);i.classGroupId=n;return}if(typeof l=="function"){if(l_(l)){gb(l(s),e,n,s);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([i,u])=>{gb(u,dj(e,i),n,s)})})},dj=(t,e)=>{let n=t;return e.split($v).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},l_=t=>t.isThemeGetter,o_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const l=(i,u)=>{n.set(i,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let u=n.get(i);if(u!==void 0)return u;if((u=s.get(i))!==void 0)return l(i,u),u},set(i,u){n.has(i)?n.set(i,u):l(i,u)}}},xb="!",bb=":",i_=bb.length,c_=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=l=>{const i=[];let u=0,d=0,f=0,m;for(let N=0;N<l.length;N++){let j=l[N];if(u===0&&d===0){if(j===bb){i.push(l.slice(f,N)),f=N+i_;continue}if(j==="/"){m=N;continue}}j==="["?u++:j==="]"?u--:j==="("?d++:j===")"&&d--}const g=i.length===0?l:l.substring(f),x=u_(g),b=x!==g,y=m&&m>f?m-f:void 0;return{modifiers:i,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:y}};if(e){const l=e+bb,i=s;s=u=>u.startsWith(l)?i(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const l=s;s=i=>n({className:i,parseClassName:l})}return s},u_=t=>t.endsWith(xb)?t.substring(0,t.length-1):t.startsWith(xb)?t.substring(1):t,d_=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let i=[];return s.forEach(u=>{u[0]==="["||e[u]?(l.push(...i.sort(),u),i=[]):i.push(u)}),l.push(...i.sort()),l}},f_=t=>({cache:o_(t.cacheSize),parseClassName:c_(t),sortModifiers:d_(t),...r_(t)}),h_=/\s+/,m_=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:i}=e,u=[],d=t.trim().split(h_);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:x,modifiers:b,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:j}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let S=!!j,C=s(S?N.substring(0,j):N);if(!C){if(!S){f=g+(f.length>0?" "+f:f);continue}if(C=s(N),!C){f=g+(f.length>0?" "+f:f);continue}S=!1}const T=i(b).join(":"),k=y?T+xb:T,_=k+C;if(u.includes(_))continue;u.push(_);const E=l(C,S);for(let L=0;L<E.length;++L){const O=E[L];u.push(k+O)}f=g+(f.length>0?" "+f:f)}return f};function p_(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LC(e))&&(s&&(s+=" "),s+=n);return s}const LC=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=LC(t[s]))&&(n&&(n+=" "),n+=e);return n};function g_(t,...e){let n,s,l,i=u;function u(f){const m=e.reduce((g,x)=>x(g),t());return n=f_(m),s=n.cache.get,l=n.cache.set,i=d,d(f)}function d(f){const m=s(f);if(m)return m;const g=m_(f,n);return l(f,g),g}return function(){return i(p_.apply(null,arguments))}}const ar=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_C=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,x_=/^\d+\/\d+$/,b_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nc=t=>x_.test(t),St=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),yx=t=>t.endsWith("%")&&St(t.slice(0,-1)),cl=t=>b_.test(t),j_=()=>!0,S_=t=>v_.test(t)&&!y_.test(t),PC=()=>!1,C_=t=>w_.test(t),E_=t=>N_.test(t),k_=t=>!Ve(t)&&!Ge(t),T_=t=>Ic(t,zC,PC),Ve=t=>_C.test(t),Wo=t=>Ic(t,UC,S_),wx=t=>Ic(t,L_,St),fj=t=>Ic(t,$C,PC),A_=t=>Ic(t,IC,E_),nh=t=>Ic(t,BC,C_),Ge=t=>DC.test(t),Pu=t=>zc(t,UC),R_=t=>zc(t,__),hj=t=>zc(t,$C),O_=t=>zc(t,zC),M_=t=>zc(t,IC),rh=t=>zc(t,BC,!0),Ic=(t,e,n)=>{const s=_C.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},zc=(t,e,n=!1)=>{const s=DC.exec(t);return s?s[1]?e(s[1]):n:!1},$C=t=>t==="position"||t==="percentage",IC=t=>t==="image"||t==="url",zC=t=>t==="length"||t==="size"||t==="bg-size",UC=t=>t==="length",L_=t=>t==="number",__=t=>t==="family-name",BC=t=>t==="shadow",D_=()=>{const t=ar("color"),e=ar("font"),n=ar("text"),s=ar("font-weight"),l=ar("tracking"),i=ar("leading"),u=ar("breakpoint"),d=ar("container"),f=ar("spacing"),m=ar("radius"),g=ar("shadow"),x=ar("inset-shadow"),b=ar("text-shadow"),y=ar("drop-shadow"),N=ar("blur"),j=ar("perspective"),S=ar("aspect"),C=ar("ease"),T=ar("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[..._(),Ge,Ve],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],A=()=>[Ge,Ve,f],M=()=>[nc,"full","auto",...A()],B=()=>[lo,"none","subgrid",Ge,Ve],P=()=>["auto",{span:["full",lo,Ge,Ve]},lo,Ge,Ve],U=()=>[lo,"auto",Ge,Ve],I=()=>["auto","min","max","fr",Ge,Ve],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...A()],W=()=>[nc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],Y=()=>[t,Ge,Ve],Z=()=>[..._(),hj,fj,{position:[Ge,Ve]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",O_,T_,{size:[Ge,Ve]}],K=()=>[yx,Pu,Wo],te=()=>["","none","full",m,Ge,Ve],se=()=>["",St,Pu,Wo],ue=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[St,yx,hj,fj],ge=()=>["","none",N,Ge,Ve],X=()=>["none",St,Ge,Ve],ne=()=>["none",St,Ge,Ve],ce=()=>[St,Ge,Ve],oe=()=>[nc,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cl],breakpoint:[cl],color:[j_],container:[cl],"drop-shadow":[cl],ease:["in","out","in-out"],font:[k_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cl],shadow:[cl],spacing:["px",St],text:[cl],"text-shadow":[cl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nc,Ve,Ge,S]}],container:["container"],columns:[{columns:[St,Ve,Ge,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ge,Ve]}],basis:[{basis:[nc,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,nc,"auto","initial","none",Ve]}],grow:[{grow:["",St,Ge,Ve]}],shrink:[{shrink:["",St,Ge,Ve]}],order:[{order:[lo,"first","last","none",Ge,Ve]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[d,"screen",...W()]}],"min-w":[{"min-w":[d,"screen","none",...W()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Pu,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ge,wx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yx,Ve]}],"font-family":[{font:[R_,Ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ge,Ve]}],"line-clamp":[{"line-clamp":[St,"none",Ge,wx]}],leading:[{leading:[i,...A()]}],"list-image":[{"list-image":["none",Ge,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",Ge,Wo]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[St,"auto",Ge,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ge,Ve],radial:["",Ge,Ve],conic:[lo,Ge,Ve]},M_,A_]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,Ge,Ve]}],"outline-w":[{outline:["",St,Pu,Wo]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",g,rh,nh]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",x,rh,nh]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[St,Wo]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",b,rh,nh]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[St,Ge,Ve]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Ge,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ve]}],filter:[{filter:["","none",Ge,Ve]}],blur:[{blur:ge()}],brightness:[{brightness:[St,Ge,Ve]}],contrast:[{contrast:[St,Ge,Ve]}],"drop-shadow":[{"drop-shadow":["","none",y,rh,nh]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",St,Ge,Ve]}],"hue-rotate":[{"hue-rotate":[St,Ge,Ve]}],invert:[{invert:["",St,Ge,Ve]}],saturate:[{saturate:[St,Ge,Ve]}],sepia:[{sepia:["",St,Ge,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ve]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[St,Ge,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[St,Ge,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,Ge,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,Ge,Ve]}],"backdrop-invert":[{"backdrop-invert":["",St,Ge,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[St,Ge,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[St,Ge,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",St,Ge,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",Ge,Ve]}],ease:[{ease:["linear","initial",C,Ge,Ve]}],delay:[{delay:[St,Ge,Ve]}],animate:[{animate:["none",T,Ge,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ge,Ve]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Ge,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ve]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[St,Pu,Wo,wx]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},P_=g_(D_);function ht(...t){return P_(OC(t))}const or=p.forwardRef(({className:t,...e},n)=>r.jsx(kC,{ref:n,className:ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));or.displayName=kC.displayName;const ir=p.forwardRef(({className:t,...e},n)=>r.jsx(TC,{ref:n,className:ht("aspect-square h-full w-full",t),...e}));ir.displayName=TC.displayName;const cr=p.forwardRef(({className:t,...e},n)=>r.jsx(AC,{ref:n,className:ht("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));cr.displayName=AC.displayName;function $_(t){return Object.prototype.toString.call(t)==="[object Object]"}function mj(t){return $_(t)||Array.isArray(t)}function I_(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Iv(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const l=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return l!==i?!1:n.every(u=>{const d=t[u],f=e[u];return typeof d=="function"?`${d}`==`${f}`:!mj(d)||!mj(f)?d===f:Iv(d,f)})}function pj(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function z_(t,e){if(t.length!==e.length)return!1;const n=pj(t),s=pj(e);return n.every((l,i)=>{const u=s[i];return Iv(l,u)})}function zv(t){return typeof t=="number"}function vb(t){return typeof t=="string"}function Nm(t){return typeof t=="boolean"}function gj(t){return Object.prototype.toString.call(t)==="[object Object]"}function An(t){return Math.abs(t)}function Uv(t){return Math.sign(t)}function Ju(t,e){return An(t-e)}function U_(t,e){if(t===0||e===0||An(t)<=An(e))return 0;const n=Ju(An(t),An(e));return An(n/t)}function B_(t){return Math.round(t*100)/100}function id(t){return cd(t).map(Number)}function ra(t){return t[_d(t)]}function _d(t){return Math.max(0,t.length-1)}function Bv(t,e){return e===_d(t)}function xj(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function cd(t){return Object.keys(t)}function qC(t,e){return[t,e].reduce((n,s)=>(cd(s).forEach(l=>{const i=n[l],u=s[l],d=gj(i)&&gj(u);n[l]=d?qC(i,u):u}),n),{})}function yb(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function q_(t,e){const n={start:s,center:l,end:i};function s(){return 0}function l(f){return i(f)/2}function i(f){return e-f}function u(f,m){return vb(t)?n[t](f):t(e,f,m)}return{measure:u}}function ud(){let t=[];function e(l,i,u,d={passive:!0}){let f;if("addEventListener"in l)l.addEventListener(i,u,d),f=()=>l.removeEventListener(i,u,d);else{const m=l;m.addListener(u),f=()=>m.removeListener(u)}return t.push(f),s}function n(){t=t.filter(l=>l())}const s={add:e,clear:n};return s}function F_(t,e,n,s){const l=ud(),i=1e3/60;let u=null,d=0,f=0;function m(){l.add(t,"visibilitychange",()=>{t.hidden&&N()})}function g(){y(),l.clear()}function x(S){if(!f)return;u||(u=S,n(),n());const C=S-u;for(u=S,d+=C;d>=i;)n(),d-=i;const T=d/i;s(T),f&&(f=e.requestAnimationFrame(x))}function b(){f||(f=e.requestAnimationFrame(x))}function y(){e.cancelAnimationFrame(f),u=null,d=0,f=0}function N(){u=null,d=0}return{init:m,destroy:g,start:b,stop:y,update:n,render:s}}function H_(t,e){const n=e==="rtl",s=t==="y",l=s?"y":"x",i=s?"x":"y",u=!s&&n?-1:1,d=g(),f=x();function m(N){const{height:j,width:S}=N;return s?j:S}function g(){return s?"top":n?"right":"left"}function x(){return s?"bottom":n?"left":"right"}function b(N){return N*u}return{scroll:l,cross:i,startEdge:d,endEdge:f,measureSize:m,direction:b}}function Qo(t=0,e=0){const n=An(t-e);function s(m){return m<t}function l(m){return m>e}function i(m){return s(m)||l(m)}function u(m){return i(m)?s(m)?t:e:m}function d(m){return n?m-n*Math.ceil((m-e)/n):m}return{length:n,max:e,min:t,constrain:u,reachedAny:i,reachedMax:l,reachedMin:s,removeOffset:d}}function FC(t,e,n){const{constrain:s}=Qo(0,t),l=t+1;let i=u(e);function u(b){return n?An((l+b)%l):s(b)}function d(){return i}function f(b){return i=u(b),x}function m(b){return g().set(d()+b)}function g(){return FC(t,d(),n)}const x={get:d,set:f,add:m,clone:g};return x}function V_(t,e,n,s,l,i,u,d,f,m,g,x,b,y,N,j,S,C,T){const{cross:k,direction:_}=t,E=["INPUT","SELECT","TEXTAREA"],L={passive:!1},O=ud(),A=ud(),M=Qo(50,225).constrain(y.measure(20)),B={mouse:300,touch:400},P={mouse:500,touch:600},U=N?43:25;let I=!1,z=0,G=0,$=!1,W=!1,Y=!1,Z=!1;function V(oe){if(!T)return;function we(je){(Nm(T)||T(oe,je))&&xe(je)}const ke=e;O.add(ke,"dragstart",je=>je.preventDefault(),L).add(ke,"touchmove",()=>{},L).add(ke,"touchend",()=>{}).add(ke,"touchstart",we).add(ke,"mousedown",we).add(ke,"touchcancel",ge).add(ke,"contextmenu",ge).add(ke,"click",X,!0)}function q(){O.clear(),A.clear()}function K(){const oe=Z?n:e;A.add(oe,"touchmove",ae,L).add(oe,"touchend",ge).add(oe,"mousemove",ae,L).add(oe,"mouseup",ge)}function te(oe){const we=oe.nodeName||"";return E.includes(we)}function se(){return(N?P:B)[Z?"mouse":"touch"]}function ue(oe,we){const ke=x.add(Uv(oe)*-1),je=g.byDistance(oe,!N).distance;return N||An(oe)<M?je:S&&we?je*.5:g.byIndex(ke.get(),0).distance}function xe(oe){const we=yb(oe,s);Z=we,Y=N&&we&&!oe.buttons&&I,I=Ju(l.get(),u.get())>=2,!(we&&oe.button!==0)&&(te(oe.target)||($=!0,i.pointerDown(oe),m.useFriction(0).useDuration(0),l.set(u),K(),z=i.readPoint(oe),G=i.readPoint(oe,k),b.emit("pointerDown")))}function ae(oe){if(!yb(oe,s)&&oe.touches.length>=2)return ge(oe);const ke=i.readPoint(oe),je=i.readPoint(oe,k),Ae=Ju(ke,z),de=Ju(je,G);if(!W&&!Z&&(!oe.cancelable||(W=Ae>de,!W)))return ge(oe);const Re=i.pointerMove(oe);Ae>j&&(Y=!0),m.useFriction(.3).useDuration(.75),d.start(),l.add(_(Re)),oe.preventDefault()}function ge(oe){const ke=g.byDistance(0,!1).index!==x.get(),je=i.pointerUp(oe)*se(),Ae=ue(_(je),ke),de=U_(je,Ae),Re=U-10*de,De=C+de/50;W=!1,$=!1,A.clear(),m.useDuration(Re).useFriction(De),f.distance(Ae,!N),Z=!1,b.emit("pointerUp")}function X(oe){Y&&(oe.stopPropagation(),oe.preventDefault(),Y=!1)}function ne(){return $}return{init:V,destroy:q,pointerDown:ne}}function G_(t,e){let s,l;function i(x){return x.timeStamp}function u(x,b){const N=`client${(b||t.scroll)==="x"?"X":"Y"}`;return(yb(x,e)?x:x.touches[0])[N]}function d(x){return s=x,l=x,u(x)}function f(x){const b=u(x)-u(l),y=i(x)-i(s)>170;return l=x,y&&(s=x),b}function m(x){if(!s||!l)return 0;const b=u(l)-u(s),y=i(x)-i(s),N=i(x)-i(l)>170,j=b/y;return y&&!N&&An(j)>.1?j:0}return{pointerDown:d,pointerMove:f,pointerUp:m,readPoint:u}}function Y_(){function t(n){const{offsetTop:s,offsetLeft:l,offsetWidth:i,offsetHeight:u}=n;return{top:s,right:l+i,bottom:s+u,left:l,width:i,height:u}}return{measure:t}}function W_(t){function e(s){return t*(s/100)}return{measure:e}}function K_(t,e,n,s,l,i,u){const d=[t].concat(s);let f,m,g=[],x=!1;function b(S){return l.measureSize(u.measure(S))}function y(S){if(!i)return;m=b(t),g=s.map(b);function C(T){for(const k of T){if(x)return;const _=k.target===t,E=s.indexOf(k.target),L=_?m:g[E],O=b(_?t:s[E]);if(An(O-L)>=.5){S.reInit(),e.emit("resize");break}}}f=new ResizeObserver(T=>{(Nm(i)||i(S,T))&&C(T)}),n.requestAnimationFrame(()=>{d.forEach(T=>f.observe(T))})}function N(){x=!0,f&&f.disconnect()}return{init:y,destroy:N}}function X_(t,e,n,s,l,i){let u=0,d=0,f=l,m=i,g=t.get(),x=0;function b(){const L=s.get()-t.get(),O=!f;let A=0;return O?(u=0,n.set(s),t.set(s),A=L):(n.set(t),u+=L/f,u*=m,g+=u,t.add(u),A=g-x),d=Uv(A),x=g,E}function y(){const L=s.get()-e.get();return An(L)<.001}function N(){return f}function j(){return d}function S(){return u}function C(){return k(l)}function T(){return _(i)}function k(L){return f=L,E}function _(L){return m=L,E}const E={direction:j,duration:N,velocity:S,seek:b,settled:y,useBaseFriction:T,useBaseDuration:C,useFriction:_,useDuration:k};return E}function Z_(t,e,n,s,l){const i=l.measure(10),u=l.measure(50),d=Qo(.1,.99);let f=!1;function m(){return!(f||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function g(y){if(!m())return;const N=t.reachedMin(e.get())?"min":"max",j=An(t[N]-e.get()),S=n.get()-e.get(),C=d.constrain(j/u);n.subtract(S*C),!y&&An(S)<i&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function x(y){f=!y}return{shouldConstrain:m,constrain:g,toggleActive:x}}function Q_(t,e,n,s,l){const i=Qo(-e+t,0),u=x(),d=g(),f=b();function m(N,j){return Ju(N,j)<=1}function g(){const N=u[0],j=ra(u),S=u.lastIndexOf(N),C=u.indexOf(j)+1;return Qo(S,C)}function x(){return n.map((N,j)=>{const{min:S,max:C}=i,T=i.constrain(N),k=!j,_=Bv(n,j);return k?C:_||m(S,T)?S:m(C,T)?C:T}).map(N=>parseFloat(N.toFixed(3)))}function b(){if(e<=t+l)return[i.max];if(s==="keepSnaps")return u;const{min:N,max:j}=d;return u.slice(N,j)}return{snapsContained:f,scrollContainLimit:d}}function J_(t,e,n){const s=e[0],l=n?s-t:ra(e);return{limit:Qo(l,s)}}function eD(t,e,n,s){const i=e.min+.1,u=e.max+.1,{reachedMin:d,reachedMax:f}=Qo(i,u);function m(b){return b===1?f(n.get()):b===-1?d(n.get()):!1}function g(b){if(!m(b))return;const y=t*(b*-1);s.forEach(N=>N.add(y))}return{loop:g}}function tD(t){const{max:e,length:n}=t;function s(i){const u=i-e;return n?u/-n:0}return{get:s}}function nD(t,e,n,s,l){const{startEdge:i,endEdge:u}=t,{groupSlides:d}=l,f=x().map(e.measure),m=b(),g=y();function x(){return d(s).map(j=>ra(j)[u]-j[0][i]).map(An)}function b(){return s.map(j=>n[i]-j[i]).map(j=>-An(j))}function y(){return d(m).map(j=>j[0]).map((j,S)=>j+f[S])}return{snaps:m,snapsAligned:g}}function rD(t,e,n,s,l,i){const{groupSlides:u}=l,{min:d,max:f}=s,m=g();function g(){const b=u(i),y=!t||e==="keepSnaps";return n.length===1?[i]:y?b:b.slice(d,f).map((N,j,S)=>{const C=!j,T=Bv(S,j);if(C){const k=ra(S[0])+1;return xj(k)}if(T){const k=_d(i)-ra(S)[0]+1;return xj(k,ra(S)[0])}return N})}return{slideRegistry:m}}function sD(t,e,n,s,l){const{reachedAny:i,removeOffset:u,constrain:d}=s;function f(N){return N.concat().sort((j,S)=>An(j)-An(S))[0]}function m(N){const j=t?u(N):d(N),S=e.map((T,k)=>({diff:g(T-j,0),index:k})).sort((T,k)=>An(T.diff)-An(k.diff)),{index:C}=S[0];return{index:C,distance:j}}function g(N,j){const S=[N,N+n,N-n];if(!t)return N;if(!j)return f(S);const C=S.filter(T=>Uv(T)===j);return C.length?f(C):ra(S)-n}function x(N,j){const S=e[N]-l.get(),C=g(S,j);return{index:N,distance:C}}function b(N,j){const S=l.get()+N,{index:C,distance:T}=m(S),k=!t&&i(S);if(!j||k)return{index:C,distance:N};const _=e[C]-T,E=N+g(_,0);return{index:C,distance:E}}return{byDistance:b,byIndex:x,shortcut:g}}function aD(t,e,n,s,l,i,u){function d(x){const b=x.distance,y=x.index!==e.get();i.add(b),b&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(x.index),u.emit("select"))}function f(x,b){const y=l.byDistance(x,b);d(y)}function m(x,b){const y=e.clone().set(x),N=l.byIndex(y.get(),b);d(N)}return{distance:f,index:m}}function lD(t,e,n,s,l,i,u,d){const f={passive:!0,capture:!0};let m=0;function g(y){if(!d)return;function N(j){if(new Date().getTime()-m>10)return;u.emit("slideFocusStart"),t.scrollLeft=0;const T=n.findIndex(k=>k.includes(j));zv(T)&&(l.useDuration(0),s.index(T,0),u.emit("slideFocus"))}i.add(document,"keydown",x,!1),e.forEach((j,S)=>{i.add(j,"focus",C=>{(Nm(d)||d(y,C))&&N(S)},f)})}function x(y){y.code==="Tab"&&(m=new Date().getTime())}return{init:g}}function Gu(t){let e=t;function n(){return e}function s(f){e=u(f)}function l(f){e+=u(f)}function i(f){e-=u(f)}function u(f){return zv(f)?f:f.get()}return{get:n,set:s,add:l,subtract:i}}function HC(t,e){const n=t.scroll==="x"?u:d,s=e.style;let l=null,i=!1;function u(b){return`translate3d(${b}px,0px,0px)`}function d(b){return`translate3d(0px,${b}px,0px)`}function f(b){if(i)return;const y=B_(t.direction(b));y!==l&&(s.transform=n(y),l=y)}function m(b){i=!b}function g(){i||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:g,to:f,toggleActive:m}}function oD(t,e,n,s,l,i,u,d,f){const g=id(l),x=id(l).reverse(),b=C().concat(T());function y(O,A){return O.reduce((M,B)=>M-l[B],A)}function N(O,A){return O.reduce((M,B)=>y(M,A)>0?M.concat([B]):M,[])}function j(O){return i.map((A,M)=>({start:A-s[M]+.5+O,end:A+e-.5+O}))}function S(O,A,M){const B=j(A);return O.map(P=>{const U=M?0:-n,I=M?n:0,z=M?"end":"start",G=B[P][z];return{index:P,loopPoint:G,slideLocation:Gu(-1),translate:HC(t,f[P]),target:()=>d.get()>G?U:I}})}function C(){const O=u[0],A=N(x,O);return S(A,n,!1)}function T(){const O=e-u[0]-1,A=N(g,O);return S(A,-n,!0)}function k(){return b.every(({index:O})=>{const A=g.filter(M=>M!==O);return y(A,e)<=.1})}function _(){b.forEach(O=>{const{target:A,translate:M,slideLocation:B}=O,P=A();P!==B.get()&&(M.to(P),B.set(P))})}function E(){b.forEach(O=>O.translate.clear())}return{canLoop:k,clear:E,loop:_,loopPoints:b}}function iD(t,e,n){let s,l=!1;function i(f){if(!n)return;function m(g){for(const x of g)if(x.type==="childList"){f.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(g=>{l||(Nm(n)||n(f,g))&&m(g)}),s.observe(t,{childList:!0})}function u(){s&&s.disconnect(),l=!0}return{init:i,destroy:u}}function cD(t,e,n,s){const l={};let i=null,u=null,d,f=!1;function m(){d=new IntersectionObserver(N=>{f||(N.forEach(j=>{const S=e.indexOf(j.target);l[S]=j}),i=null,u=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(N=>d.observe(N))}function g(){d&&d.disconnect(),f=!0}function x(N){return cd(l).reduce((j,S)=>{const C=parseInt(S),{isIntersecting:T}=l[C];return(N&&T||!N&&!T)&&j.push(C),j},[])}function b(N=!0){if(N&&i)return i;if(!N&&u)return u;const j=x(N);return N&&(i=j),N||(u=j),j}return{init:m,destroy:g,get:b}}function uD(t,e,n,s,l,i){const{measureSize:u,startEdge:d,endEdge:f}=t,m=n[0]&&l,g=N(),x=j(),b=n.map(u),y=S();function N(){if(!m)return 0;const T=n[0];return An(e[d]-T[d])}function j(){if(!m)return 0;const T=i.getComputedStyle(ra(s));return parseFloat(T.getPropertyValue(`margin-${f}`))}function S(){return n.map((T,k,_)=>{const E=!k,L=Bv(_,k);return E?b[k]+g:L?b[k]+x:_[k+1][d]-T[d]}).map(An)}return{slideSizes:b,slideSizesWithGaps:y,startGap:g,endGap:x}}function dD(t,e,n,s,l,i,u,d,f){const{startEdge:m,endEdge:g,direction:x}=t,b=zv(n);function y(C,T){return id(C).filter(k=>k%T===0).map(k=>C.slice(k,k+T))}function N(C){return C.length?id(C).reduce((T,k,_)=>{const E=ra(T)||0,L=E===0,O=k===_d(C),A=l[m]-i[E][m],M=l[m]-i[k][g],B=!s&&L?x(u):0,P=!s&&O?x(d):0,U=An(M-P-(A+B));return _&&U>e+f&&T.push(k),O&&T.push(C.length),T},[]).map((T,k,_)=>{const E=Math.max(_[k-1]||0);return C.slice(E,T)}):[]}function j(C){return b?y(C,n):N(C)}return{groupSlides:j}}function fD(t,e,n,s,l,i,u){const{align:d,axis:f,direction:m,startIndex:g,loop:x,duration:b,dragFree:y,dragThreshold:N,inViewThreshold:j,slidesToScroll:S,skipSnaps:C,containScroll:T,watchResize:k,watchSlides:_,watchDrag:E,watchFocus:L}=i,O=2,A=Y_(),M=A.measure(e),B=n.map(A.measure),P=H_(f,m),U=P.measureSize(M),I=W_(U),z=q_(d,U),G=!x&&!!T,$=x||!!T,{slideSizes:W,slideSizesWithGaps:Y,startGap:Z,endGap:V}=uD(P,M,B,n,$,l),q=dD(P,U,S,x,M,B,Z,V,O),{snaps:K,snapsAligned:te}=nD(P,z,M,B,q),se=-ra(K)+ra(Y),{snapsContained:ue,scrollContainLimit:xe}=Q_(U,se,te,T,O),ae=G?ue:te,{limit:ge}=J_(se,ae,x),X=FC(_d(ae),g,x),ne=X.clone(),ce=id(n),oe=({dragHandler:zt,scrollBody:gr,scrollBounds:Tn,options:{loop:Vn}})=>{Vn||Tn.constrain(zt.pointerDown()),gr.seek()},we=({scrollBody:zt,translate:gr,location:Tn,offsetLocation:Vn,previousLocation:pn,scrollLooper:me,slideLooper:Ue,dragHandler:Et,animation:Gt,eventHandler:Yt,scrollBounds:on,options:{loop:en}},qt)=>{const bn=zt.settled(),Ut=!on.shouldConstrain(),cn=en?bn:bn&&Ut,dr=cn&&!Et.pointerDown();dr&&Gt.stop();const In=Tn.get()*qt+pn.get()*(1-qt);Vn.set(In),en&&(me.loop(zt.direction()),Ue.loop()),gr.to(Vn.get()),dr&&Yt.emit("settle"),cn||Yt.emit("scroll")},ke=F_(s,l,()=>oe(ur),zt=>we(ur,zt)),je=.68,Ae=ae[X.get()],de=Gu(Ae),Re=Gu(Ae),De=Gu(Ae),rt=Gu(Ae),ut=X_(de,De,Re,rt,b,je),yt=sD(x,ae,se,ge,rt),Ct=aD(ke,X,ne,ut,yt,rt,u),at=tD(ge),ze=ud(),mt=cD(e,n,u,j),{slideRegistry:pt}=rD(G,T,ae,xe,q,ce),Vt=lD(t,n,pt,Ct,ut,ze,u,L),ur={ownerDocument:s,ownerWindow:l,eventHandler:u,containerRect:M,slideRects:B,animation:ke,axis:P,dragHandler:V_(P,t,s,l,rt,G_(P,l),de,ke,Ct,ut,yt,X,u,I,y,N,C,je,E),eventStore:ze,percentOfView:I,index:X,indexPrevious:ne,limit:ge,location:de,offsetLocation:De,previousLocation:Re,options:i,resizeHandler:K_(e,u,l,n,P,k,A),scrollBody:ut,scrollBounds:Z_(ge,De,rt,ut,I),scrollLooper:eD(se,ge,De,[de,De,Re,rt]),scrollProgress:at,scrollSnapList:ae.map(at.get),scrollSnaps:ae,scrollTarget:yt,scrollTo:Ct,slideLooper:oD(P,U,se,W,Y,K,ae,De,n),slideFocus:Vt,slidesHandler:iD(e,u,_),slidesInView:mt,slideIndexes:ce,slideRegistry:pt,slidesToScroll:q,target:rt,translate:HC(P,e)};return ur}function hD(){let t={},e;function n(m){e=m}function s(m){return t[m]||[]}function l(m){return s(m).forEach(g=>g(e,m)),f}function i(m,g){return t[m]=s(m).concat([g]),f}function u(m,g){return t[m]=s(m).filter(x=>x!==g),f}function d(){t={}}const f={init:n,emit:l,off:u,on:i,clear:d};return f}const mD={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function pD(t){function e(i,u){return qC(i,u||{})}function n(i){const u=i.breakpoints||{},d=cd(u).filter(f=>t.matchMedia(f).matches).map(f=>u[f]).reduce((f,m)=>e(f,m),{});return e(i,d)}function s(i){return i.map(u=>cd(u.breakpoints||{})).reduce((u,d)=>u.concat(d),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function gD(t){let e=[];function n(i,u){return e=u.filter(({options:d})=>t.optionsAtMedia(d).active!==!1),e.forEach(d=>d.init(i,t)),u.reduce((d,f)=>Object.assign(d,{[f.name]:f}),{})}function s(){e=e.filter(i=>i.destroy())}return{init:n,destroy:s}}function Gh(t,e,n){const s=t.ownerDocument,l=s.defaultView,i=pD(l),u=gD(i),d=ud(),f=hD(),{mergeOptions:m,optionsAtMedia:g,optionsMediaQueries:x}=i,{on:b,off:y,emit:N}=f,j=P;let S=!1,C,T=m(mD,Gh.globalOptions),k=m(T),_=[],E,L,O;function A(){const{container:ce,slides:oe}=k;L=(vb(ce)?t.querySelector(ce):ce)||t.children[0];const ke=vb(oe)?L.querySelectorAll(oe):oe;O=[].slice.call(ke||L.children)}function M(ce){const oe=fD(t,L,O,s,l,ce,f);if(ce.loop&&!oe.slideLooper.canLoop()){const we=Object.assign({},ce,{loop:!1});return M(we)}return oe}function B(ce,oe){S||(T=m(T,ce),k=g(T),_=oe||_,A(),C=M(k),x([T,..._.map(({options:we})=>we)]).forEach(we=>d.add(we,"change",P)),k.active&&(C.translate.to(C.location.get()),C.animation.init(),C.slidesInView.init(),C.slideFocus.init(ne),C.eventHandler.init(ne),C.resizeHandler.init(ne),C.slidesHandler.init(ne),C.options.loop&&C.slideLooper.loop(),L.offsetParent&&O.length&&C.dragHandler.init(ne),E=u.init(ne,_)))}function P(ce,oe){const we=q();U(),B(m({startIndex:we},ce),oe),f.emit("reInit")}function U(){C.dragHandler.destroy(),C.eventStore.clear(),C.translate.clear(),C.slideLooper.clear(),C.resizeHandler.destroy(),C.slidesHandler.destroy(),C.slidesInView.destroy(),C.animation.destroy(),u.destroy(),d.clear()}function I(){S||(S=!0,d.clear(),U(),f.emit("destroy"),f.clear())}function z(ce,oe,we){!k.active||S||(C.scrollBody.useBaseFriction().useDuration(oe===!0?0:k.duration),C.scrollTo.index(ce,we||0))}function G(ce){const oe=C.index.add(1).get();z(oe,ce,-1)}function $(ce){const oe=C.index.add(-1).get();z(oe,ce,1)}function W(){return C.index.add(1).get()!==q()}function Y(){return C.index.add(-1).get()!==q()}function Z(){return C.scrollSnapList}function V(){return C.scrollProgress.get(C.offsetLocation.get())}function q(){return C.index.get()}function K(){return C.indexPrevious.get()}function te(){return C.slidesInView.get()}function se(){return C.slidesInView.get(!1)}function ue(){return E}function xe(){return C}function ae(){return t}function ge(){return L}function X(){return O}const ne={canScrollNext:W,canScrollPrev:Y,containerNode:ge,internalEngine:xe,destroy:I,off:y,on:b,emit:N,plugins:ue,previousScrollSnap:K,reInit:j,rootNode:ae,scrollNext:G,scrollPrev:$,scrollProgress:V,scrollSnapList:Z,scrollTo:z,selectedScrollSnap:q,slideNodes:X,slidesInView:te,slidesNotInView:se};return B(e,n),setTimeout(()=>f.emit("init"),0),ne}Gh.globalOptions=void 0;function qv(t={},e=[]){const n=p.useRef(t),s=p.useRef(e),[l,i]=p.useState(),[u,d]=p.useState(),f=p.useCallback(()=>{l&&l.reInit(n.current,s.current)},[l]);return p.useEffect(()=>{Iv(n.current,t)||(n.current=t,f())},[t,f]),p.useEffect(()=>{z_(s.current,e)||(s.current=e,f())},[e,f]),p.useEffect(()=>{if(I_()&&u){Gh.globalOptions=qv.globalOptions;const m=Gh(u,n.current,s.current);return i(m),()=>m.destroy()}else i(void 0)},[u,i]),[d,l]}qv.globalOptions=void 0;var xD=Symbol.for("react.lazy"),Yh=sd[" use ".trim().toString()];function bD(t){return typeof t=="object"&&t!==null&&"then"in t}function VC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===xD&&"_payload"in t&&bD(t._payload)}function vD(t){const e=wD(t),n=p.forwardRef((s,l)=>{let{children:i,...u}=s;VC(i)&&typeof Yh=="function"&&(i=Yh(i._payload));const d=p.Children.toArray(i),f=d.find(jD);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}var yD=vD("Slot");function wD(t){const e=p.forwardRef((n,s)=>{let{children:l,...i}=n;if(VC(l)&&typeof Yh=="function"&&(l=Yh(l._payload)),p.isValidElement(l)){const u=CD(l),d=SD(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ND=Symbol("radix.slottable");function jD(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ND}function SD(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function CD(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const bj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vj=OC,jm=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return vj(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:l,defaultVariants:i}=e,u=Object.keys(l).map(m=>{const g=n==null?void 0:n[m],x=i==null?void 0:i[m];if(g===null)return null;const b=bj(g)||bj(x);return l[m][b]}),d=n&&Object.entries(n).reduce((m,g)=>{let[x,b]=g;return b===void 0||(m[x]=b),m},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:x,className:b,...y}=g;return Object.entries(y).every(N=>{let[j,S]=N;return Array.isArray(S)?S.includes({...i,...d}[j]):{...i,...d}[j]===S})?[...m,x,b]:m},[]);return vj(t,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},ED=jm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=p.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...l},i)=>{const u=s?yD:"button";return r.jsx(u,{className:ht(ED({variant:e,size:n,className:t})),ref:i,...l})});Oe.displayName="Button";const GC=p.createContext(null);function Sm(){const t=p.useContext(GC);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const wb=p.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:s,className:l,children:i,...u},d)=>{const[f,m]=qv({...e,axis:t==="horizontal"?"x":"y"},s),[g,x]=p.useState(!1),[b,y]=p.useState(!1),N=p.useCallback(T=>{T&&(x(T.canScrollPrev()),y(T.canScrollNext()))},[]),j=p.useCallback(()=>{m==null||m.scrollPrev()},[m]),S=p.useCallback(()=>{m==null||m.scrollNext()},[m]),C=p.useCallback(T=>{T.key==="ArrowLeft"?(T.preventDefault(),j()):T.key==="ArrowRight"&&(T.preventDefault(),S())},[j,S]);return p.useEffect(()=>{!m||!n||n(m)},[m,n]),p.useEffect(()=>{if(m)return N(m),m.on("reInit",N),m.on("select",N),()=>{m==null||m.off("select",N)}},[m,N]),r.jsx(GC.Provider,{value:{carouselRef:f,api:m,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:S,canScrollPrev:g,canScrollNext:b},children:r.jsx("div",{ref:d,onKeyDownCapture:C,className:ht("relative",l),role:"region","aria-roledescription":"carousel",...u,children:i})})});wb.displayName="Carousel";const Nb=p.forwardRef(({className:t,...e},n)=>{const{carouselRef:s,orientation:l}=Sm();return r.jsx("div",{ref:s,className:"overflow-hidden",children:r.jsx("div",{ref:n,className:ht("flex",l==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Nb.displayName="CarouselContent";const jb=p.forwardRef(({className:t,...e},n)=>{const{orientation:s}=Sm();return r.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ht("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",t),...e})});jb.displayName="CarouselItem";const Sb=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...s},l)=>{const{orientation:i,scrollPrev:u,canScrollPrev:d}=Sm();return r.jsxs(Oe,{ref:l,variant:e,size:n,className:ht("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!d,onClick:u,...s,children:[r.jsx($c,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Sb.displayName="CarouselPrevious";const Cb=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...s},l)=>{const{orientation:i,scrollNext:u,canScrollNext:d}=Sm();return r.jsxs(Oe,{ref:l,variant:e,size:n,className:ht("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!d,onClick:u,...s,children:[r.jsx(FO,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Next slide"})]})});Cb.displayName="CarouselNext";function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(l){if(t==null||t(l),n===!1||!l.defaultPrevented)return e==null?void 0:e(l)}}var kD=sd[" useId ".trim().toString()]||(()=>{}),TD=0;function ml(t){const[e,n]=p.useState(kD());return Qn(()=>{n(s=>s??String(TD++))},[t]),e?`radix-${e}`:""}var AD=sd[" useInsertionEffect ".trim().toString()]||Qn;function dd({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[l,i,u]=RD({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:l;{const g=p.useRef(t!==void 0);p.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,s])}const m=p.useCallback(g=>{var x;if(d){const b=OD(g)?g(t):g;b!==t&&((x=u.current)==null||x.call(u,b))}else i(g)},[d,t,i,u]);return[f,m]}function RD({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),l=p.useRef(n),i=p.useRef(e);return AD(()=>{i.current=e},[e]),p.useEffect(()=>{var u;l.current!==n&&((u=i.current)==null||u.call(i,n),l.current=n)},[n,l]),[n,s,i]}function OD(t){return typeof t=="function"}function MD(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t);p.useEffect(()=>{const s=l=>{l.key==="Escape"&&n(l)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var LD="DismissableLayer",Eb="dismissableLayer.update",_D="dismissableLayer.pointerDownOutside",DD="dismissableLayer.focusOutside",yj,YC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cm=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:i,onInteractOutside:u,onDismiss:d,...f}=t,m=p.useContext(YC),[g,x]=p.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),N=Bt(e,O=>x(O)),j=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(S),T=g?j.indexOf(g):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,_=T>=C,E=ID(O=>{const A=O.target,M=[...m.branches].some(B=>B.contains(A));!_||M||(l==null||l(O),u==null||u(O),O.defaultPrevented||d==null||d())},b),L=zD(O=>{const A=O.target;[...m.branches].some(B=>B.contains(A))||(i==null||i(O),u==null||u(O),O.defaultPrevented||d==null||d())},b);return MD(O=>{T===m.layers.size-1&&(s==null||s(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},b),p.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(yj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),wj(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=yj)}},[g,b,n,m]),p.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),wj())},[g,m]),p.useEffect(()=>{const O=()=>y({});return document.addEventListener(Eb,O),()=>document.removeEventListener(Eb,O)},[]),r.jsx(xt.div,{...f,ref:N,style:{pointerEvents:k?_?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,E.onPointerDownCapture)})});Cm.displayName=LD;var PD="DismissableLayerBranch",$D=p.forwardRef((t,e)=>{const n=p.useContext(YC),s=p.useRef(null),l=Bt(e,s);return p.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(xt.div,{...t,ref:l})});$D.displayName=PD;function ID(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t),s=p.useRef(!1),l=p.useRef(()=>{});return p.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){WC(_D,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",l.current),l.current=f,e.addEventListener("click",l.current,{once:!0})):f()}else e.removeEventListener("click",l.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",i),e.removeEventListener("click",l.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function zD(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t),s=p.useRef(!1);return p.useEffect(()=>{const l=i=>{i.target&&!s.current&&WC(DD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",l),()=>e.removeEventListener("focusin",l)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function wj(){const t=new CustomEvent(Eb);document.dispatchEvent(t)}function WC(t,e,n,{discrete:s}){const l=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&l.addEventListener(t,e,{once:!0}),s?yC(l,i):l.dispatchEvent(i)}var Nx="focusScope.autoFocusOnMount",jx="focusScope.autoFocusOnUnmount",Nj={bubbles:!1,cancelable:!0},UD="FocusScope",Em=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:i,...u}=t,[d,f]=p.useState(null),m=pr(l),g=pr(i),x=p.useRef(null),b=Bt(e,j=>f(j)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let j=function(k){if(y.paused||!d)return;const _=k.target;d.contains(_)?x.current=_:oo(x.current,{select:!0})},S=function(k){if(y.paused||!d)return;const _=k.relatedTarget;_!==null&&(d.contains(_)||oo(x.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const E of k)E.removedNodes.length>0&&oo(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const T=new MutationObserver(C);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),T.disconnect()}}},[s,d,y.paused]),p.useEffect(()=>{if(d){Sj.add(y);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(Nx,Nj);d.addEventListener(Nx,m),d.dispatchEvent(C),C.defaultPrevented||(BD(GD(KC(d)),{select:!0}),document.activeElement===j&&oo(d))}return()=>{d.removeEventListener(Nx,m),setTimeout(()=>{const C=new CustomEvent(jx,Nj);d.addEventListener(jx,g),d.dispatchEvent(C),C.defaultPrevented||oo(j??document.body,{select:!0}),d.removeEventListener(jx,g),Sj.remove(y)},0)}}},[d,m,g,y]);const N=p.useCallback(j=>{if(!n&&!s||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(S&&C){const T=j.currentTarget,[k,_]=qD(T);k&&_?!j.shiftKey&&C===_?(j.preventDefault(),n&&oo(k,{select:!0})):j.shiftKey&&C===k&&(j.preventDefault(),n&&oo(_,{select:!0})):C===T&&j.preventDefault()}},[n,s,y.paused]);return r.jsx(xt.div,{tabIndex:-1,...u,ref:b,onKeyDown:N})});Em.displayName=UD;function BD(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(oo(s,{select:e}),document.activeElement!==n)return}function qD(t){const e=KC(t),n=jj(e,t),s=jj(e.reverse(),t);return[n,s]}function KC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jj(t,e){for(const n of t)if(!FD(n,{upTo:e}))return n}function FD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function HD(t){return t instanceof HTMLInputElement&&"select"in t}function oo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&HD(t)&&e&&t.select()}}var Sj=VD();function VD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Cj(t,e),t.unshift(e)},remove(e){var n;t=Cj(t,e),(n=t[0])==null||n.resume()}}}function Cj(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function GD(t){return t.filter(e=>e.tagName!=="A")}var YD="Portal",km=p.forwardRef((t,e)=>{var d;const{container:n,...s}=t,[l,i]=p.useState(!1);Qn(()=>i(!0),[]);const u=n||l&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?OO.createPortal(r.jsx(xt.div,{...s,ref:e}),u):null});km.displayName=YD;function WD(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var Hs=t=>{const{present:e,children:n}=t,s=KD(e),l=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),i=Bt(s.ref,XD(l));return typeof n=="function"||s.isPresent?p.cloneElement(l,{ref:i}):null};Hs.displayName="Presence";function KD(t){const[e,n]=p.useState(),s=p.useRef(null),l=p.useRef(t),i=p.useRef("none"),u=t?"mounted":"unmounted",[d,f]=WD(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=sh(s.current);i.current=d==="mounted"?m:"none"},[d]),Qn(()=>{const m=s.current,g=l.current;if(g!==t){const b=i.current,y=sh(m);t?f("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,f]),Qn(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,x=y=>{const j=sh(s.current).includes(CSS.escape(y.animationName));if(y.target===e&&j&&(f("ANIMATION_END"),!l.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},b=y=>{y.target===e&&(i.current=sh(s.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function sh(t){return(t==null?void 0:t.animationName)||"none"}function XD(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sx=0;function Fv(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ej()),document.body.insertAdjacentElement("beforeend",t[1]??Ej()),Sx++,()=>{Sx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sx--}},[])}function Ej(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kb=function(t,e){return kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])},kb(t,e)};function ZD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yn=function(){return yn=Object.assign||function(e){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yn.apply(this,arguments)};function XC(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(n[s[l]]=t[s[l]]);return n}function QD(t,e,n){if(n||arguments.length===2)for(var s=0,l=e.length,i;s<l;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var Rh="right-scroll-bar-position",Oh="width-before-scroll-bar",JD="with-scroll-bars-hidden",e8="--removed-body-scroll-bar-size";function Cx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t8(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var l=n.value;l!==s&&(n.value=s,n.callback(s,l))}}}})[0];return n.callback=e,n.facade}var n8=typeof window<"u"?p.useLayoutEffect:p.useEffect,kj=new WeakMap;function r8(t,e){var n=t8(null,function(s){return t.forEach(function(l){return Cx(l,s)})});return n8(function(){var s=kj.get(n);if(s){var l=new Set(s),i=new Set(t),u=n.current;l.forEach(function(d){i.has(d)||Cx(d,null)}),i.forEach(function(d){l.has(d)||Cx(d,u)})}kj.set(n,t)},[t]),n}function s8(t){return t}function a8(t,e){e===void 0&&(e=s8);var n=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var u=e(i,s);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(i){for(s=!0;n.length;){var u=n;n=[],u.forEach(i)}n={push:function(d){return i(d)},filter:function(){return n}}},assignMedium:function(i){s=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(i),u=n}var f=function(){var g=u;u=[],g.forEach(i)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return l}function l8(t){t===void 0&&(t={});var e=a8(null);return e.options=yn({async:!0,ssr:!1},t),e}var ZC=function(t){var e=t.sideCar,n=XC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,yn({},n))};ZC.isSideCarExport=!0;function o8(t,e){return t.useMedium(e),ZC}var QC=l8(),Ex=function(){},Tm=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:Ex,onWheelCapture:Ex,onTouchMoveCapture:Ex}),l=s[0],i=s[1],u=t.forwardProps,d=t.children,f=t.className,m=t.removeScrollBar,g=t.enabled,x=t.shards,b=t.sideCar,y=t.noRelative,N=t.noIsolation,j=t.inert,S=t.allowPinchZoom,C=t.as,T=C===void 0?"div":C,k=t.gapMode,_=XC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=b,L=r8([n,e]),O=yn(yn({},_),l);return p.createElement(p.Fragment,null,g&&p.createElement(E,{sideCar:QC,removeScrollBar:m,shards:x,noRelative:y,noIsolation:N,inert:j,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:k}),u?p.cloneElement(p.Children.only(d),yn(yn({},O),{ref:L})):p.createElement(T,yn({},O,{className:f,ref:L}),d))});Tm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tm.classNames={fullWidth:Oh,zeroRight:Rh};var i8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=i8();return e&&t.setAttribute("nonce",e),t}function u8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var f8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c8())&&(u8(e,n),d8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},h8=function(){var t=f8();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JC=function(){var t=h8(),e=function(n){var s=n.styles,l=n.dynamic;return t(s,l),null};return e},m8={left:0,top:0,right:0,gap:0},kx=function(t){return parseInt(t||"",10)||0},p8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],l=e[t==="padding"?"paddingRight":"marginRight"];return[kx(n),kx(s),kx(l)]},g8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m8;var e=p8(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},x8=JC(),pc="data-scroll-locked",b8=function(t,e,n,s){var l=t.left,i=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JD,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Oh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(e8,": ").concat(d,`px;
  }
`)},Tj=function(){var t=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(t)?t:0},v8=function(){p.useEffect(function(){return document.body.setAttribute(pc,(Tj()+1).toString()),function(){var t=Tj()-1;t<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,t.toString())}},[])},y8=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;v8();var i=p.useMemo(function(){return g8(l)},[l]);return p.createElement(x8,{styles:b8(i,!e,l,n?"":"!important")})},Tb=!1;if(typeof window<"u")try{var ah=Object.defineProperty({},"passive",{get:function(){return Tb=!0,!0}});window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{Tb=!1}var rc=Tb?{passive:!1}:!1,w8=function(t){return t.tagName==="TEXTAREA"},e5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!w8(t)&&n[e]==="visible")},N8=function(t){return e5(t,"overflowY")},j8=function(t){return e5(t,"overflowX")},Aj=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=t5(t,s);if(l){var i=n5(t,s),u=i[1],d=i[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},S8=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},C8=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},t5=function(t,e){return t==="v"?N8(e):j8(e)},n5=function(t,e){return t==="v"?S8(e):C8(e)},E8=function(t,e){return t==="h"&&e==="rtl"?-1:1},k8=function(t,e,n,s,l){var i=E8(t,window.getComputedStyle(e).direction),u=i*s,d=n.target,f=e.contains(d),m=!1,g=u>0,x=0,b=0;do{if(!d)break;var y=n5(t,d),N=y[0],j=y[1],S=y[2],C=j-S-i*N;(N||C)&&t5(t,d)&&(x+=C,b+=N);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(m=!0),m},lh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rj=function(t){return[t.deltaX,t.deltaY]},Oj=function(t){return t&&"current"in t?t.current:t},T8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},A8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R8=0,sc=[];function O8(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),l=p.useState(R8++)[0],i=p.useState(JC)[0],u=p.useRef(t);p.useEffect(function(){u.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var j=QD([t.lockRef.current],(t.shards||[]).map(Oj),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var d=p.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var C=lh(j),T=n.current,k="deltaX"in j?j.deltaX:T[0]-C[0],_="deltaY"in j?j.deltaY:T[1]-C[1],E,L=j.target,O=Math.abs(k)>Math.abs(_)?"h":"v";if("touches"in j&&O==="h"&&L.type==="range")return!1;var A=Aj(O,L);if(!A)return!0;if(A?E=O:(E=O==="v"?"h":"v",A=Aj(O,L)),!A)return!1;if(!s.current&&"changedTouches"in j&&(k||_)&&(s.current=E),!E)return!0;var M=s.current||E;return k8(M,S,j,M==="h"?k:_)},[]),f=p.useCallback(function(j){var S=j;if(!(!sc.length||sc[sc.length-1]!==i)){var C="deltaY"in S?Rj(S):lh(S),T=e.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&T8(E.delta,C)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var k=(u.current.shards||[]).map(Oj).filter(Boolean).filter(function(E){return E.contains(S.target)}),_=k.length>0?d(S,k[0]):!u.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),m=p.useCallback(function(j,S,C,T){var k={name:j,delta:S,target:C,should:T,shadowParent:M8(C)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(_){return _!==k})},1)},[]),g=p.useCallback(function(j){n.current=lh(j),s.current=void 0},[]),x=p.useCallback(function(j){m(j.type,Rj(j),j.target,d(j,t.lockRef.current))},[]),b=p.useCallback(function(j){m(j.type,lh(j),j.target,d(j,t.lockRef.current))},[]);p.useEffect(function(){return sc.push(i),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,rc),document.addEventListener("touchmove",f,rc),document.addEventListener("touchstart",g,rc),function(){sc=sc.filter(function(j){return j!==i}),document.removeEventListener("wheel",f,rc),document.removeEventListener("touchmove",f,rc),document.removeEventListener("touchstart",g,rc)}},[]);var y=t.removeScrollBar,N=t.inert;return p.createElement(p.Fragment,null,N?p.createElement(i,{styles:A8(l)}):null,y?p.createElement(y8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function M8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L8=o8(QC,O8);var Am=p.forwardRef(function(t,e){return p.createElement(Tm,yn({},t,{ref:e,sideCar:L8}))});Am.classNames=Tm.classNames;var _8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ac=new WeakMap,oh=new WeakMap,ih={},Tx=0,r5=function(t){return t&&(t.host||r5(t.parentNode))},D8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=r5(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},P8=function(t,e,n,s){var l=D8(e,Array.isArray(t)?t:[t]);ih[n]||(ih[n]=new WeakMap);var i=ih[n],u=[],d=new Set,f=new Set(l),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};l.forEach(m);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var y=b.getAttribute(s),N=y!==null&&y!=="false",j=(ac.get(b)||0)+1,S=(i.get(b)||0)+1;ac.set(b,j),i.set(b,S),u.push(b),j===1&&N&&oh.set(b,!0),S===1&&b.setAttribute(n,"true"),N||b.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return g(e),d.clear(),Tx++,function(){u.forEach(function(x){var b=ac.get(x)-1,y=i.get(x)-1;ac.set(x,b),i.set(x,y),b||(oh.has(x)||x.removeAttribute(s),oh.delete(x)),y||x.removeAttribute(n)}),Tx--,Tx||(ac=new WeakMap,ac=new WeakMap,oh=new WeakMap,ih={})}},Hv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=_8(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),P8(s,l,n,"aria-hidden")):function(){return null}};function $8(t){const e=I8(t),n=p.forwardRef((s,l)=>{const{children:i,...u}=s,d=p.Children.toArray(i),f=d.find(U8);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}function I8(t){const e=p.forwardRef((n,s)=>{const{children:l,...i}=n;if(p.isValidElement(l)){const u=q8(l),d=B8(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var z8=Symbol("radix.slottable");function U8(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===z8}function B8(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function q8(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Rm="Dialog",[s5]=Sl(Rm),[F8,ua]=s5(Rm),a5=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:l,onOpenChange:i,modal:u=!0}=t,d=p.useRef(null),f=p.useRef(null),[m,g]=dd({prop:s,defaultProp:l??!1,onChange:i,caller:Rm});return r.jsx(F8,{scope:e,triggerRef:d,contentRef:f,contentId:ml(),titleId:ml(),descriptionId:ml(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};a5.displayName=Rm;var l5="DialogTrigger",o5=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,l=ua(l5,n),i=Bt(e,l.triggerRef);return r.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Yv(l.open),...s,ref:i,onClick:Ye(t.onClick,l.onOpenToggle)})});o5.displayName=l5;var Vv="DialogPortal",[H8,i5]=s5(Vv,{forceMount:void 0}),c5=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:l}=t,i=ua(Vv,e);return r.jsx(H8,{scope:e,forceMount:n,children:p.Children.map(s,u=>r.jsx(Hs,{present:n||i.open,children:r.jsx(km,{asChild:!0,container:l,children:u})}))})};c5.displayName=Vv;var Wh="DialogOverlay",u5=p.forwardRef((t,e)=>{const n=i5(Wh,t.__scopeDialog),{forceMount:s=n.forceMount,...l}=t,i=ua(Wh,t.__scopeDialog);return i.modal?r.jsx(Hs,{present:s||i.open,children:r.jsx(G8,{...l,ref:e})}):null});u5.displayName=Wh;var V8=$8("DialogOverlay.RemoveScroll"),G8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,l=ua(Wh,n);return r.jsx(Am,{as:V8,allowPinchZoom:!0,shards:[l.contentRef],children:r.jsx(xt.div,{"data-state":Yv(l.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Jo="DialogContent",d5=p.forwardRef((t,e)=>{const n=i5(Jo,t.__scopeDialog),{forceMount:s=n.forceMount,...l}=t,i=ua(Jo,t.__scopeDialog);return r.jsx(Hs,{present:s||i.open,children:i.modal?r.jsx(Y8,{...l,ref:e}):r.jsx(W8,{...l,ref:e})})});d5.displayName=Jo;var Y8=p.forwardRef((t,e)=>{const n=ua(Jo,t.__scopeDialog),s=p.useRef(null),l=Bt(e,n.contentRef,s);return p.useEffect(()=>{const i=s.current;if(i)return Hv(i)},[]),r.jsx(f5,{...t,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,i=>{var u;i.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,i=>{const u=i.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&i.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault())})}),W8=p.forwardRef((t,e)=>{const n=ua(Jo,t.__scopeDialog),s=p.useRef(!1),l=p.useRef(!1);return r.jsx(f5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var u,d;(u=t.onCloseAutoFocus)==null||u.call(t,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:i=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=i.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&l.current&&i.preventDefault()}})}),f5=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:i,...u}=t,d=ua(Jo,n),f=p.useRef(null),m=Bt(e,f);return Fv(),r.jsxs(r.Fragment,{children:[r.jsx(Em,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:i,children:r.jsx(Cm,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Yv(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(K8,{titleId:d.titleId}),r.jsx(Z8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Gv="DialogTitle",h5=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,l=ua(Gv,n);return r.jsx(xt.h2,{id:l.titleId,...s,ref:e})});h5.displayName=Gv;var m5="DialogDescription",p5=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,l=ua(m5,n);return r.jsx(xt.p,{id:l.descriptionId,...s,ref:e})});p5.displayName=m5;var g5="DialogClose",x5=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,l=ua(g5,n);return r.jsx(xt.button,{type:"button",...s,ref:e,onClick:Ye(t.onClick,()=>l.onOpenChange(!1))})});x5.displayName=g5;function Yv(t){return t?"open":"closed"}var b5="DialogTitleWarning",[SX,v5]=UL(b5,{contentName:Jo,titleName:Gv,docsSlug:"dialog"}),K8=({titleId:t})=>{const e=v5(b5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},X8="DialogDescriptionWarning",Z8=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v5(X8).contentName}}.`;return p.useEffect(()=>{var i;const l=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&l&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},y5=a5,w5=o5,N5=c5,Om=u5,Mm=d5,Lm=h5,_m=p5,j5=x5;const S5=y5,C5=w5,Q8=N5,E5=p.forwardRef(({className:t,...e},n)=>r.jsx(Om,{className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));E5.displayName=Om.displayName;const J8=jm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wv=p.forwardRef(({side:t="right",className:e,children:n,...s},l)=>r.jsxs(Q8,{children:[r.jsx(E5,{}),r.jsxs(Mm,{ref:l,className:ht(J8({side:t}),e),...s,children:[n,r.jsxs(j5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wv.displayName=Mm.displayName;const e9=p.forwardRef(({className:t,...e},n)=>r.jsx(Lm,{ref:n,className:ht("text-lg font-semibold text-foreground",t),...e}));e9.displayName=Lm.displayName;const t9=p.forwardRef(({className:t,...e},n)=>r.jsx(_m,{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));t9.displayName=_m.displayName;const k5=p.createContext();function n9({children:t}){const[e,n]=p.useState(null),[s,l]=p.useState(!1),[i,u]=p.useState(""),{user:d}=Nt();return p.useEffect(()=>{async function f(){l(!0),u("");try{const m=await fetch(`https://fanhub-server.onrender.com/api/users/${d.id}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),g=await m.json();if(!m.ok){u(g.message);return}console.log("dataUser",g),n(g.user)}catch{u("Something went wrong. Please try again.")}finally{l(!1)}}f()},[]),r.jsx(k5.Provider,{value:{user:e,setUser:n,loading:s,error:i},children:t})}function T5(){return p.useContext(k5)}function r9({fallbackText:t="?",size:e="md",className:n=""}){var x,b,y;const{user:s}=T5(),[l,i]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(null);p.useEffect(()=>{s!=null&&s.img&&m(s.img)},[s]);const g=e==="sm"?"h-8 w-8":e==="lg"?"h-14 w-14":"h-10 w-10";return r.jsxs(or,{className:`${g} ${n}`,children:[(!l||u||!f)&&r.jsx(cr,{style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:((b=(x=s==null?void 0:s.username)==null?void 0:x[0])==null?void 0:b.toUpperCase())||((y=t==null?void 0:t[0])==null?void 0:y.toUpperCase())||"?"}),f&&r.jsx(ir,{src:f,alt:(s==null?void 0:s.username)||"User avatar",style:{display:l&&!u?"block":"none"},onLoad:()=>i(!0),onError:()=>d(!0)})]})}function A5({theme:t="light",size:e=20}){const n=t==="dark",s="brightness(0) saturate(100%) invert(36%) sepia(89%) saturate(2450%) hue-rotate(198deg) brightness(95%) contrast(95%)";return r.jsxs("div",{role:"img","aria-label":"The Voices logo",className:"flex flex-col items-center justify-center rounded-xl shadow-md transition-all duration-500",style:{width:`${e*4}px`,height:`${e*4}px`,borderRadius:"10px",backgroundColor:n?"#0f1a2d":"#ffffff",color:n?"#3b82f6":"#2563eb",border:`1px solid ${n?"#1e2a44":"#e2e8f0"}`,boxShadow:n?"0 0px 5px rgba(59, 130, 246, 0.25)":"0 0px 5px rgba(37, 99, 235, 0.15)"},children:[r.jsx("span",{className:"leading-none select-none",style:{fontSize:`${e/1.33}px`,filter:s,transition:"filter 0.5s ease, transform 0.25s ease"},children:""}),r.jsx("p",{className:"mt-1 text-xs font-semibold tracking-wide transition-colors duration-500",style:{color:n?"#3b82f6":"#2563eb"},"aria-hidden":"true",children:"The Voices"})]})}function Mj(t){const e=s9(t),n=p.forwardRef((s,l)=>{const{children:i,...u}=s,d=p.Children.toArray(i),f=d.find(l9);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}function s9(t){const e=p.forwardRef((n,s)=>{const{children:l,...i}=n;if(p.isValidElement(l)){const u=i9(l),d=o9(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a9=Symbol("radix.slottable");function l9(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a9}function o9(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function i9(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kv(t){const e=t+"CollectionProvider",[n,s]=Sl(e),[l,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:S,children:C}=j,T=zr.useRef(null),k=zr.useRef(new Map).current;return r.jsx(l,{scope:S,itemMap:k,collectionRef:T,children:C})};u.displayName=e;const d=t+"CollectionSlot",f=Mj(d),m=zr.forwardRef((j,S)=>{const{scope:C,children:T}=j,k=i(d,C),_=Bt(S,k.collectionRef);return r.jsx(f,{ref:_,children:T})});m.displayName=d;const g=t+"CollectionItemSlot",x="data-radix-collection-item",b=Mj(g),y=zr.forwardRef((j,S)=>{const{scope:C,children:T,...k}=j,_=zr.useRef(null),E=Bt(S,_),L=i(g,C);return zr.useEffect(()=>(L.itemMap.set(_,{ref:_,...k}),()=>void L.itemMap.delete(_))),r.jsx(b,{[x]:"",ref:E,children:T})});y.displayName=g;function N(j){const S=i(t+"CollectionConsumer",j);return zr.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const k=Array.from(T.querySelectorAll(`[${x}]`));return Array.from(S.itemMap.values()).sort((L,O)=>k.indexOf(L.ref.current)-k.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:y},N,s]}var c9=p.createContext(void 0);function Dm(t){const e=p.useContext(c9);return t||e||"ltr"}const u9=["top","right","bottom","left"],vo=Math.min,xs=Math.max,Kh=Math.round,ch=Math.floor,La=t=>({x:t,y:t}),d9={left:"right",right:"left",bottom:"top",top:"bottom"},f9={start:"end",end:"start"};function Ab(t,e,n){return xs(t,vo(e,n))}function bl(t,e){return typeof t=="function"?t(e):t}function vl(t){return t.split("-")[0]}function Uc(t){return t.split("-")[1]}function Xv(t){return t==="x"?"y":"x"}function Zv(t){return t==="y"?"height":"width"}const h9=new Set(["top","bottom"]);function Oa(t){return h9.has(vl(t))?"y":"x"}function Qv(t){return Xv(Oa(t))}function m9(t,e,n){n===void 0&&(n=!1);const s=Uc(t),l=Qv(t),i=Zv(l);let u=l==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(u=Xh(u)),[u,Xh(u)]}function p9(t){const e=Xh(t);return[Rb(t),e,Rb(e)]}function Rb(t){return t.replace(/start|end/g,e=>f9[e])}const Lj=["left","right"],_j=["right","left"],g9=["top","bottom"],x9=["bottom","top"];function b9(t,e,n){switch(t){case"top":case"bottom":return n?e?_j:Lj:e?Lj:_j;case"left":case"right":return e?g9:x9;default:return[]}}function v9(t,e,n,s){const l=Uc(t);let i=b9(vl(t),n==="start",s);return l&&(i=i.map(u=>u+"-"+l),e&&(i=i.concat(i.map(Rb)))),i}function Xh(t){return t.replace(/left|right|bottom|top/g,e=>d9[e])}function y9(t){return{top:0,right:0,bottom:0,left:0,...t}}function R5(t){return typeof t!="number"?y9(t):{top:t,right:t,bottom:t,left:t}}function Zh(t){const{x:e,y:n,width:s,height:l}=t;return{width:s,height:l,top:n,left:e,right:e+s,bottom:n+l,x:e,y:n}}function Dj(t,e,n){let{reference:s,floating:l}=t;const i=Oa(e),u=Qv(e),d=Zv(u),f=vl(e),m=i==="y",g=s.x+s.width/2-l.width/2,x=s.y+s.height/2-l.height/2,b=s[d]/2-l[d]/2;let y;switch(f){case"top":y={x:g,y:s.y-l.height};break;case"bottom":y={x:g,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:x};break;case"left":y={x:s.x-l.width,y:x};break;default:y={x:s.x,y:s.y}}switch(Uc(e)){case"start":y[u]-=b*(n&&m?-1:1);break;case"end":y[u]+=b*(n&&m?-1:1);break}return y}const w9=async(t,e,n)=>{const{placement:s="bottom",strategy:l="absolute",middleware:i=[],platform:u}=n,d=i.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:l}),{x:g,y:x}=Dj(m,s,f),b=s,y={},N=0;for(let j=0;j<d.length;j++){const{name:S,fn:C}=d[j],{x:T,y:k,data:_,reset:E}=await C({x:g,y:x,initialPlacement:s,placement:b,strategy:l,middlewareData:y,rects:m,platform:u,elements:{reference:t,floating:e}});g=T??g,x=k??x,y={...y,[S]:{...y[S],..._}},E&&N<=50&&(N++,typeof E=="object"&&(E.placement&&(b=E.placement),E.rects&&(m=E.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:l}):E.rects),{x:g,y:x}=Dj(m,b,f)),j=-1)}return{x:g,y:x,placement:b,strategy:l,middlewareData:y}};async function fd(t,e){var n;e===void 0&&(e={});const{x:s,y:l,platform:i,rects:u,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:b=!1,padding:y=0}=bl(e,t),N=R5(y),S=d[b?x==="floating"?"reference":"floating":x],C=Zh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:f})),T=x==="floating"?{x:s,y:l,width:u.floating.width,height:u.floating.height}:u.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),_=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},E=Zh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:k,strategy:f}):T);return{top:(C.top-E.top+N.top)/_.y,bottom:(E.bottom-C.bottom+N.bottom)/_.y,left:(C.left-E.left+N.left)/_.x,right:(E.right-C.right+N.right)/_.x}}const N9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:l,rects:i,platform:u,elements:d,middlewareData:f}=e,{element:m,padding:g=0}=bl(t,e)||{};if(m==null)return{};const x=R5(g),b={x:n,y:s},y=Qv(l),N=Zv(y),j=await u.getDimensions(m),S=y==="y",C=S?"top":"left",T=S?"bottom":"right",k=S?"clientHeight":"clientWidth",_=i.reference[N]+i.reference[y]-b[y]-i.floating[N],E=b[y]-i.reference[y],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let O=L?L[k]:0;(!O||!await(u.isElement==null?void 0:u.isElement(L)))&&(O=d.floating[k]||i.floating[N]);const A=_/2-E/2,M=O/2-j[N]/2-1,B=vo(x[C],M),P=vo(x[T],M),U=B,I=O-j[N]-P,z=O/2-j[N]/2+A,G=Ab(U,z,I),$=!f.arrow&&Uc(l)!=null&&z!==G&&i.reference[N]/2-(z<U?B:P)-j[N]/2<0,W=$?z<U?z-U:z-I:0;return{[y]:b[y]+W,data:{[y]:G,centerOffset:z-G-W,...$&&{alignmentOffset:W}},reset:$}}}),j9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:l,middlewareData:i,rects:u,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...S}=bl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=vl(l),T=Oa(d),k=vl(d)===d,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=b||(k||!j?[Xh(d)]:p9(d)),L=N!=="none";!b&&L&&E.push(...v9(d,j,N,_));const O=[d,...E],A=await fd(e,S),M=[];let B=((s=i.flip)==null?void 0:s.overflows)||[];if(g&&M.push(A[C]),x){const z=m9(l,u,_);M.push(A[z[0]],A[z[1]])}if(B=[...B,{placement:l,overflows:M}],!M.every(z=>z<=0)){var P,U;const z=(((P=i.flip)==null?void 0:P.index)||0)+1,G=O[z];if(G&&(!(x==="alignment"?T!==Oa(G):!1)||B.every(Y=>Oa(Y.placement)===T?Y.overflows[0]>0:!0)))return{data:{index:z,overflows:B},reset:{placement:G}};let $=(U=B.filter(W=>W.overflows[0]<=0).sort((W,Y)=>W.overflows[1]-Y.overflows[1])[0])==null?void 0:U.placement;if(!$)switch(y){case"bestFit":{var I;const W=(I=B.filter(Y=>{if(L){const Z=Oa(Y.placement);return Z===T||Z==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Z=>Z>0).reduce((Z,V)=>Z+V,0)]).sort((Y,Z)=>Y[1]-Z[1])[0])==null?void 0:I[0];W&&($=W);break}case"initialPlacement":$=d;break}if(l!==$)return{reset:{placement:$}}}return{}}}};function Pj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $j(t){return u9.some(e=>t[e]>=0)}const S9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...l}=bl(t,e);switch(s){case"referenceHidden":{const i=await fd(e,{...l,elementContext:"reference"}),u=Pj(i,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:$j(u)}}}case"escaped":{const i=await fd(e,{...l,altBoundary:!0}),u=Pj(i,n.floating);return{data:{escapedOffsets:u,escaped:$j(u)}}}default:return{}}}}},O5=new Set(["left","top"]);async function C9(t,e){const{placement:n,platform:s,elements:l}=t,i=await(s.isRTL==null?void 0:s.isRTL(l.floating)),u=vl(n),d=Uc(n),f=Oa(n)==="y",m=O5.has(u)?-1:1,g=i&&f?-1:1,x=bl(e,t);let{mainAxis:b,crossAxis:y,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof N=="number"&&(y=d==="end"?N*-1:N),f?{x:y*g,y:b*m}:{x:b*m,y:y*g}}const E9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:l,y:i,placement:u,middlewareData:d}=e,f=await C9(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:l+f.x,y:i+f.y,data:{...f,placement:u}}}}},k9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:l}=e,{mainAxis:i=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:C,y:T}=S;return{x:C,y:T}}},...f}=bl(t,e),m={x:n,y:s},g=await fd(e,f),x=Oa(vl(l)),b=Xv(x);let y=m[b],N=m[x];if(i){const S=b==="y"?"top":"left",C=b==="y"?"bottom":"right",T=y+g[S],k=y-g[C];y=Ab(T,y,k)}if(u){const S=x==="y"?"top":"left",C=x==="y"?"bottom":"right",T=N+g[S],k=N-g[C];N=Ab(T,N,k)}const j=d.fn({...e,[b]:y,[x]:N});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[b]:i,[x]:u}}}}}},T9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:l,rects:i,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=bl(t,e),g={x:n,y:s},x=Oa(l),b=Xv(x);let y=g[b],N=g[x];const j=bl(d,e),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(f){const k=b==="y"?"height":"width",_=i.reference[b]-i.floating[k]+S.mainAxis,E=i.reference[b]+i.reference[k]-S.mainAxis;y<_?y=_:y>E&&(y=E)}if(m){var C,T;const k=b==="y"?"width":"height",_=O5.has(vl(l)),E=i.reference[x]-i.floating[k]+(_&&((C=u.offset)==null?void 0:C[x])||0)+(_?0:S.crossAxis),L=i.reference[x]+i.reference[k]+(_?0:((T=u.offset)==null?void 0:T[x])||0)-(_?S.crossAxis:0);N<E?N=E:N>L&&(N=L)}return{[b]:y,[x]:N}}}},A9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:l,rects:i,platform:u,elements:d}=e,{apply:f=()=>{},...m}=bl(t,e),g=await fd(e,m),x=vl(l),b=Uc(l),y=Oa(l)==="y",{width:N,height:j}=i.floating;let S,C;x==="top"||x==="bottom"?(S=x,C=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=x,S=b==="end"?"top":"bottom");const T=j-g.top-g.bottom,k=N-g.left-g.right,_=vo(j-g[S],T),E=vo(N-g[C],k),L=!e.middlewareData.shift;let O=_,A=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(O=T),L&&!b){const B=xs(g.left,0),P=xs(g.right,0),U=xs(g.top,0),I=xs(g.bottom,0);y?A=N-2*(B!==0||P!==0?B+P:xs(g.left,g.right)):O=j-2*(U!==0||I!==0?U+I:xs(g.top,g.bottom))}await f({...e,availableWidth:A,availableHeight:O});const M=await u.getDimensions(d.floating);return N!==M.width||j!==M.height?{reset:{rects:!0}}:{}}}};function Pm(){return typeof window<"u"}function Bc(t){return M5(t)?(t.nodeName||"").toLowerCase():"#document"}function Ns(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qa(t){var e;return(e=(M5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function M5(t){return Pm()?t instanceof Node||t instanceof Ns(t).Node:!1}function aa(t){return Pm()?t instanceof Element||t instanceof Ns(t).Element:!1}function Ia(t){return Pm()?t instanceof HTMLElement||t instanceof Ns(t).HTMLElement:!1}function Ij(t){return!Pm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ns(t).ShadowRoot}const R9=new Set(["inline","contents"]);function Dd(t){const{overflow:e,overflowX:n,overflowY:s,display:l}=la(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!R9.has(l)}const O9=new Set(["table","td","th"]);function M9(t){return O9.has(Bc(t))}const L9=[":popover-open",":modal"];function $m(t){return L9.some(e=>{try{return t.matches(e)}catch{return!1}})}const _9=["transform","translate","scale","rotate","perspective"],D9=["transform","translate","scale","rotate","perspective","filter"],P9=["paint","layout","strict","content"];function Jv(t){const e=e0(),n=aa(t)?la(t):t;return _9.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||D9.some(s=>(n.willChange||"").includes(s))||P9.some(s=>(n.contain||"").includes(s))}function $9(t){let e=yo(t);for(;Ia(e)&&!Ec(e);){if(Jv(e))return e;if($m(e))return null;e=yo(e)}return null}function e0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const I9=new Set(["html","body","#document"]);function Ec(t){return I9.has(Bc(t))}function la(t){return Ns(t).getComputedStyle(t)}function Im(t){return aa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yo(t){if(Bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ij(t)&&t.host||qa(t);return Ij(e)?e.host:e}function L5(t){const e=yo(t);return Ec(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ia(e)&&Dd(e)?e:L5(e)}function hd(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const l=L5(t),i=l===((s=t.ownerDocument)==null?void 0:s.body),u=Ns(l);if(i){const d=Ob(u);return e.concat(u,u.visualViewport||[],Dd(l)?l:[],d&&n?hd(d):[])}return e.concat(l,hd(l,[],n))}function Ob(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _5(t){const e=la(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const l=Ia(t),i=l?t.offsetWidth:n,u=l?t.offsetHeight:s,d=Kh(n)!==i||Kh(s)!==u;return d&&(n=i,s=u),{width:n,height:s,$:d}}function t0(t){return aa(t)?t:t.contextElement}function gc(t){const e=t0(t);if(!Ia(e))return La(1);const n=e.getBoundingClientRect(),{width:s,height:l,$:i}=_5(e);let u=(i?Kh(n.width):n.width)/s,d=(i?Kh(n.height):n.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const z9=La(0);function D5(t){const e=Ns(t);return!e0()||!e.visualViewport?z9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function U9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ns(t)?!1:e}function ei(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const l=t.getBoundingClientRect(),i=t0(t);let u=La(1);e&&(s?aa(s)&&(u=gc(s)):u=gc(t));const d=U9(i,n,s)?D5(i):La(0);let f=(l.left+d.x)/u.x,m=(l.top+d.y)/u.y,g=l.width/u.x,x=l.height/u.y;if(i){const b=Ns(i),y=s&&aa(s)?Ns(s):s;let N=b,j=Ob(N);for(;j&&s&&y!==N;){const S=gc(j),C=j.getBoundingClientRect(),T=la(j),k=C.left+(j.clientLeft+parseFloat(T.paddingLeft))*S.x,_=C.top+(j.clientTop+parseFloat(T.paddingTop))*S.y;f*=S.x,m*=S.y,g*=S.x,x*=S.y,f+=k,m+=_,N=Ns(j),j=Ob(N)}}return Zh({width:g,height:x,x:f,y:m})}function zm(t,e){const n=Im(t).scrollLeft;return e?e.left+n:ei(qa(t)).left+n}function P5(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-zm(t,n),l=n.top+e.scrollTop;return{x:s,y:l}}function B9(t){let{elements:e,rect:n,offsetParent:s,strategy:l}=t;const i=l==="fixed",u=qa(s),d=e?$m(e.floating):!1;if(s===u||d&&i)return n;let f={scrollLeft:0,scrollTop:0},m=La(1);const g=La(0),x=Ia(s);if((x||!x&&!i)&&((Bc(s)!=="body"||Dd(u))&&(f=Im(s)),Ia(s))){const y=ei(s);m=gc(s),g.x=y.x+s.clientLeft,g.y=y.y+s.clientTop}const b=u&&!x&&!i?P5(u,f):La(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+g.x+b.x,y:n.y*m.y-f.scrollTop*m.y+g.y+b.y}}function q9(t){return Array.from(t.getClientRects())}function F9(t){const e=qa(t),n=Im(t),s=t.ownerDocument.body,l=xs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=xs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+zm(t);const d=-n.scrollTop;return la(s).direction==="rtl"&&(u+=xs(e.clientWidth,s.clientWidth)-l),{width:l,height:i,x:u,y:d}}const zj=25;function H9(t,e){const n=Ns(t),s=qa(t),l=n.visualViewport;let i=s.clientWidth,u=s.clientHeight,d=0,f=0;if(l){i=l.width,u=l.height;const g=e0();(!g||g&&e==="fixed")&&(d=l.offsetLeft,f=l.offsetTop)}const m=zm(s);if(m<=0){const g=s.ownerDocument,x=g.body,b=getComputedStyle(x),y=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,N=Math.abs(s.clientWidth-x.clientWidth-y);N<=zj&&(i-=N)}else m<=zj&&(i+=m);return{width:i,height:u,x:d,y:f}}const V9=new Set(["absolute","fixed"]);function G9(t,e){const n=ei(t,!0,e==="fixed"),s=n.top+t.clientTop,l=n.left+t.clientLeft,i=Ia(t)?gc(t):La(1),u=t.clientWidth*i.x,d=t.clientHeight*i.y,f=l*i.x,m=s*i.y;return{width:u,height:d,x:f,y:m}}function Uj(t,e,n){let s;if(e==="viewport")s=H9(t,n);else if(e==="document")s=F9(qa(t));else if(aa(e))s=G9(e,n);else{const l=D5(t);s={x:e.x-l.x,y:e.y-l.y,width:e.width,height:e.height}}return Zh(s)}function $5(t,e){const n=yo(t);return n===e||!aa(n)||Ec(n)?!1:la(n).position==="fixed"||$5(n,e)}function Y9(t,e){const n=e.get(t);if(n)return n;let s=hd(t,[],!1).filter(d=>aa(d)&&Bc(d)!=="body"),l=null;const i=la(t).position==="fixed";let u=i?yo(t):t;for(;aa(u)&&!Ec(u);){const d=la(u),f=Jv(u);!f&&d.position==="fixed"&&(l=null),(i?!f&&!l:!f&&d.position==="static"&&!!l&&V9.has(l.position)||Dd(u)&&!f&&$5(t,u))?s=s.filter(g=>g!==u):l=d,u=yo(u)}return e.set(t,s),s}function W9(t){let{element:e,boundary:n,rootBoundary:s,strategy:l}=t;const u=[...n==="clippingAncestors"?$m(e)?[]:Y9(e,this._c):[].concat(n),s],d=u[0],f=u.reduce((m,g)=>{const x=Uj(e,g,l);return m.top=xs(x.top,m.top),m.right=vo(x.right,m.right),m.bottom=vo(x.bottom,m.bottom),m.left=xs(x.left,m.left),m},Uj(e,d,l));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function K9(t){const{width:e,height:n}=_5(t);return{width:e,height:n}}function X9(t,e,n){const s=Ia(e),l=qa(e),i=n==="fixed",u=ei(t,!0,i,e);let d={scrollLeft:0,scrollTop:0};const f=La(0);function m(){f.x=zm(l)}if(s||!s&&!i)if((Bc(e)!=="body"||Dd(l))&&(d=Im(e)),s){const y=ei(e,!0,i,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else l&&m();i&&!s&&l&&m();const g=l&&!s&&!i?P5(l,d):La(0),x=u.left+d.scrollLeft-f.x-g.x,b=u.top+d.scrollTop-f.y-g.y;return{x,y:b,width:u.width,height:u.height}}function Ax(t){return la(t).position==="static"}function Bj(t,e){if(!Ia(t)||la(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qa(t)===n&&(n=n.ownerDocument.body),n}function I5(t,e){const n=Ns(t);if($m(t))return n;if(!Ia(t)){let l=yo(t);for(;l&&!Ec(l);){if(aa(l)&&!Ax(l))return l;l=yo(l)}return n}let s=Bj(t,e);for(;s&&M9(s)&&Ax(s);)s=Bj(s,e);return s&&Ec(s)&&Ax(s)&&!Jv(s)?n:s||$9(t)||n}const Z9=async function(t){const e=this.getOffsetParent||I5,n=this.getDimensions,s=await n(t.floating);return{reference:X9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Q9(t){return la(t).direction==="rtl"}const J9={convertOffsetParentRelativeRectToViewportRelativeRect:B9,getDocumentElement:qa,getClippingRect:W9,getOffsetParent:I5,getElementRects:Z9,getClientRects:q9,getDimensions:K9,getScale:gc,isElement:aa,isRTL:Q9};function z5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eP(t,e){let n=null,s;const l=qa(t);function i(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),i();const m=t.getBoundingClientRect(),{left:g,top:x,width:b,height:y}=m;if(d||e(),!b||!y)return;const N=ch(x),j=ch(l.clientWidth-(g+b)),S=ch(l.clientHeight-(x+y)),C=ch(g),k={rootMargin:-N+"px "+-j+"px "+-S+"px "+-C+"px",threshold:xs(0,vo(1,f))||1};let _=!0;function E(L){const O=L[0].intersectionRatio;if(O!==f){if(!_)return u();O?u(!1,O):s=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!z5(m,t.getBoundingClientRect())&&u(),_=!1}try{n=new IntersectionObserver(E,{...k,root:l.ownerDocument})}catch{n=new IntersectionObserver(E,k)}n.observe(t)}return u(!0),i}function U5(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:i=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=t0(t),g=l||i?[...m?hd(m):[],...hd(e)]:[];g.forEach(C=>{l&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const x=m&&d?eP(m,n):null;let b=-1,y=null;u&&(y=new ResizeObserver(C=>{let[T]=C;T&&T.target===m&&y&&(y.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),n()}),m&&!f&&y.observe(m),y.observe(e));let N,j=f?ei(t):null;f&&S();function S(){const C=ei(t);j&&!z5(j,C)&&n(),j=C,N=requestAnimationFrame(S)}return n(),()=>{var C;g.forEach(T=>{l&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),x==null||x(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(N)}}const tP=E9,nP=k9,rP=j9,sP=A9,aP=S9,qj=N9,lP=T9,oP=(t,e,n)=>{const s=new Map,l={platform:J9,...n},i={...l.platform,_c:s};return w9(t,e,{...l,platform:i})};var iP=typeof document<"u",cP=function(){},Mh=iP?p.useLayoutEffect:cP;function Qh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,l;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Qh(t[s],e[s]))return!1;return!0}if(l=Object.keys(t),n=l.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,l[s]))return!1;for(s=n;s--!==0;){const i=l[s];if(!(i==="_owner"&&t.$$typeof)&&!Qh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function B5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Fj(t,e){const n=B5(t);return Math.round(e*n)/n}function Rx(t){const e=p.useRef(t);return Mh(()=>{e.current=t}),e}function uP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:l,elements:{reference:i,floating:u}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[g,x]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,y]=p.useState(s);Qh(b,s)||y(s);const[N,j]=p.useState(null),[S,C]=p.useState(null),T=p.useCallback(Y=>{Y!==L.current&&(L.current=Y,j(Y))},[]),k=p.useCallback(Y=>{Y!==O.current&&(O.current=Y,C(Y))},[]),_=i||N,E=u||S,L=p.useRef(null),O=p.useRef(null),A=p.useRef(g),M=f!=null,B=Rx(f),P=Rx(l),U=Rx(m),I=p.useCallback(()=>{if(!L.current||!O.current)return;const Y={placement:e,strategy:n,middleware:b};P.current&&(Y.platform=P.current),oP(L.current,O.current,Y).then(Z=>{const V={...Z,isPositioned:U.current!==!1};z.current&&!Qh(A.current,V)&&(A.current=V,fi.flushSync(()=>{x(V)}))})},[b,e,n,P,U]);Mh(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,x(Y=>({...Y,isPositioned:!1})))},[m]);const z=p.useRef(!1);Mh(()=>(z.current=!0,()=>{z.current=!1}),[]),Mh(()=>{if(_&&(L.current=_),E&&(O.current=E),_&&E){if(B.current)return B.current(_,E,I);I()}},[_,E,I,B,M]);const G=p.useMemo(()=>({reference:L,floating:O,setReference:T,setFloating:k}),[T,k]),$=p.useMemo(()=>({reference:_,floating:E}),[_,E]),W=p.useMemo(()=>{const Y={position:n,left:0,top:0};if(!$.floating)return Y;const Z=Fj($.floating,g.x),V=Fj($.floating,g.y);return d?{...Y,transform:"translate("+Z+"px, "+V+"px)",...B5($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:V}},[n,d,$.floating,g.x,g.y]);return p.useMemo(()=>({...g,update:I,refs:G,elements:$,floatingStyles:W}),[g,I,G,$,W])}const dP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:l}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?qj({element:s.current,padding:l}).fn(n):{}:s?qj({element:s,padding:l}).fn(n):{}}}},fP=(t,e)=>({...tP(t),options:[t,e]}),hP=(t,e)=>({...nP(t),options:[t,e]}),mP=(t,e)=>({...lP(t),options:[t,e]}),pP=(t,e)=>({...rP(t),options:[t,e]}),gP=(t,e)=>({...sP(t),options:[t,e]}),xP=(t,e)=>({...aP(t),options:[t,e]}),bP=(t,e)=>({...dP(t),options:[t,e]});var vP="Arrow",q5=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:l=5,...i}=t;return r.jsx(xt.svg,{...i,ref:e,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});q5.displayName=vP;var yP=q5;function wP(t){const[e,n]=p.useState(void 0);return Qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const i=l[0];let u,d;if("borderBoxSize"in i){const f=i.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var n0="Popper",[F5,Um]=Sl(n0),[NP,H5]=F5(n0),V5=t=>{const{__scopePopper:e,children:n}=t,[s,l]=p.useState(null);return r.jsx(NP,{scope:e,anchor:s,onAnchorChange:l,children:n})};V5.displayName=n0;var G5="PopperAnchor",Y5=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...l}=t,i=H5(G5,n),u=p.useRef(null),d=Bt(e,u),f=p.useRef(null);return p.useEffect(()=>{const m=f.current;f.current=(s==null?void 0:s.current)||u.current,m!==f.current&&i.onAnchorChange(f.current)}),s?null:r.jsx(xt.div,{...l,ref:d})});Y5.displayName=G5;var r0="PopperContent",[jP,SP]=F5(r0),W5=p.forwardRef((t,e)=>{var ae,ge,X,ne,ce,oe;const{__scopePopper:n,side:s="bottom",sideOffset:l=0,align:i="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:N,...j}=t,S=H5(r0,n),[C,T]=p.useState(null),k=Bt(e,we=>T(we)),[_,E]=p.useState(null),L=wP(_),O=(L==null?void 0:L.width)??0,A=(L==null?void 0:L.height)??0,M=s+(i!=="center"?"-"+i:""),B=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},P=Array.isArray(m)?m:[m],U=P.length>0,I={padding:B,boundary:P.filter(EP),altBoundary:U},{refs:z,floatingStyles:G,placement:$,isPositioned:W,middlewareData:Y}=uP({strategy:"fixed",placement:M,whileElementsMounted:(...we)=>U5(...we,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[fP({mainAxis:l+A,alignmentAxis:u}),f&&hP({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?mP():void 0,...I}),f&&pP({...I}),gP({...I,apply:({elements:we,rects:ke,availableWidth:je,availableHeight:Ae})=>{const{width:de,height:Re}=ke.reference,De=we.floating.style;De.setProperty("--radix-popper-available-width",`${je}px`),De.setProperty("--radix-popper-available-height",`${Ae}px`),De.setProperty("--radix-popper-anchor-width",`${de}px`),De.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),_&&bP({element:_,padding:d}),kP({arrowWidth:O,arrowHeight:A}),b&&xP({strategy:"referenceHidden",...I})]}),[Z,V]=Z5($),q=pr(N);Qn(()=>{W&&(q==null||q())},[W,q]);const K=(ae=Y.arrow)==null?void 0:ae.x,te=(ge=Y.arrow)==null?void 0:ge.y,se=((X=Y.arrow)==null?void 0:X.centerOffset)!==0,[ue,xe]=p.useState();return Qn(()=>{C&&xe(window.getComputedStyle(C).zIndex)},[C]),r.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ne=Y.transformOrigin)==null?void 0:ne.x,(ce=Y.transformOrigin)==null?void 0:ce.y].join(" "),...((oe=Y.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(jP,{scope:n,placedSide:Z,onArrowChange:E,arrowX:K,arrowY:te,shouldHideArrow:se,children:r.jsx(xt.div,{"data-side":Z,"data-align":V,...j,ref:k,style:{...j.style,animation:W?void 0:"none"}})})})});W5.displayName=r0;var K5="PopperArrow",CP={top:"bottom",right:"left",bottom:"top",left:"right"},X5=p.forwardRef(function(e,n){const{__scopePopper:s,...l}=e,i=SP(K5,s),u=CP[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(yP,{...l,ref:n,style:{...l.style,display:"block"}})})});X5.displayName=K5;function EP(t){return t!==null}var kP=t=>({name:"transformOrigin",options:t,fn(e){var S,C,T;const{placement:n,rects:s,middlewareData:l}=e,u=((S=l.arrow)==null?void 0:S.centerOffset)!==0,d=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[m,g]=Z5(n),x={start:"0%",center:"50%",end:"100%"}[g],b=(((C=l.arrow)==null?void 0:C.x)??0)+d/2,y=(((T=l.arrow)==null?void 0:T.y)??0)+f/2;let N="",j="";return m==="bottom"?(N=u?x:`${b}px`,j=`${-f}px`):m==="top"?(N=u?x:`${b}px`,j=`${s.floating.height+f}px`):m==="right"?(N=`${-f}px`,j=u?x:`${y}px`):m==="left"&&(N=`${s.floating.width+f}px`,j=u?x:`${y}px`),{data:{x:N,y:j}}}});function Z5(t){const[e,n="center"]=t.split("-");return[e,n]}var Q5=V5,J5=Y5,e4=W5,t4=X5,Ox="rovingFocusGroup.onEntryFocus",TP={bubbles:!1,cancelable:!0},Pd="RovingFocusGroup",[Mb,n4,AP]=Kv(Pd),[RP,r4]=Sl(Pd,[AP]),[OP,MP]=RP(Pd),s4=p.forwardRef((t,e)=>r.jsx(Mb.Provider,{scope:t.__scopeRovingFocusGroup,children:r.jsx(Mb.Slot,{scope:t.__scopeRovingFocusGroup,children:r.jsx(LP,{...t,ref:e})})}));s4.displayName=Pd;var LP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:l=!1,dir:i,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=t,b=p.useRef(null),y=Bt(e,b),N=Dm(i),[j,S]=dd({prop:u,defaultProp:d??null,onChange:f,caller:Pd}),[C,T]=p.useState(!1),k=pr(m),_=n4(n),E=p.useRef(!1),[L,O]=p.useState(0);return p.useEffect(()=>{const A=b.current;if(A)return A.addEventListener(Ox,k),()=>A.removeEventListener(Ox,k)},[k]),r.jsx(OP,{scope:n,orientation:s,dir:N,loop:l,currentTabStopId:j,onItemFocus:p.useCallback(A=>S(A),[S]),onItemShiftTab:p.useCallback(()=>T(!0),[]),onFocusableItemAdd:p.useCallback(()=>O(A=>A+1),[]),onFocusableItemRemove:p.useCallback(()=>O(A=>A-1),[]),children:r.jsx(xt.div,{tabIndex:C||L===0?-1:0,"data-orientation":s,...x,ref:y,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{E.current=!0}),onFocus:Ye(t.onFocus,A=>{const M=!E.current;if(A.target===A.currentTarget&&M&&!C){const B=new CustomEvent(Ox,TP);if(A.currentTarget.dispatchEvent(B),!B.defaultPrevented){const P=_().filter($=>$.focusable),U=P.find($=>$.active),I=P.find($=>$.id===j),G=[U,I,...P].filter(Boolean).map($=>$.ref.current);o4(G,g)}}E.current=!1}),onBlur:Ye(t.onBlur,()=>T(!1))})})}),a4="RovingFocusGroupItem",l4=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:l=!1,tabStopId:i,children:u,...d}=t,f=ml(),m=i||f,g=MP(a4,n),x=g.currentTabStopId===m,b=n4(n),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:j}=g;return p.useEffect(()=>{if(s)return y(),()=>N()},[s,y,N]),r.jsx(Mb.ItemSlot,{scope:n,id:m,focusable:s,active:l,children:r.jsx(xt.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:Ye(t.onMouseDown,S=>{s?g.onItemFocus(m):S.preventDefault()}),onFocus:Ye(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:Ye(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=PP(S,g.orientation,g.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let k=b().filter(_=>_.focusable).map(_=>_.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const _=k.indexOf(S.currentTarget);k=g.loop?$P(k,_+1):k.slice(_+1)}setTimeout(()=>o4(k))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:j!=null}):u})})});l4.displayName=a4;var _P={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PP(t,e,n){const s=DP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return _P[s]}function o4(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function $P(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var IP=s4,zP=l4;function UP(t){const e=BP(t),n=p.forwardRef((s,l)=>{const{children:i,...u}=s,d=p.Children.toArray(i),f=d.find(FP);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}function BP(t){const e=p.forwardRef((n,s)=>{const{children:l,...i}=n;if(p.isValidElement(l)){const u=VP(l),d=HP(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qP=Symbol("radix.slottable");function FP(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qP}function HP(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function VP(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lb=["Enter"," "],GP=["ArrowDown","PageUp","Home"],i4=["ArrowUp","PageDown","End"],YP=[...GP,...i4],WP={ltr:[...Lb,"ArrowRight"],rtl:[...Lb,"ArrowLeft"]},KP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$d="Menu",[md,XP,ZP]=Kv($d),[mi,c4]=Sl($d,[ZP,Um,r4]),Bm=Um(),u4=r4(),[QP,pi]=mi($d),[JP,Id]=mi($d),d4=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:l,onOpenChange:i,modal:u=!0}=t,d=Bm(e),[f,m]=p.useState(null),g=p.useRef(!1),x=pr(i),b=Dm(l);return p.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),r.jsx(Q5,{...d,children:r.jsx(QP,{scope:e,open:n,onOpenChange:x,content:f,onContentChange:m,children:r.jsx(JP,{scope:e,onClose:p.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:b,modal:u,children:s})})})};d4.displayName=$d;var e7="MenuAnchor",s0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,l=Bm(n);return r.jsx(J5,{...l,...s,ref:e})});s0.displayName=e7;var a0="MenuPortal",[t7,f4]=mi(a0,{forceMount:void 0}),h4=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:l}=t,i=pi(a0,e);return r.jsx(t7,{scope:e,forceMount:n,children:r.jsx(Hs,{present:n||i.open,children:r.jsx(km,{asChild:!0,container:l,children:s})})})};h4.displayName=a0;var Us="MenuContent",[n7,l0]=mi(Us),m4=p.forwardRef((t,e)=>{const n=f4(Us,t.__scopeMenu),{forceMount:s=n.forceMount,...l}=t,i=pi(Us,t.__scopeMenu),u=Id(Us,t.__scopeMenu);return r.jsx(md.Provider,{scope:t.__scopeMenu,children:r.jsx(Hs,{present:s||i.open,children:r.jsx(md.Slot,{scope:t.__scopeMenu,children:u.modal?r.jsx(r7,{...l,ref:e}):r.jsx(s7,{...l,ref:e})})})})}),r7=p.forwardRef((t,e)=>{const n=pi(Us,t.__scopeMenu),s=p.useRef(null),l=Bt(e,s);return p.useEffect(()=>{const i=s.current;if(i)return Hv(i)},[]),r.jsx(o0,{...t,ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),s7=p.forwardRef((t,e)=>{const n=pi(Us,t.__scopeMenu);return r.jsx(o0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a7=UP("MenuContent.ScrollLock"),o0=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:b,onDismiss:y,disableOutsideScroll:N,...j}=t,S=pi(Us,n),C=Id(Us,n),T=Bm(n),k=u4(n),_=XP(n),[E,L]=p.useState(null),O=p.useRef(null),A=Bt(e,O,S.onContentChange),M=p.useRef(0),B=p.useRef(""),P=p.useRef(0),U=p.useRef(null),I=p.useRef("right"),z=p.useRef(0),G=N?Am:p.Fragment,$=N?{as:a7,allowPinchZoom:!0}:void 0,W=Z=>{var ae,ge;const V=B.current+Z,q=_().filter(X=>!X.disabled),K=document.activeElement,te=(ae=q.find(X=>X.ref.current===K))==null?void 0:ae.textValue,se=q.map(X=>X.textValue),ue=x7(se,V,te),xe=(ge=q.find(X=>X.textValue===ue))==null?void 0:ge.ref.current;(function X(ne){B.current=ne,window.clearTimeout(M.current),ne!==""&&(M.current=window.setTimeout(()=>X(""),1e3))})(V),xe&&setTimeout(()=>xe.focus())};p.useEffect(()=>()=>window.clearTimeout(M.current),[]),Fv();const Y=p.useCallback(Z=>{var q,K;return I.current===((q=U.current)==null?void 0:q.side)&&v7(Z,(K=U.current)==null?void 0:K.area)},[]);return r.jsx(n7,{scope:n,searchRef:B,onItemEnter:p.useCallback(Z=>{Y(Z)&&Z.preventDefault()},[Y]),onItemLeave:p.useCallback(Z=>{var V;Y(Z)||((V=O.current)==null||V.focus(),L(null))},[Y]),onTriggerLeave:p.useCallback(Z=>{Y(Z)&&Z.preventDefault()},[Y]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(Z=>{U.current=Z},[]),children:r.jsx(G,{...$,children:r.jsx(Em,{asChild:!0,trapped:l,onMountAutoFocus:Ye(i,Z=>{var V;Z.preventDefault(),(V=O.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:r.jsx(Cm,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:b,onDismiss:y,children:r.jsx(IP,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:s,currentTabStopId:E,onCurrentTabStopIdChange:L,onEntryFocus:Ye(f,Z=>{C.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(e4,{role:"menu","aria-orientation":"vertical","data-state":R4(S.open),"data-radix-menu-content":"",dir:C.dir,...T,...j,ref:A,style:{outline:"none",...j.style},onKeyDown:Ye(j.onKeyDown,Z=>{const q=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,K=Z.ctrlKey||Z.altKey||Z.metaKey,te=Z.key.length===1;q&&(Z.key==="Tab"&&Z.preventDefault(),!K&&te&&W(Z.key));const se=O.current;if(Z.target!==se||!YP.includes(Z.key))return;Z.preventDefault();const xe=_().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);i4.includes(Z.key)&&xe.reverse(),p7(xe)}),onBlur:Ye(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(M.current),B.current="")}),onPointerMove:Ye(t.onPointerMove,pd(Z=>{const V=Z.target,q=z.current!==Z.clientX;if(Z.currentTarget.contains(V)&&q){const K=Z.clientX>z.current?"right":"left";I.current=K,z.current=Z.clientX}}))})})})})})})});m4.displayName=Us;var l7="MenuGroup",i0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(xt.div,{role:"group",...s,ref:e})});i0.displayName=l7;var o7="MenuLabel",p4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(xt.div,{...s,ref:e})});p4.displayName=o7;var Jh="MenuItem",Hj="menu.itemSelect",qm=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...l}=t,i=p.useRef(null),u=Id(Jh,t.__scopeMenu),d=l0(Jh,t.__scopeMenu),f=Bt(e,i),m=p.useRef(!1),g=()=>{const x=i.current;if(!n&&x){const b=new CustomEvent(Hj,{bubbles:!0,cancelable:!0});x.addEventListener(Hj,y=>s==null?void 0:s(y),{once:!0}),yC(x,b),b.defaultPrevented?m.current=!1:u.onClose()}};return r.jsx(g4,{...l,ref:f,disabled:n,onClick:Ye(t.onClick,g),onPointerDown:x=>{var b;(b=t.onPointerDown)==null||b.call(t,x),m.current=!0},onPointerUp:Ye(t.onPointerUp,x=>{var b;m.current||(b=x.currentTarget)==null||b.click()}),onKeyDown:Ye(t.onKeyDown,x=>{const b=d.searchRef.current!=="";n||b&&x.key===" "||Lb.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});qm.displayName=Jh;var g4=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:l,...i}=t,u=l0(Jh,n),d=u4(n),f=p.useRef(null),m=Bt(e,f),[g,x]=p.useState(!1),[b,y]=p.useState("");return p.useEffect(()=>{const N=f.current;N&&y((N.textContent??"").trim())},[i.children]),r.jsx(md.ItemSlot,{scope:n,disabled:s,textValue:l??b,children:r.jsx(zP,{asChild:!0,...d,focusable:!s,children:r.jsx(xt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:m,onPointerMove:Ye(t.onPointerMove,pd(N=>{s?u.onItemLeave(N):(u.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(t.onPointerLeave,pd(N=>u.onItemLeave(N))),onFocus:Ye(t.onFocus,()=>x(!0)),onBlur:Ye(t.onBlur,()=>x(!1))})})})}),i7="MenuCheckboxItem",x4=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...l}=t;return r.jsx(N4,{scope:t.__scopeMenu,checked:n,children:r.jsx(qm,{role:"menuitemcheckbox","aria-checked":em(n)?"mixed":n,...l,ref:e,"data-state":u0(n),onSelect:Ye(l.onSelect,()=>s==null?void 0:s(em(n)?!0:!n),{checkForDefaultPrevented:!1})})})});x4.displayName=i7;var b4="MenuRadioGroup",[c7,u7]=mi(b4,{value:void 0,onValueChange:()=>{}}),v4=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...l}=t,i=pr(s);return r.jsx(c7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:r.jsx(i0,{...l,ref:e})})});v4.displayName=b4;var y4="MenuRadioItem",w4=p.forwardRef((t,e)=>{const{value:n,...s}=t,l=u7(y4,t.__scopeMenu),i=n===l.value;return r.jsx(N4,{scope:t.__scopeMenu,checked:i,children:r.jsx(qm,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":u0(i),onSelect:Ye(s.onSelect,()=>{var u;return(u=l.onValueChange)==null?void 0:u.call(l,n)},{checkForDefaultPrevented:!1})})})});w4.displayName=y4;var c0="MenuItemIndicator",[N4,d7]=mi(c0,{checked:!1}),j4=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...l}=t,i=d7(c0,n);return r.jsx(Hs,{present:s||em(i.checked)||i.checked===!0,children:r.jsx(xt.span,{...l,ref:e,"data-state":u0(i.checked)})})});j4.displayName=c0;var f7="MenuSeparator",S4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return r.jsx(xt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});S4.displayName=f7;var h7="MenuArrow",C4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,l=Bm(n);return r.jsx(t4,{...l,...s,ref:e})});C4.displayName=h7;var m7="MenuSub",[CX,E4]=mi(m7),Yu="MenuSubTrigger",k4=p.forwardRef((t,e)=>{const n=pi(Yu,t.__scopeMenu),s=Id(Yu,t.__scopeMenu),l=E4(Yu,t.__scopeMenu),i=l0(Yu,t.__scopeMenu),u=p.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=i,m={__scopeMenu:t.__scopeMenu},g=p.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return p.useEffect(()=>g,[g]),p.useEffect(()=>{const x=d.current;return()=>{window.clearTimeout(x),f(null)}},[d,f]),r.jsx(s0,{asChild:!0,...m,children:r.jsx(g4,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":R4(n.open),...t,ref:Cl(e,l.onTriggerChange),onClick:x=>{var b;(b=t.onClick)==null||b.call(t,x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ye(t.onPointerMove,pd(x=>{i.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(i.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ye(t.onPointerLeave,pd(x=>{var y,N;g();const b=(y=n.content)==null?void 0:y.getBoundingClientRect();if(b){const j=(N=n.content)==null?void 0:N.dataset.side,S=j==="right",C=S?-5:5,T=b[S?"left":"right"],k=b[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:x.clientX+C,y:x.clientY},{x:T,y:b.top},{x:k,y:b.top},{x:k,y:b.bottom},{x:T,y:b.bottom}],side:j}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(x),x.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(t.onKeyDown,x=>{var y;const b=i.searchRef.current!=="";t.disabled||b&&x.key===" "||WP[s.dir].includes(x.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),x.preventDefault())})})})});k4.displayName=Yu;var T4="MenuSubContent",A4=p.forwardRef((t,e)=>{const n=f4(Us,t.__scopeMenu),{forceMount:s=n.forceMount,...l}=t,i=pi(Us,t.__scopeMenu),u=Id(Us,t.__scopeMenu),d=E4(T4,t.__scopeMenu),f=p.useRef(null),m=Bt(e,f);return r.jsx(md.Provider,{scope:t.__scopeMenu,children:r.jsx(Hs,{present:s||i.open,children:r.jsx(md.Slot,{scope:t.__scopeMenu,children:r.jsx(o0,{id:d.contentId,"aria-labelledby":d.triggerId,...l,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var x;u.isUsingKeyboardRef.current&&((x=f.current)==null||x.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ye(t.onFocusOutside,g=>{g.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ye(t.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:Ye(t.onKeyDown,g=>{var y;const x=g.currentTarget.contains(g.target),b=KP[u.dir].includes(g.key);x&&b&&(i.onOpenChange(!1),(y=d.trigger)==null||y.focus(),g.preventDefault())})})})})})});A4.displayName=T4;function R4(t){return t?"open":"closed"}function em(t){return t==="indeterminate"}function u0(t){return em(t)?"indeterminate":t?"checked":"unchecked"}function p7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function g7(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function x7(t,e,n){const l=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let u=g7(t,Math.max(i,0));l.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.toLowerCase().startsWith(l.toLowerCase()));return f!==n?f:void 0}function b7(t,e){const{x:n,y:s}=t;let l=!1;for(let i=0,u=e.length-1;i<e.length;u=i++){const d=e[i],f=e[u],m=d.x,g=d.y,x=f.x,b=f.y;g>s!=b>s&&n<(x-m)*(s-g)/(b-g)+m&&(l=!l)}return l}function v7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return b7(n,e)}function pd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y7=d4,w7=s0,N7=h4,j7=m4,S7=i0,C7=p4,E7=qm,k7=x4,T7=v4,A7=w4,R7=j4,O7=S4,M7=C4,L7=k4,_7=A4,Fm="DropdownMenu",[D7]=Sl(Fm,[c4]),Fr=c4(),[P7,O4]=D7(Fm),M4=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:l,defaultOpen:i,onOpenChange:u,modal:d=!0}=t,f=Fr(e),m=p.useRef(null),[g,x]=dd({prop:l,defaultProp:i??!1,onChange:u,caller:Fm});return r.jsx(P7,{scope:e,triggerId:ml(),triggerRef:m,contentId:ml(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(b=>!b),[x]),modal:d,children:r.jsx(y7,{...f,open:g,onOpenChange:x,dir:s,modal:d,children:n})})};M4.displayName=Fm;var L4="DropdownMenuTrigger",_4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...l}=t,i=O4(L4,n),u=Fr(n);return r.jsx(w7,{asChild:!0,...u,children:r.jsx(xt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...l,ref:Cl(e,i.triggerRef),onPointerDown:Ye(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:Ye(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});_4.displayName=L4;var $7="DropdownMenuPortal",D4=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Fr(e);return r.jsx(N7,{...s,...n})};D4.displayName=$7;var P4="DropdownMenuContent",$4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=O4(P4,n),i=Fr(n),u=p.useRef(!1);return r.jsx(j7,{id:l.contentId,"aria-labelledby":l.triggerId,...i,...s,ref:e,onCloseAutoFocus:Ye(t.onCloseAutoFocus,d=>{var f;u.current||(f=l.triggerRef.current)==null||f.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Ye(t.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!l.modal||g)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$4.displayName=P4;var I7="DropdownMenuGroup",z7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(S7,{...l,...s,ref:e})});z7.displayName=I7;var U7="DropdownMenuLabel",I4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(C7,{...l,...s,ref:e})});I4.displayName=U7;var B7="DropdownMenuItem",z4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(E7,{...l,...s,ref:e})});z4.displayName=B7;var q7="DropdownMenuCheckboxItem",U4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(k7,{...l,...s,ref:e})});U4.displayName=q7;var F7="DropdownMenuRadioGroup",H7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(T7,{...l,...s,ref:e})});H7.displayName=F7;var V7="DropdownMenuRadioItem",B4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(A7,{...l,...s,ref:e})});B4.displayName=V7;var G7="DropdownMenuItemIndicator",q4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(R7,{...l,...s,ref:e})});q4.displayName=G7;var Y7="DropdownMenuSeparator",F4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(O7,{...l,...s,ref:e})});F4.displayName=Y7;var W7="DropdownMenuArrow",K7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(M7,{...l,...s,ref:e})});K7.displayName=W7;var X7="DropdownMenuSubTrigger",H4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(L7,{...l,...s,ref:e})});H4.displayName=X7;var Z7="DropdownMenuSubContent",V4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,l=Fr(n);return r.jsx(_7,{...l,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V4.displayName=Z7;var Q7=M4,J7=_4,e$=D4,G4=$4,Y4=I4,W4=z4,K4=U4,X4=B4,Z4=q4,Q4=F4,J4=H4,eE=V4;const pl=Q7,gl=J7,t$=p.forwardRef(({className:t,inset:e,children:n,...s},l)=>r.jsxs(J4,{ref:l,className:ht("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s,children:[n,r.jsx(vm,{className:"ml-auto"})]}));t$.displayName=J4.displayName;const n$=p.forwardRef(({className:t,...e},n)=>r.jsx(eE,{ref:n,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));n$.displayName=eE.displayName;const _a=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>r.jsx(e$,{children:r.jsx(G4,{ref:s,sideOffset:e,className:ht("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));_a.displayName=G4.displayName;const Ur=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(W4,{ref:s,className:ht("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Ur.displayName=W4.displayName;const r$=p.forwardRef(({className:t,children:e,checked:n,...s},l)=>r.jsxs(K4,{ref:l,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Z4,{children:r.jsx(Av,{className:"h-4 w-4"})})}),e]}));r$.displayName=K4.displayName;const s$=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(X4,{ref:s,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Z4,{children:r.jsx(fC,{className:"h-2 w-2 fill-current"})})}),e]}));s$.displayName=X4.displayName;const tE=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(Y4,{ref:s,className:ht("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));tE.displayName=Y4.displayName;const _b=p.forwardRef(({className:t,...e},n)=>r.jsx(Q4,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",t),...e}));_b.displayName=Q4.displayName;function Jt({user:t,darkMode:e,setDarkMode:n}){const s=Je(),[l,i]=p.useState(!1),[u,d]=p.useState(!1);return r.jsx("header",{className:"fixed top-0 left-0 w-full z-50 shadow-sm transition-colors duration-500",style:{backgroundColor:"var(--header-bg)",color:"var(--header-text)",borderBottom:"1px solid var(--border-color)"},children:r.jsxs("nav",{className:"flex justify-between items-center px-4 md:px-6 py-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(mr,{to:"/homestories",children:r.jsx(A5,{theme:e?"dark":"light",size:18})})}),r.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[r.jsx(mr,{to:"/tweets",className:"nav-link",children:"Community"}),r.jsx(mr,{to:"/homestories",className:"nav-link",children:"Stories"}),r.jsx(mr,{to:"/visual stories",className:"nav-link",children:"Visual stories"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>n(!e),className:"p-2 rounded-md transition-all duration-300",style:{backgroundColor:"var(--hover-bg)"},"aria-label":"Toggle Theme",children:e?r.jsx(SL,{className:"h-5 w-5",style:{color:"var(--button-bg)"}}):r.jsx(sL,{className:"h-5 w-5",style:{color:"var(--button-bg)"}})}),r.jsx("div",{className:"md:hidden",children:r.jsxs(S5,{children:[r.jsx(C5,{asChild:!0,children:r.jsx("button",{className:"p-2 rounded-md transition-all duration-300",style:{backgroundColor:"var(--hover-bg)"},"aria-label":"Open Menu",children:r.jsx(xC,{className:"h-5 w-5",style:{color:"var(--button-bg)"}})})}),r.jsx(Wv,{side:"left",className:"w-64 transition-colors duration-500",style:{backgroundColor:"var(--card-bg)",color:"var(--card-text)"},children:r.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[r.jsxs(mr,{to:"/tweets",className:"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700/10 transition-all",onClick:()=>d(!1),children:[r.jsx(Vh,{className:"w-5 h-5 text-blue-400"}),"Community"]}),r.jsxs(mr,{to:"/homestories",className:"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700/10 transition-all",onClick:()=>d(!1),children:[r.jsx(Qt,{className:"w-5 h-5 text-purple-400"}),"Stories"]}),r.jsxs(mr,{to:"/homecollections",className:"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-gray-700/10 transition-all",onClick:()=>d(!1),children:[r.jsx(FM,{className:"w-5 h-5 text-pink-400"}),"Collections"]}),!t&&r.jsxs(r.Fragment,{children:[r.jsx(mr,{to:"/signup",className:"auth-btn",onClick:()=>d(!1),children:"Signup"}),r.jsx(mr,{to:"/login",className:"auth-btn",onClick:()=>d(!1),children:"Login"})]})]})})]})}),t&&r.jsx(a$,{user:t,navigate:s,darkMode:e,menuOpen:l,setMenuOpen:i})]})]})})}function a$({user:t,navigate:e,darkMode:n,menuOpen:s,setMenuOpen:l}){return r.jsxs(pl,{open:s,onOpenChange:l,children:[r.jsx(gl,{asChild:!0,children:r.jsx("button",{className:"focus:outline-none rounded-full transition-all duration-300",style:{boxShadow:n?"0 0 0 2px rgba(255, 255, 255, 0.3)":"0 0 0 2px rgba(37, 99, 235, 0.3)"},children:r.jsx(r9,{size:"md"})})}),r.jsxs(_a,{align:"end",className:"w-56 p-2 border rounded-lg shadow-lg",style:{backgroundColor:"var(--card-bg)",color:"var(--card-text)",borderColor:"var(--border-color)"},children:[r.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/40",children:[r.jsx("p",{className:"font-semibold text-sm",children:t==null?void 0:t.username}),r.jsx("p",{className:"text-xs opacity-70",children:t==null?void 0:t.email})]}),r.jsxs("div",{className:"py-1 border-b border-gray-700/40",children:[r.jsxs(Ur,{onClick:()=>e(`/profile/${t==null?void 0:t.username}/${t==null?void 0:t.id}/about`),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(hi,{className:"w-4 h-4 text-blue-400"}),"Profile"]}),r.jsxs(Ur,{onClick:()=>e(`/dashboard/stories/${t==null?void 0:t.id}`),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(mb,{className:"w-4 h-4 text-purple-400"}),"Dashboard"]}),r.jsxs(Ur,{onClick:()=>e(`/library/${t==null?void 0:t.id}`),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(Qt,{className:"w-4 h-4 text-green-400"}),"Library"]})]}),r.jsxs("div",{className:"py-1 border-b border-gray-700/40",children:[r.jsxs(Ur,{onClick:()=>e("/create-tweet"),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(iL,{className:"w-4 h-4 text-yellow-400"}),"Tweet"]}),r.jsxs(Ur,{onClick:()=>e(`/settings/${t==null?void 0:t.id}`),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(xL,{className:"w-4 h-4 text-indigo-400"}),"Settings"]}),r.jsxs(Ur,{onClick:()=>e(`/notification/${t==null?void 0:t.id}`),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md hover:bg-gray-700/20",children:[r.jsx(db,{className:"w-4 h-4 text-pink-400"}),"Notification"]})]}),r.jsx("div",{className:"pt-1",children:r.jsxs(Ur,{onClick:()=>e("/logout"),className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-md text-red-400 hover:bg-red-500/10",children:[r.jsx(JM,{className:"w-4 h-4"}),"Logout"]})})]})]})}function nE(t,e){const{user:n}=Nt(),s=Je(),[l,i]=p.useState(""),[u,d]=p.useState(!1),[f,m]=p.useState("Follow"),[g,x]=p.useState(null);p.useEffect(()=>{if(!e)return;async function y(){try{const N=await fetch(`https://fanhub-server.onrender.com/api/users/${e}`,{method:"GET",credentials:"include"}),j=await N.json();if(!N.ok)throw new Error(j.message||"Failed to fetch user");x(j.user);const C=(j.user.followers||[]).some(T=>Number(T.followerId)===Number(n==null?void 0:n.id));m(C?"Unfollow":"Follow")}catch(N){console.error("Follow hook error:",N)}}y()},[e,n]);async function b(){var y;if(!n)return s("/login");d(!0),i("");try{const N=await fetch(`https://fanhub-server.onrender.com/api/users/follower/${t}`,{method:"POST",credentials:"include"}),j=await N.json();if(!N.ok)throw new Error(j.message||"Action failed");const S=await fetch(`https://fanhub-server.onrender.com/api/users/${e}`,{method:"GET",credentials:"include"}),C=await S.json();if(!S.ok)throw new Error(C.message||"Failed to refresh user");x(C.user);const T=(y=C.user.followers)==null?void 0:y.some(k=>Number(k.followerId)===Number(n==null?void 0:n.id));m(T?"Unfollow":"Follow")}catch(N){console.error("Follow error:",N),i(N.message)}finally{d(!1)}}return{followed:f,loading:u,toggleFollow:b,error:l,currentUser:g}}const l$=()=>{const{user:t}=Nt(),e=Je(),[n,s]=p.useState(null),[l,i]=p.useState(null),[u,d]=p.useState([]),[f,m]=p.useState([]),[g,x]=p.useState(localStorage.getItem("theme")==="dark");p.useEffect(()=>{g?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[g]),p.useEffect(()=>{async function y(){try{const N=await fetch("https://fanhub-server.onrender.com/api/users/top-writers",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),j=await N.json();if(N.status===500){e("/error",{state:{message:j.message||"Process failed"}});return}else if(N.status===401)e("/login");else if(!N.ok){console.error(j.message);return}d(j.writers||[])}catch(N){console.error("Failed to fetch top writers:",N)}}y()},[e]),p.useEffect(()=>{async function y(){try{const N=await fetch("https://fanhub-server.onrender.com/api/recommendations/featured?limit=8",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),j=await N.json();N.ok?m(j.recommendations||[]):console.error("Failed to fetch recommendations:",j.message)}catch(N){console.error("Failed to fetch recommendations:",N)}}y()},[]);const[b]=p.useState([{id:1,title:"The Future of Web Development",author:"Sarah Chen",description:"Exploring the latest trends in modern web architecture and design patterns.",category:"Technology"},{id:2,title:"Building Communities That Last",author:"Marcus Williams",description:"Insights on creating engaging and sustainable online communities.",category:"Community"},{id:3,title:"Stories That Inspire Change",author:"Elena Rodriguez",description:"How authentic storytelling can transform lives and perspectives.",category:"Inspiration"},{id:4,title:"The Art of Digital Expression",author:"James Park",description:"Discovering new ways to share ideas in the digital age.",category:"Creative"}]);return p.useEffect(()=>{if(!n)return;const y=setInterval(()=>n.scrollNext(),5e3);return()=>clearInterval(y)},[n]),p.useEffect(()=>{if(!l)return;const y=setInterval(()=>l.scrollNext(),6e3);return()=>clearInterval(y)},[l]),r.jsxs("div",{className:"min-h-screen transition-colors duration-500",style:{backgroundColor:"var(--background-color)",color:"var(--foreground-color)"},children:[t&&r.jsx(DO,{user:t}),r.jsx(Jt,{user:t,darkMode:g,setDarkMode:x}),r.jsx("div",{className:"h-6"}),r.jsxs("main",{className:"px-4 py-10 md:px-8 pt-32 md:pt-36 transition-colors duration-500",children:[r.jsx("section",{className:"mb-12 w-full max-w-7xl mx-auto",children:r.jsxs(wb,{setApi:s,opts:{align:"start",loop:!0},className:"w-full",children:[r.jsx(Nb,{className:"-ml-2 md:-ml-4",children:b.map(y=>r.jsx(jb,{className:"pl-2 md:pl-4",children:r.jsx("div",{className:"rounded-lg overflow-hidden p-[1px] transition-all duration-500",style:{background:"linear-gradient(135deg, #60a5fa, #a855f7, #ec4899)"},children:r.jsxs("div",{className:"rounded-lg p-6 h-56 sm:h-64 flex flex-col justify-between",style:{backgroundColor:"var(--card-bg)",color:"var(--card-text)"},children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full",style:{backgroundColor:g?"rgba(255,255,255,0.15)":"rgba(59,130,246,0.15)",color:"var(--button-bg)"},children:y.category}),r.jsx("h3",{className:"text-2xl font-bold mt-2 mb-1",children:y.title}),r.jsx("p",{className:"text-sm opacity-80",children:y.description})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold",style:{background:"linear-gradient(135deg, #60a5fa, #a78bfa)",color:"#fff"},children:y.author[0]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs opacity-70",children:"Featured Writer"}),r.jsx("p",{className:"font-semibold",children:y.author})]})]})]})})},y.id))}),r.jsx(Sb,{className:"hidden sm:flex left-2 md:left-4"}),r.jsx(Cb,{className:"hidden sm:flex right-2 md:right-4"})]})}),r.jsx("div",{className:"w-full max-w-7xl mx-auto mb-12",children:r.jsx(Ev,{})}),f.length>0&&r.jsxs("section",{className:"w-full max-w-7xl mx-auto mb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold",style:{color:"var(--foreground-color)"},children:"Curated Reading Lists "}),r.jsx(mr,{to:"/recommendations",className:"text-sm font-medium hover:underline transition-all",style:{color:"var(--button-bg)"},children:"View All"})]}),r.jsxs(wb,{setApi:i,opts:{align:"start",loop:!0},className:"w-full",children:[r.jsx(Nb,{className:"-ml-2 md:-ml-4",children:f.map(y=>r.jsx(jb,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:r.jsx(o$,{recommendation:y,darkMode:g,navigate:e})},y.id))}),r.jsx(Sb,{className:"hidden sm:flex left-2 md:left-4"}),r.jsx(Cb,{className:"hidden sm:flex right-2 md:right-4"})]})]}),u.length>0&&r.jsxs("section",{className:"w-full max-w-7xl mx-auto",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 px-2",style:{color:"var(--foreground-color)"},children:"Top Writers of the Week to Follow "}),r.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4 scrollbar-hide px-1 md:px-2 snap-x snap-mandatory",style:{scrollBehavior:"smooth",WebkitOverflowScrolling:"touch"},children:u.map(y=>r.jsx("div",{className:"snap-start",children:r.jsx(i$,{writer:y,darkMode:g})},y.id))})]})]})]})};function o$({recommendation:t,darkMode:e,navigate:n}){var l,i,u,d,f,m,g,x,b,y,N;const s=((l=t.likes)==null?void 0:l.length)>0;return r.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:shadow-xl cursor-pointer group h-full",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},onClick:()=>n(`/recommendation/${t.id}`),children:[r.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.coverImage?r.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:e?"linear-gradient(135deg, #1e293b, #334155)":"linear-gradient(135deg, #dbeafe, #e0e7ff)"},children:r.jsx(Qt,{size:48,style:{color:e?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.2)"}})}),r.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm",style:{backgroundColor:e?"rgba(0,0,0,0.6)":"rgba(255,255,255,0.9)",color:e?"#fff":"#000"},children:[((i=t._count)==null?void 0:i.stories)||0," stories"]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2 group-hover:underline",style:{color:"var(--card-text)"},children:t.title}),t.description&&r.jsx("p",{className:"text-sm opacity-70 mb-3 line-clamp-2",children:t.description}),((u=t.stories)==null?void 0:u.length)>0&&r.jsx("div",{className:"flex gap-1 mb-3 overflow-hidden",children:t.stories.slice(0,4).map(j=>r.jsx("div",{className:"w-12 h-16 rounded flex-shrink-0",style:{backgroundImage:j.story.imgUrl?`url(${j.story.imgUrl})`:"none",backgroundColor:j.story.imgUrl?"transparent":"var(--border-color)",backgroundSize:"cover",backgroundPosition:"center"},title:j.story.title},j.story.id))}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",style:{borderColor:"var(--border-color)"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(or,{className:"h-6 w-6",children:[r.jsx(ir,{src:(d=t.user)==null?void 0:d.img,alt:(f=t.user)==null?void 0:f.username}),r.jsx(cr,{className:"text-xs",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:(x=(g=(m=t.user)==null?void 0:m.username)==null?void 0:g[0])==null?void 0:x.toUpperCase()})]}),r.jsx("span",{className:"text-xs font-medium opacity-80",children:(b=t.user)==null?void 0:b.username})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs opacity-70",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($t,{size:14,fill:s?"currentColor":"none"}),r.jsx("span",{children:((y=t._count)==null?void 0:y.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jr,{size:14}),r.jsx("span",{children:((N=t._count)==null?void 0:N.comments)||0})]})]})]})]})]})}function i$({writer:t}){var i,u;const{followed:e,loading:n,toggleFollow:s}=nE(t.username,t.id),l=Je();return r.jsx("div",{className:"flex-shrink-0 w-36 md:w-44 rounded-lg p-3 transition-all duration-300 hover:shadow-lg",style:{backgroundColor:"var(--card-bg)",color:"var(--card-text)",border:"1px solid var(--border-color)"},children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsxs(or,{className:"h-14 w-14 mb-2",children:[r.jsx(ir,{src:t.img,alt:t.username}),r.jsx(cr,{style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:(u=(i=t.username)==null?void 0:i[0])==null?void 0:u.toUpperCase()})]}),r.jsx("p",{className:"font-semibold cursor-pointer hover:underline transition-all duration-300",style:{color:"var(--card-text)"},onClick:()=>l(`/profile/${t.username}/${t.id}/about`),children:t.username}),r.jsxs("p",{className:"text-sm opacity-70",children:[t.social.writingpoint," pts"]}),r.jsx("button",{onClick:s,disabled:n,className:"mt-2 px-3 py-1 rounded-full text-xs font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:e==="Follow"?"var(--button-bg)":"transparent",color:e==="Follow"?"var(--button-text)":"var(--card-text)",border:e==="Follow"?"none":"1px solid var(--border-color)"},children:n?"...":e})]})})}function c$(){const{user:t}=Nt(),[e,n]=p.useState(localStorage.getItem("theme")==="dark"),[s,l]=p.useState(!1),[i,u]=p.useState(!1);p.useEffect(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),p.useEffect(()=>{const m=()=>{l(window.innerWidth<1024)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const d=[{to:`stories/${t==null?void 0:t.id}`,icon:Qt,label:"My Stories",color:"#64b5f6"},{to:`visual stories/${t==null?void 0:t.id}`,icon:LM,label:"Visual stories",color:"yellow"},{to:"images",icon:ws,label:"Images",color:"green"},{to:"videos",icon:pC,label:"Videos",color:"red"},{to:"recommendation list",icon:po,label:"My Rec Lists",color:"#ff6f00"}],f=()=>r.jsx("nav",{className:"flex flex-col gap-1 p-4",children:d.map(m=>{const g=m.icon;return r.jsxs(mr,{to:m.to,className:"flex items-center gap-3 px-4 py-3 rounded-lg font-medium text-gray-800 dark:text-gray-100 transition-all duration-300 hover:translate-x-1",style:{borderLeft:`4px solid ${m.color}`},onClick:()=>s&&u(!1),children:[r.jsx(g,{className:"w-5 h-5 flex-shrink-0",style:{color:m.color}}),r.jsx("span",{children:m.label})]},m.to)})});return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-500",children:[r.jsx(Jt,{user:t,darkMode:e,setDarkMode:n}),r.jsx("div",{className:"h-1"}),r.jsxs("div",{className:"flex pt-[90px]",children:[s?r.jsxs(S5,{open:i,onOpenChange:u,children:[r.jsx(C5,{asChild:!0,children:r.jsx(Oe,{variant:"outline",size:"icon",className:"fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg lg:hidden bg-gradient-to-tr from-purple-500 to-blue-500 text-white border-none",children:r.jsx(xC,{className:"h-6 w-6"})})}),r.jsx(Wv,{side:"left",className:"w-72 p-0 border-none pt-[73px] bg-gradient-to-b from-white to-gray-100 dark:from-gray-800 dark:to-gray-900",children:r.jsxs("div",{className:"py-6",children:[r.jsxs("h2",{className:"px-6 text-lg font-semibold flex items-center gap-2 mb-4 text-gray-800 dark:text-gray-100",children:[r.jsx(mb,{className:"text-blue-500 w-5 h-5"}),"Dashboard"]}),r.jsx(f,{})]})})]}):r.jsx("aside",{className:"w-72 h-[calc(100vh-73px)] fixed left-0 top-[90px] overflow-y-auto custom-scrollbar border-r border-gray-200 dark:border-gray-700 bg-gradient-to-b from-white to-gray-100 dark:from-gray-800 dark:to-gray-900",children:r.jsxs("div",{className:"py-6 mt-2",children:[r.jsxs("h2",{className:"px-6 text-lg font-semibold flex items-center gap-2 mb-4 text-gray-800 dark:text-gray-100",children:[r.jsx(mb,{className:"text-blue-500 w-5 h-5"}),"Dashboard"]}),r.jsx(f,{})]})}),r.jsx("main",{className:`flex-1 min-h-[calc(100vh-73px)] ${s?"":"ml-72"}`,children:r.jsx("div",{className:"p-6 lg:p-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(Ev,{})})})})]})]})}const jt=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));jt.displayName="Card";const Br=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("flex flex-col space-y-1.5 p-6",t),...e}));Br.displayName="CardHeader";const ti=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));ti.displayName="CardTitle";const Db=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));Db.displayName="CardDescription";const Zt=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("p-6 pt-0",t),...e}));Zt.displayName="CardContent";const rE=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:ht("flex items-center p-6 pt-0",t),...e}));rE.displayName="CardFooter";function sE(){const t=Je(),[e,n]=p.useState([]),[s,l]=p.useState(!1),[i,u]=p.useState(""),{id:d}=ln();return p.useEffect(()=>{l(!0),u("");async function f(){try{const m=await fetch(`https://fanhub-server.onrender.com/api/users/${d}/followers`,{method:"GET",credentials:"include"}),g=await m.json();if(m.status===500){t("/error",{state:{message:g.message||"Process failed"}});return}else if(m.status===401)t("/login");else if(!m.ok){console.error(g.message);return}n(g.followers||[])}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{l(!1)}}f()},[d,t]),s?r.jsxs("div",{className:"flex flex-col items-center justify-center h-40",role:"status","aria-live":"polite",children:[r.jsx(vt,{className:"animate-spin w-6 h-6 text-blue-500"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading followers..."})]}):i?r.jsx("p",{role:"alert",className:"text-red-500 text-center",children:i}):!e||e.length===0?r.jsx("p",{className:"text-center text-muted-foreground",children:"No followers yet"}):r.jsx("div",{className:"grid gap-4 grid-cols-1","aria-label":"Followers list",children:e.map(f=>r.jsxs(jt,{role:"button",tabIndex:0,onClick:()=>t(`/profile/${f.followerusername}/${f.followerId}/about`),onKeyDown:m=>m.key==="Enter"&&t(`/profile/${f.followerusername}/${f.followerId}/about`),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-muted/50 transition rounded-2xl outline-none focus:ring-2 focus:ring-blue-500","aria-label":`View profile of ${f.follower.username}`,children:[r.jsxs(or,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-30 md:h-30 flex-shrink-0",children:[r.jsx(ir,{src:f.follower.img,alt:`${f.follower.username}'s avatar`,className:"object-cover rounded-full"}),r.jsx(cr,{children:r.jsx(hi,{className:"w-6 h-6 text-muted-foreground"})})]}),r.jsx(Zt,{className:"p-0",children:r.jsx("p",{className:"font-medium text-foreground text-base md:text-lg",children:f.follower.username})})]},f.id))})}function aE(){const[t,e]=p.useState([]),[n,s]=p.useState(!1),[l,i]=p.useState(""),u=Je(),{id:d}=ln();return p.useEffect(()=>{s(!0),i("");async function f(){try{const m=await fetch(`https://fanhub-server.onrender.com/api/users/${d}/following`,{method:"GET",credentials:"include"}),g=await m.json();if(m.status===500){u("/error",{state:{message:g.message||"Process failed"}});return}else if(m.status===401)u("/login");else if(!m.ok){console.error(g.message);return}e(g.following||[])}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{s(!1)}}f()},[d,u]),n?r.jsxs("div",{className:"flex flex-col items-center justify-center h-40",role:"status","aria-live":"polite",children:[r.jsx(vt,{className:"animate-spin w-6 h-6 text-blue-500"}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading following..."})]}):l?r.jsx("p",{role:"alert",className:"text-red-500 text-center",children:l}):!t||t.length===0?r.jsx("p",{className:"text-center text-muted-foreground",children:"No following yet"}):r.jsx("div",{className:"grid gap-4 grid-cols-1","aria-label":"Following list",children:t.map(f=>r.jsxs(jt,{role:"button",tabIndex:0,onClick:()=>u(`/profile/${f.followingusername}/${f.followingId}/about`),onKeyDown:m=>m.key==="Enter"&&u(`/profile/${f.followingusername}/${f.followingId}/about`),className:"flex items-center gap-4 p-4 cursor-pointer hover:bg-muted/50 transition rounded-2xl outline-none focus:ring-2 focus:ring-blue-500","aria-label":`View profile of ${f.following.username}`,children:[r.jsxs(or,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-30 md:h-30 flex-shrink-0",children:[r.jsx(ir,{src:f.following.img,alt:`${f.following.username}'s avatar`,className:"object-cover"}),r.jsx(cr,{children:r.jsx(hi,{className:"w-6 h-6 text-muted-foreground"})})]}),r.jsx(Zt,{className:"p-0",children:r.jsx("p",{className:"font-medium text-foreground text-base md:text-lg",children:f.following.username})})]},f.id))})}function u$(){var _,E,L,O,A,M;const{user:t}=Nt(),{id:e,username:n}=ln(),{followed:s,loading:l,toggleFollow:i,error:u}=nE(n,e),d=ca(),[f,m]=p.useState(localStorage.getItem("theme")==="dark"),[g,x]=p.useState([]),[b,y]=p.useState(!1),[N,j]=p.useState(!1),S=Je();p.useEffect(()=>{f?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[f]),p.useEffect(()=>{y(!1),j(!1)},[e,n]),p.useEffect(()=>{async function B(){try{const P=await fetch(`https://fanhub-server.onrender.com/api/users/${e}`,{method:"GET",credentials:"include"}),U=await P.json();if(P.status===500){S("/error",{state:{message:U.message||"Process failed"}});return}else if(P.status===401)S("/login");else if(!P.ok){console.error(U.message);return}x(U.user)}catch{S("/error",{state:{message:"Network error: Please check your internet connection."}})}}B()},[e]);const C=t&&Number(t.id)===Number(e),T=["about","stories","visual stories","gallery","recommendations","wall","tweets"],k=d.pathname.split("/").pop();return r.jsxs("div",{className:"min-h-screen transition-colors duration-500",style:{backgroundColor:f?"#0f1a2d":"#f9fafb"},children:[r.jsx(Jt,{user:t,darkMode:f,setDarkMode:m}),r.jsxs("div",{className:"pt-16",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-40 sm:h-56 md:h-72 lg:h-80 relative overflow-hidden",children:g!=null&&g.img?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:g.img,alt:`${n}'s cover`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/50 to-black/90"})]}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 via-purple-500/20 to-pink-500/20",children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/30 to-black/90"})})}),r.jsx("div",{className:"hidden sm:block absolute bottom-0 left-0 right-0 px-4 sm:px-6 lg:px-8 pb-4",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-end gap-6",children:[r.jsx(or,{className:"w-28 h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 border-4 border-background shadow-2xl flex-shrink-0",children:g!=null&&g.img?r.jsx(ir,{src:g.img,alt:`${n}'s avatar`}):r.jsx(cr,{className:"text-3xl md:text-4xl bg-gradient-to-br from-primary to-purple-600 text-white",children:((_=n==null?void 0:n[0])==null?void 0:_.toUpperCase())||"G"})}),r.jsxs("div",{className:"flex-1 pb-2 min-w-0",children:[r.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2 drop-shadow-lg truncate",children:n}),(g==null?void 0:g.bio)&&r.jsx("p",{className:"text-sm md:text-base text-white/90 mb-2 line-clamp-2 max-w-2xl drop-shadow-md",children:g.bio}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-white/80",children:[(g==null?void 0:g.country)&&r.jsxs("span",{className:"flex items-center gap-1",children:[" ",g.country]}),(g==null?void 0:g.gender)&&r.jsxs("span",{className:"flex items-center gap-1",children:[" ",g.gender]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 pb-2 flex-shrink-0",children:[!C&&r.jsxs(Oe,{onClick:i,disabled:l,size:"lg",className:"shadow-lg whitespace-nowrap",variant:s==="Following"?"outline":"default",children:[l?r.jsx(vt,{className:"w-4 h-4 animate-spin mr-2"}):s==="Following"?r.jsx(sj,{className:"w-4 h-4 mr-2"}):r.jsx(aj,{className:"w-4 h-4 mr-2"}),l?"Loading...":s]}),r.jsxs("div",{className:"flex gap-3 bg-background/90 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg",children:[r.jsxs("button",{className:"flex flex-col items-center hover:opacity-80 transition-opacity min-w-[60px]",onClick:()=>y(!0),children:[r.jsx("span",{className:"text-base md:text-lg font-bold",children:((E=g==null?void 0:g._count)==null?void 0:E.followers)||0}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Followers"})]}),r.jsx("div",{className:"w-px bg-border"}),r.jsxs("button",{className:"flex flex-col items-center hover:opacity-80 transition-opacity min-w-[60px]",onClick:()=>j(!0),children:[r.jsx("span",{className:"text-base md:text-lg font-bold",children:((L=g==null?void 0:g._count)==null?void 0:L.followings)||0}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Following"})]})]})]})]})})}),r.jsxs("div",{className:"sm:hidden",children:[r.jsx("div",{className:"relative -mt-16 px-4 mb-4",children:r.jsx(or,{className:"w-28 h-28 border-4 border-background shadow-2xl mx-auto",children:g!=null&&g.img?r.jsx(ir,{src:g.img,alt:`${n}'s avatar`}):r.jsx(cr,{className:"text-2xl bg-gradient-to-br from-primary to-purple-600 text-white",children:((O=n==null?void 0:n[0])==null?void 0:O.toUpperCase())||"G"})})}),r.jsxs("div",{className:"px-4 pb-4 text-center",children:[r.jsx("h1",{className:"text-xl font-bold mb-2",children:n}),(g==null?void 0:g.bio)&&r.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:g.bio}),r.jsxs("div",{className:"flex justify-center items-center gap-3 text-sm text-muted-foreground mb-4",children:[(g==null?void 0:g.country)&&r.jsxs("span",{className:"flex items-center gap-1",children:[" ",g.country]}),(g==null?void 0:g.gender)&&r.jsxs("span",{className:"flex items-center gap-1",children:[" ",g.gender]})]}),r.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[r.jsxs("button",{className:"flex flex-col items-center hover:opacity-80 transition-opacity",onClick:()=>y(!0),children:[r.jsx("span",{className:"text-lg font-bold",children:((A=g==null?void 0:g._count)==null?void 0:A.followers)||0}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Followers"})]}),r.jsx("div",{className:"w-px bg-border"}),r.jsxs("button",{className:"flex flex-col items-center hover:opacity-80 transition-opacity",onClick:()=>j(!0),children:[r.jsx("span",{className:"text-lg font-bold",children:((M=g==null?void 0:g._count)==null?void 0:M.followings)||0}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Following"})]})]}),!C&&r.jsxs(Oe,{onClick:i,disabled:l,className:"w-full max-w-xs mx-auto",variant:s==="Following"?"outline":"default",children:[l?r.jsx(vt,{className:"w-4 h-4 animate-spin mr-2"}):s==="Following"?r.jsx(sj,{className:"w-4 h-4 mr-2"}):r.jsx(aj,{className:"w-4 h-4 mr-2"}),l?"Loading...":s]})]})]})]}),r.jsx("div",{className:"border-b bg-card",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:T.map(B=>{const P=k===B;return r.jsx(mr,{to:B,className:`
                      px-4 py-3 text-sm font-medium whitespace-nowrap transition-all duration-200
                      ${P?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
                    `,children:B.split(" ").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join(" ")},B)})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:r.jsx(Ev,{})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs(jt,{className:"w-full max-w-md max-h-[80vh] flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Vh,{className:"w-5 h-5"}),"Followers"]}),r.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:""})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.jsx(sE,{})})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs(jt,{className:"w-full max-w-md max-h-[80vh] flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Vh,{className:"w-5 h-5"}),"Following"]}),r.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>j(!1),children:""})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.jsx(aE,{})})]})}),u&&r.jsx("div",{className:"fixed bottom-4 right-4 bg-destructive text-destructive-foreground px-4 py-3 rounded-lg shadow-lg max-w-sm z-50 animate-in slide-in-from-bottom",children:u})]})]})}const Rn=p.forwardRef(({className:t,type:e,...n},s)=>r.jsx("input",{type:e,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Rn.displayName="Input";var d$="Label",lE=p.forwardRef((t,e)=>r.jsx(xt.label,{...t,ref:e,onMouseDown:n=>{var l;n.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lE.displayName=d$;var oE=lE;const f$=jm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=p.forwardRef(({className:t,...e},n)=>r.jsx(oE,{ref:n,className:ht(f$(),t),...e}));Pt.displayName=oE.displayName;function h$(){const[t,e]=p.useState({username:"",email:"",password:"",country:"",gender:""}),[n,s]=p.useState(!1),[l,i]=p.useState(""),[u,d]=p.useState(!1),f=Je(),{setUser:m}=Nt(),g=b=>{const{name:y,value:N}=b.target;e({...t,[y]:N})},x=async b=>{b.preventDefault(),i(""),d(!0);try{const y=await fetch("https://fanhub-server.onrender.com/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),N=await y.json();if(y.status===500){f("/error",{state:{message:N.message||"Signup failed"}});return}else if(!y.ok){i(N.message);return}m(N.user),f("/login")}catch{f("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}};return r.jsxs("main",{className:"flex flex-col md:flex-row items-center justify-center min-h-screen bg-[var(--background-color)] text-[var(--foreground-color)] px-6 py-10 gap-10",children:[r.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center w-full md:w-1/2 text-center md:text-left space-y-5 animate-fadeIn",children:[r.jsx("div",{className:"animate-spin-slow",children:r.jsx(A5,{theme:"light",size:24})}),r.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-[var(--accent-color)] tracking-tight leading-tight",children:"The Voices"}),r.jsx("p",{className:"text-lg md:text-2xl text-[var(--secondary-text)] font-medium italic",children:"where stories come alive "})]}),r.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:r.jsxs(jt,{className:"w-full max-w-md bg-[var(--card-bg)] border border-[var(--dropdown-border)] shadow-lg rounded-2xl text-[var(--card-text)]",children:[r.jsxs(Br,{className:"text-center space-y-1",children:[r.jsxs("div",{className:"md:hidden mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-[var(--accent-color)]",children:"The Voices"}),r.jsx("p",{className:"text-sm text-[var(--secondary-text)] italic",children:"where stories come alive "})]}),r.jsx(ti,{className:"gradient-text text-2xl font-bold text-[var(--accent-color)]",children:"Create Your Account "})]}),r.jsx(Zt,{children:r.jsxs("form",{onSubmit:x,autoComplete:"off",className:"space-y-4","aria-label":"Sign up form",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"username",children:"Username"}),r.jsx(Rn,{id:"username",name:"username",type:"text",value:t.username,onChange:g,required:!0,autoComplete:"username",className:"mt-1 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--accent-color)]"})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"email",children:"Email"}),r.jsx(Rn,{id:"email",name:"email",type:"email",value:t.email,onChange:g,required:!0,autoComplete:"email",className:"mt-1 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--accent-color)]"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{htmlFor:"password",children:"Password"}),r.jsx(Rn,{id:"password",name:"password",type:n?"text":"password",value:t.password,onChange:g,required:!0,autoComplete:"new-password",className:"mt-1 pr-10 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--accent-color)]"}),r.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute inset-y-0 right-3 top-6 flex items-center text-[var(--secondary-text)] hover:text-[var(--accent-color)]","aria-label":n?"Hide password":"Show password",children:n?r.jsx(Md,{size:18}):r.jsx(Cr,{size:18})})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"country",children:"Country"}),r.jsx(Rn,{id:"country",name:"country",type:"text",value:t.country,onChange:g,required:!0,className:"mt-1 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--accent-color)]"})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"gender",children:"Gender"}),r.jsx(Rn,{id:"gender",name:"gender",type:"text",value:t.gender,onChange:g,required:!0,className:"mt-1 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--accent-color)]"})]}),l&&r.jsx("p",{className:"text-red-500 text-sm font-medium text-center",role:"alert",children:l}),r.jsx(Oe,{type:"submit",className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] hover:opacity-90 focus:ring-2 focus:ring-offset-2 focus:ring-[var(--accent-color)]",disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Sign Up"}),r.jsxs("p",{className:"text-sm text-center text-[var(--secondary-text)] mt-2",children:["Already have an account?"," ",r.jsx(mr,{to:"/login",className:"text-[var(--accent-color)] hover:underline font-medium",children:"Log in"})]})]})})]})})]})}function m$(){const[t,e]=p.useState({username:"",password:""}),[n,s]=p.useState(""),[l,i]=p.useState(!1),[u,d]=p.useState(!1),f=Je(),{setUser:m}=Nt(),g=b=>{const{name:y,value:N}=b.target;e(j=>({...j,[y]:N}))},x=async b=>{b.preventDefault(),s(""),i(!0);try{const y=await fetch("https://fanhub-server.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),N=await y.json();if(y.status===500){f("/error",{state:{message:N.message||"Login failed"}});return}else if(!y.ok){s(N.message);return}m(N.user),f("/homestories")}catch{f("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}};return r.jsx("main",{className:"flex items-center justify-center min-h-screen bg-theme px-6 py-10",role:"main",children:r.jsxs(jt,{className:"w-full max-w-md bg-card-theme border-theme shadow-lg rounded-2xl",children:[r.jsxs(Br,{className:"text-center",children:[r.jsx(ti,{className:"gradient-text text-2xl font-bold",children:"Welcome Back "}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Log in to your account"})]}),r.jsx(Zt,{children:r.jsxs("form",{onSubmit:x,autoComplete:"off",className:"space-y-4","aria-label":"Login form",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"username",className:"block mb-1",children:"Username"}),r.jsx(Rn,{id:"username",name:"username",type:"text",value:t.username,onChange:g,required:!0,autoComplete:"username",className:"mt-1 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--primary)]","aria-required":"true"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{htmlFor:"password",className:"block mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{id:"password",name:"password",type:u?"text":"password",value:t.password,onChange:g,required:!0,autoComplete:"current-password",className:"mt-1 pr-10 bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--primary)]","aria-required":"true"}),r.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-[var(--primary)] focus:outline-none","aria-label":u?"Hide password":"Show password",children:u?r.jsx(Md,{size:18}):r.jsx(Cr,{size:18})})]})]}),n&&r.jsx("p",{className:"text-red-500 text-sm font-medium text-center",role:"alert",children:n}),r.jsx(Oe,{type:"submit",className:"w-full btn focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging In..."]}):"Log In"}),r.jsxs("div",{className:"flex flex-col items-center gap-2 mt-4",children:[r.jsx("button",{type:"button",onClick:()=>f("/forget-password"),className:"text-sm text-primary hover:underline focus:underline focus:outline-none",children:"Forgot Password?"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Dont have an account?"," ",r.jsx(mr,{to:"/signup",className:"text-primary font-medium hover:underline focus:underline focus:outline-none",children:"Sign up"})]})]})]})})]})})}function p$(){const{setUser:t}=Nt(),e=Je();return p.useEffect(()=>{async function n(){console.log("here... logout!");try{await fetch("https://fanhub-server.onrender.com/api/auth/logout",{method:"POST",credentials:"include"})}catch(s){console.error("Logout failed:",s)}finally{localStorage.removeItem("user"),t(null),e("/")}}n()},[t,e]),null}const kc=y5,iE=w5,g$=N5,cE=p.forwardRef(({className:t,...e},n)=>r.jsx(Om,{ref:n,className:ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cE.displayName=Om.displayName;const ni=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(g$,{children:[r.jsx(cE,{}),r.jsxs(Mm,{ref:s,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,r.jsxs(j5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ni.displayName=Mm.displayName;const ri=({className:t,...e})=>r.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ri.displayName="DialogHeader";const d0=({className:t,...e})=>r.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});d0.displayName="DialogFooter";const si=p.forwardRef(({className:t,...e},n)=>r.jsx(Lm,{ref:n,className:ht("text-lg font-semibold leading-none tracking-tight",t),...e}));si.displayName=Lm.displayName;const Tc=p.forwardRef(({className:t,...e},n)=>r.jsx(_m,{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));Tc.displayName=_m.displayName;const Hn=({message:t,type:e="success",isOpen:n,onClose:s,duration:l=3e3})=>{if(p.useEffect(()=>{if(n&&l>0){const d=setTimeout(s,l);return()=>clearTimeout(d)}},[n,l,s]),!n)return null;const i={success:r.jsx(fb,{className:"w-5 h-5 text-green-500"}),error:r.jsx(uM,{className:"w-5 h-5 text-red-500"}),info:r.jsx(Nc,{className:"w-5 h-5 text-blue-500"}),warning:r.jsx(wm,{className:"w-5 h-5 text-yellow-500"})},u={success:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",error:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",info:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",warning:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"};return r.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2",role:"alert","aria-live":"polite",children:r.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border shadow-lg ${u[e]} max-w-md`,children:[i[e],r.jsx("p",{className:"text-sm font-medium text-theme flex-1",children:t}),r.jsx("button",{onClick:s,className:"text-secondary hover:text-theme transition-colors","aria-label":"Close notification",children:r.jsx(On,{className:"w-4 h-4"})})]})})},da=({isOpen:t,onClose:e,onConfirm:n,title:s="Confirm Action",description:l="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:u="Cancel",variant:d="destructive"})=>r.jsx(kc,{open:t,onOpenChange:e,children:r.jsxs(ni,{className:"bg-card-theme border-theme sm:max-w-md",children:[r.jsxs(ri,{children:[r.jsx(si,{className:"text-theme",children:s}),r.jsx(Tc,{className:"text-secondary",children:l})]}),r.jsxs(d0,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[r.jsx(Oe,{variant:"outline",onClick:e,className:"w-full sm:w-auto",children:u}),r.jsx(Oe,{variant:d,onClick:()=>{n(),e()},className:"w-full sm:w-auto",children:i})]})]})}),f0=({isOpen:t,onClose:e,title:n="Warning",description:s="Please address the following issue.",icon:l=wm})=>r.jsx(kc,{open:t,onOpenChange:e,children:r.jsxs(ni,{className:"bg-card-theme border-theme sm:max-w-md",children:[r.jsxs(ri,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-full",children:r.jsx(l,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),r.jsx(si,{className:"text-theme",children:n})]}),r.jsx(Tc,{className:"text-secondary",children:s})]}),r.jsx(d0,{children:r.jsx(Oe,{onClick:e,className:"w-full sm:w-auto",children:"Got it"})})]})}),Mn=()=>{const[t,e]=p.useState({isOpen:!1,message:"",type:"success"});return{toast:t,showToast:(l,i="success")=>{e({isOpen:!0,message:l,type:i})},closeToast:()=>{e(l=>({...l,isOpen:!1}))}}},fa=()=>{const[t,e]=p.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{}});return{confirm:t,showConfirm:(l,i,u)=>{e({isOpen:!0,title:l,description:i,onConfirm:u})},closeConfirm:()=>{e(l=>({...l,isOpen:!1}))}}},h0=()=>{const[t,e]=p.useState({isOpen:!1,title:"",description:""});return{warning:t,showWarning:(l,i)=>{e({isOpen:!0,title:l,description:i})},closeWarning:()=>{e(l=>({...l,isOpen:!1}))}}};function x$(){const[t,e]=p.useState([]),[n,s]=p.useState(!1),[l,i]=p.useState(""),{user:u}=Nt(),[d,f]=p.useState(localStorage.getItem("theme")==="dark"),{showToast:m}=Mn();p.useEffect(()=>{document.documentElement.classList.toggle("dark",d),localStorage.setItem("theme",d?"dark":"light")},[d]),p.useEffect(()=>{async function y(){s(!0),i("");try{const N=await fetch("https://fanhub-server.onrender.com/api/notifications",{method:"GET",credentials:"include"}),j=await N.json();if(!N.ok){i(j.message||"Something went wrong. Try again!");return}const S=j.notifications.map(C=>({...C,isUnread:C.read===!1||C.read===null}));e(S)}catch(N){i(N.message)}finally{s(!1)}}y()},[]);async function g(){try{const y=await fetch(`https://fanhub-server.onrender.com/api/notifications/${u.id}/read`,{method:"POST",credentials:"include"});if(!y.ok){const N=await y.json();throw new Error(N.message||"Failed to mark all as read")}e(N=>N.map(j=>({...j,isUnread:!1,read:!0})))}catch(y){console.error(y),x(y)}}function x(y){m(y.message||"Failed to mark notifications as read","error")}const b=t.some(y=>y.isUnread);return r.jsxs("div",{className:"min-h-screen bg-theme",children:[r.jsx(Jt,{user:u,darkMode:d,setDarkMode:f}),r.jsxs("div",{className:"pt-28 pb-8 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-theme flex items-center gap-3",children:[r.jsx(db,{className:"w-8 h-8 text-[#2563eb]"}),"Notifications",b&&r.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:t.filter(y=>y.isUnread).length})]}),r.jsx("p",{className:"text-secondary mt-2",children:"Stay updated with your latest activity"})]}),b&&r.jsxs("button",{onClick:g,className:"bg-[#2563eb] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#1d4ed8] transition flex items-center gap-2",children:[r.jsx(fb,{className:"w-4 h-4"}),"Mark All as Read"]})]}),n&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx(vt,{className:"w-12 h-12 text-[#2563eb] animate-spin mb-4"}),r.jsx("p",{className:"text-secondary text-lg",children:"Loading notifications..."})]}),l&&!n&&r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-red-800 dark:text-red-200",children:l})}),!n&&!l&&t.length>0?r.jsx("div",{className:"space-y-3",children:t.map(y=>r.jsx("div",{className:`card block transition-all duration-300 relative ${y.isUnread?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"bg-card-theme"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[y.isUnread&&r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})}),r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${y.isUnread?"bg-[#2563eb] ml-6":"bg-[#2563eb]/10"}`,children:r.jsx(db,{className:`w-5 h-5 ${y.isUnread?"text-white":"text-[#2563eb]"}`})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs(mr,{to:y.link,className:"block hover:opacity-80 transition-opacity",children:[r.jsx("p",{className:`text-base ${y.isUnread?"text-theme font-semibold":"text-theme font-normal"}`,children:y.message}),y.createdAt&&r.jsx("p",{className:"text-secondary text-sm mt-1",children:new Date(y.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})}),!y.isUnread&&r.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 flex-shrink-0",children:[r.jsx(fb,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Read"})]})]})},y.id))}):!n&&!l&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[r.jsx(gC,{className:"w-20 h-20 text-gray-300 dark:text-gray-700 mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-theme mb-2",children:"No notifications yet"}),r.jsx("p",{className:"text-secondary mb-6 max-w-md",children:"When you receive notifications, they'll appear here."})]})]})]})}function b$({isOpen:t,onClose:e,itemName:n,itemAuthor:s,onShareToTweets:l,onAddToRecommendation:i}){return t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:e,children:r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md mx-auto p-6 relative shadow-2xl",onClick:u=>u.stopPropagation(),children:[r.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors z-10","aria-label":"Close",children:r.jsx(On,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(lL,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})})}),r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-theme mb-2",children:"Congratulations! "}),r.jsx("p",{className:"text-secondary text-xs sm:text-sm mb-1",children:"You've completed"}),r.jsxs("p",{className:"text-base sm:text-lg font-semibold text-theme mb-1 line-clamp-2 px-2",children:['"',n,'"']}),s&&r.jsxs("p",{className:"text-xs sm:text-sm text-secondary",children:["by ",s]})]}),r.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsx("p",{className:"text-xs sm:text-sm text-center text-secondary",children:"Loved this story? Share your thoughts with others or add it to your recommendation list!"})}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("button",{onClick:l,className:"w-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white px-4 py-2.5 sm:py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(vL,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Share to Tweets Feed"]}),r.jsxs("button",{onClick:i,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2.5 sm:py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(XM,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Add to Recommendation List"]}),r.jsx("button",{onClick:e,className:"w-full border-2 border-gray-300 dark:border-gray-600 text-secondary hover:bg-gray-50 dark:hover:bg-gray-700 px-4 py-2.5 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base",children:"Maybe Later"})]})]})})}):null}function v$(){const{id:t}=ln(),e=Je(),[n,s]=p.useState(null),[l,i]=p.useState(null),[u,d]=p.useState(""),[f,m]=p.useState(null),[g,x]=p.useState(null),[b,y]=p.useState({isOpen:!1,itemName:"",itemAuthor:"",itemId:null,itemType:null}),{user:N}=Nt(),[j,S]=p.useState(localStorage.getItem("theme")==="dark"),{toast:C,showToast:T,closeToast:k}=Mn(),{confirm:_,showConfirm:E,closeConfirm:L}=fa();p.useEffect(()=>{j?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[j]),p.useEffect(()=>{i(!0),d("");async function z(){try{const G=await fetch("https://fanhub-server.onrender.com/api/users/library",{method:"GET",credentials:"include"}),$=await G.json();if(G.status===500){e("/error",{state:{message:$.message||"Process failed"}});return}else if(!G.ok){d($.message);return}const W=$.library.filter((Y,Z,V)=>Z===V.findIndex(q=>q.tweetId&&q.tweetId===Y.tweetId||q.storyId&&q.storyId===Y.storyId||q.collectionId&&q.collectionId===Y.collectionId));s(W)}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}z()},[e]);async function O(z,G,$,W){d(""),m(z);try{const Y=G==="stories"?`https://fanhub-server.onrender.com/api/stories/${z}/readinglist`:G==="collections"?`https://fanhub-server.onrender.com/api/gallery/collection/${z}/readinglist`:G==="tweets"?`https://fanhub-server.onrender.com/api/tweets/${z}/library`:null,Z=await fetch(Y,{method:"POST",credentials:"include"}),V=await Z.json();if(Z.status===500){e("/error",{state:{message:V.message||"Process failed"}});return}else if(!Z.ok&&Z.status!==500){d(V.message),T(V.message||"Failed to remove from library","error");return}s(q=>q.filter(K=>Number(K.id)!==Number($))),T(`"${W}" removed from library`,"success")}catch{T("Failed to remove from library","error"),e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{m(null)}}async function A(z,G,$,W,Y){var Z,V,q,K;x(z);try{const te=await fetch(`https://fanhub-server.onrender.com/api/users/library/${z}/complete`,{method:"POST",credentials:"include"}),se=await te.json();if(!te.ok){T(se.message||"Failed to mark as complete","error");return}s(ae=>ae.map(ge=>ge.id===z?{...ge,completed:!0,completedAt:new Date().toISOString()}:ge));const ue=((Z=se.library)==null?void 0:Z.actualStoryId)||W,xe=((V=se.library)==null?void 0:V.actualCollectionId)||Y;y({isOpen:!0,itemName:((q=se.library)==null?void 0:q.contentTitle)||G,itemAuthor:((K=se.library)==null?void 0:K.contentAuthor)||$,itemId:ue||xe,itemType:ue?"story":"collection"})}catch{T("Failed to mark as complete","error")}finally{x(null)}}async function M(z){x(z);try{const G=await fetch(`https://fanhub-server.onrender.com/api/users/library/${z}/complete`,{method:"DELETE",credentials:"include"}),$=await G.json();if(!G.ok){T($.message||"Failed to unmark","error");return}s(W=>W.map(Y=>Y.id===z?{...Y,completed:!1,completedAt:null}:Y)),T("Marked as incomplete","success")}catch{T("Failed to update status","error")}finally{x(null)}}function B(){y({...b,isOpen:!1}),e("/tweets/create",{state:{prefilledContent:`Just finished reading "${b.itemName}"! ${b.itemAuthor?`by ${b.itemAuthor}`:""} Highly recommend! `,contentId:b.itemId,contentType:b.itemType}})}function P(){y({...b,isOpen:!1}),e("/recommendations/create",{state:{preselectedStory:b.itemId,storyName:b.itemName}})}const U=(n==null?void 0:n.filter(z=>z.tweetId!=null))||[],I=(n==null?void 0:n.filter(z=>z.primarygenre))||[];return r.jsxs("div",{className:"min-h-screen bg-theme py-8 px-4 sm:px-6 lg:px-8",children:[r.jsx(Hn,{message:C.message,type:C.type,isOpen:C.isOpen,onClose:k}),r.jsx(da,{isOpen:_.isOpen,onClose:L,onConfirm:_.onConfirm,title:_.title,description:_.description,confirmText:"Remove",cancelText:"Cancel",variant:"destructive"}),r.jsx(b$,{isOpen:b.isOpen,onClose:()=>y({...b,isOpen:!1}),itemName:b.itemName,itemAuthor:b.itemAuthor,onShareToTweets:B,onAddToRecommendation:P}),r.jsx(Jt,{user:N,darkMode:j,setDarkMode:S}),r.jsx("div",{className:"h-1"}),r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-theme flex items-center gap-3",children:[r.jsx(xx,{className:"w-8 h-8 text-[#2563eb]","aria-hidden":"true"}),"My Library"]}),r.jsx("p",{className:"text-secondary mt-2",children:"Your saved stories, collections, and tweets"})]}),u&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",role:"alert","aria-live":"polite",children:r.jsx("p",{className:"text-red-800 dark:text-red-200",children:u})}),l&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",role:"status","aria-live":"polite",children:[r.jsx(vt,{className:"w-12 h-12 text-[#2563eb] animate-spin mb-4","aria-hidden":"true"}),r.jsx("p",{className:"text-secondary text-lg",children:"Loading your library..."})]}),!l&&n&&r.jsx(r.Fragment,{children:n.length>0?r.jsxs("div",{className:"space-y-12",children:[I.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-theme mb-6 flex items-center gap-2",children:[r.jsx(xx,{className:"w-6 h-6 text-[#2563eb]","aria-hidden":"true"}),"Stories & Collections"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(z=>r.jsxs("article",{className:"card group focus-within:ring-2 focus-within:ring-[#2563eb] focus-within:ring-offset-2",children:[r.jsxs("div",{onClick:()=>{z.storyId&&e(`/stories/${z.storyId}`),z.collectionId&&e(`/gallery/${z.collectionId}`)},className:"relative aspect-[3/4] overflow-hidden rounded-lg mb-4 bg-gray-100 dark:bg-gray-800 cursor-pointer",role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(z.storyId&&e(`/stories/${z.storyId}`),z.collectionId&&e(`/gallery/${z.collectionId}`))},"aria-label":`View ${z.name}`,children:[r.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),z.completed&&r.jsx("div",{className:"absolute top-2 left-2",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600 text-white text-xs font-medium rounded shadow-lg",children:[r.jsx(hb,{className:"w-3 h-3"}),"Completed"]})}),r.jsx("div",{className:"absolute top-2 right-2",children:z.storyId!==null?r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#2563eb] text-white text-xs font-medium rounded",children:[r.jsx(xx,{className:"w-3 h-3","aria-hidden":"true"}),"Story"]}):r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-600 text-white text-xs font-medium rounded",children:[r.jsx(ws,{className:"w-3 h-3","aria-hidden":"true"}),"Collection"]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{onClick:()=>{z.storyId&&e(`/stories/${z.storyId}`),z.collectionId&&e(`/gallery/${z.collectionId}`)},className:"text-lg font-semibold text-theme line-clamp-2 cursor-pointer hover:text-[#2563eb] transition-colors",role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(z.storyId&&e(`/stories/${z.storyId}`),z.collectionId&&e(`/gallery/${z.collectionId}`))},children:z.name}),z.description&&r.jsx("p",{className:"text-secondary text-sm line-clamp-2",children:z.description}),z.tags&&r.jsx("div",{className:"flex flex-wrap gap-1",children:z.tags.split(",").slice(0,3).map((G,$)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-xs rounded text-secondary",children:G.trim()},$))}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary",children:[z.status&&r.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded",children:z.status}),z.completedAt?r.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[" ",new Date(z.completedAt).toLocaleDateString()]}):z.uploadedAt?r.jsx("span",{children:new Date(z.uploadedAt).toLocaleDateString()}):null]}),r.jsxs("div",{className:"pt-2 space-y-2",children:[z.completed?r.jsxs("button",{disabled:g===z.id,onClick:()=>M(z.id),className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center gap-2","aria-label":`Unmark ${z.name} as complete`,children:[g===z.id?r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):r.jsx(fC,{className:"w-4 h-4","aria-hidden":"true"}),g===z.id?"Updating...":"Mark Incomplete"]}):r.jsxs("button",{disabled:g===z.id,onClick:()=>{z.storyId,z.storyId||z.collectionId,A(z.id,z.name,z.description,z.storyId,z.collectionId)},className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center gap-2","aria-label":`Mark ${z.name} as complete`,children:[g===z.id?r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):r.jsx(hb,{className:"w-4 h-4","aria-hidden":"true"}),g===z.id?"Marking...":"Mark as Complete"]}),z.storyId!==null&&r.jsxs("button",{disabled:f===z.storyId,onClick:()=>{E("Remove from Library",`Are you sure you want to remove "${z.name}" from your library?`,()=>O(z.storyId,"stories",z.id,z.name))},className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center gap-2","aria-label":`Remove ${z.name} from library`,children:[f===z.storyId?r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):r.jsx(Mr,{className:"w-4 h-4","aria-hidden":"true"}),f===z.storyId?"Removing...":"Remove"]}),z.collectionId!==null&&r.jsxs("button",{disabled:f===z.collectionId,onClick:()=>{E("Remove from Library",`Are you sure you want to remove "${z.name}" from your library?`,()=>O(z.collectionId,"collections",z.id,z.name))},className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center gap-2","aria-label":`Remove ${z.name} from library`,children:[f===z.collectionId?r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):r.jsx(Mr,{className:"w-4 h-4","aria-hidden":"true"}),f===z.collectionId?"Removing...":"Remove"]})]})]})]},z.id))})]}),U.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-theme mb-6 flex items-center gap-2",children:[r.jsx(mn,{className:"w-6 h-6 text-[#2563eb]","aria-hidden":"true"}),"Saved Tweets"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(z=>r.jsxs("article",{className:"card group focus:ring-2 focus:ring-[#2563eb] focus:ring-offset-2 overflow-hidden",children:[z.media&&r.jsx("div",{onClick:()=>z.tweetId&&e(`/tweets/${z.tweetId}`),className:"relative aspect-video w-full overflow-hidden bg-gray-100 dark:bg-gray-800 cursor-pointer mb-4",role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),z.tweetId&&e(`/tweets/${z.tweetId}`))},"aria-label":`View tweet: ${z.name}`,children:z.type==="video"?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.media.replace(/\.[^/.]+$/,"")+"_thumbnail.jpg",alt:"",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",onError:G=>{G.target.style.display="none",G.target.nextElementSibling.style.display="flex"}}),r.jsx("div",{className:"hidden w-full h-full items-center justify-center bg-gray-200 dark:bg-gray-700",children:r.jsx(Fs,{className:"w-16 h-16 text-gray-400","aria-hidden":"true"})}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/90 flex items-center justify-center",children:r.jsx("div",{className:"w-0 h-0 border-t-8 border-t-transparent border-l-12 border-l-[#2563eb] border-b-8 border-b-transparent ml-1"})})}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-600 text-white text-xs font-medium rounded shadow-lg",children:[r.jsx(Fs,{className:"w-3 h-3","aria-hidden":"true"}),"Video"]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.media,alt:"",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600 text-white text-xs font-medium rounded shadow-lg",children:[r.jsx(ws,{className:"w-3 h-3","aria-hidden":"true"}),"Image"]})})]})}),r.jsxs("div",{onClick:()=>z.tweetId&&e(`/tweets/${z.tweetId}`),className:"cursor-pointer",role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),z.tweetId&&e(`/tweets/${z.tweetId}`))},"aria-label":`View tweet: ${z.name}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-theme line-clamp-2 mb-2 group-hover:text-[#2563eb] transition-colors",children:z.name}),z.description&&r.jsx("div",{className:"tweet-content text-secondary text-sm line-clamp-3 mb-3",dangerouslySetInnerHTML:{__html:z.description},style:{wordBreak:"break-word",overflow:"hidden"}}),z.tags&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:z.tags.split(",").slice(0,3).map((G,$)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-xs rounded text-secondary",children:G.trim()},$))}),z.uploadedAt&&r.jsx("p",{className:"text-xs text-secondary",children:new Date(z.uploadedAt).toLocaleDateString()})]}),r.jsx("div",{className:"mt-4",children:z.tweetId!==null&&r.jsxs("button",{disabled:f===z.tweetId,onClick:G=>{G.stopPropagation(),E("Remove from Library",`Are you sure you want to remove "${z.name}" from your library?`,()=>O(z.tweetId,"tweets",z.id,z.name))},className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center gap-2","aria-label":`Remove tweet: ${z.name} from library`,children:[f===z.tweetId?r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}):r.jsx(Mr,{className:"w-4 h-4","aria-hidden":"true"}),f===z.tweetId?"Removing...":"Remove"]})})]},z.id))})]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[r.jsx(gC,{className:"w-20 h-20 text-gray-300 dark:text-gray-700 mb-4","aria-hidden":"true"}),r.jsx("h2",{className:"text-2xl font-semibold text-theme mb-2",children:"Your library is empty"}),r.jsx("p",{className:"text-secondary mb-6 max-w-md",children:"Start adding stories, collections, and tweets to your library to access them quickly later."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/homestories"),className:"btn",children:"Browse Stories"}),r.jsx("button",{onClick:()=>e("/tweets"),className:"px-6 py-3 border-2 border-[#2563eb] text-[#2563eb] rounded-lg font-medium hover:bg-[#2563eb]/10 transition-colors",children:"Browse Tweets"})]})]})})]})]})}function y$(){const{user:t,setUser:e}=T5(),[n,s]=p.useState({username:(t==null?void 0:t.username)||"",country:(t==null?void 0:t.country)||"",gender:(t==null?void 0:t.gender)||"",bio:(t==null?void 0:t.bio)||"",instagram:(t==null?void 0:t.instagram)||"",facebook:(t==null?void 0:t.facebook)||"",twitter:(t==null?void 0:t.twitter)||"",discord:(t==null?void 0:t.discord)||"",donation:(t==null?void 0:t.donation)||"",file:null}),[l,i]=p.useState(""),u=Je(),[d,f]=p.useState(!1),[m,g]=p.useState((t==null?void 0:t.coverImage)||null),[x,b]=p.useState(localStorage.getItem("theme")==="dark");p.useEffect(()=>{x?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[x]);const y=j=>{const{name:S,value:C,files:T}=j.target;if(S==="file"&&T[0]){s({...n,[S]:T[0]});const k=new FileReader;k.onloadend=()=>g(k.result),k.readAsDataURL(T[0])}else s({...n,[S]:C})},N=async j=>{j.preventDefault(),i(""),f(!0);const S=new FormData;Object.entries(n).forEach(([C,T])=>{T&&S.append(C,T)});try{const C=await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/update`,{method:"POST",body:S,credentials:"include"}),T=await C.json();if(!C.ok){i(T.message||"Update failed");return}e(T.user),localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(T.user)),u(`/profile/${t.username}/${t.id}/about`)}catch{i("Something went wrong. Please try again.")}finally{f(!1)}};return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:x,setDarkMode:b}),r.jsx("div",{className:"min-h-screen bg-theme pt-28 pb-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-theme flex items-center gap-3",children:[r.jsx(hi,{className:"w-8 h-8 text-[#2563eb]","aria-hidden":"true"}),"Update Your Profile"]}),r.jsx("p",{className:"text-secondary mt-2",children:"Manage your personal information and social links"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-theme",children:[r.jsx("div",{className:"form-card-icon p-2 rounded-lg",children:r.jsx(Ov,{className:"icon-primary w-5 h-5","aria-hidden":"true"})}),r.jsx("h2",{className:"text-xl font-semibold text-theme",children:"Basic Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-theme mb-2",children:["Username ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"username",type:"text",name:"username",value:n.username,onChange:y,required:!0,className:"w-full px-4 py-3 rounded-lg focus:outline-none"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-theme mb-2",children:["Country ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(nj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary"}),r.jsx("input",{id:"country",type:"text",name:"country",value:n.country,onChange:y,required:!0,className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"gender",className:"block text-sm font-medium text-theme mb-2",children:["Gender ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"gender",name:"gender",value:n.gender,onChange:y,required:!0,className:"w-full px-4 py-3 rounded-lg focus:outline-none",children:[r.jsx("option",{value:"",children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"}),r.jsx("option",{value:"other",children:"Other"}),r.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-theme mb-2",children:"Bio"}),r.jsxs("div",{className:"relative",children:[r.jsx(mC,{className:"absolute left-3 top-3 w-5 h-5 text-secondary"}),r.jsx("textarea",{id:"bio",name:"bio",value:n.bio,onChange:y,rows:"4",placeholder:"Tell us about yourself...",className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none resize-none"})]})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-theme",children:[r.jsx(Cc,{className:"icon-primary w-5 h-5"}),r.jsx("h2",{className:"text-xl font-semibold text-theme",children:"Cover Picture"})]}),m&&r.jsx("img",{src:m,alt:"Cover preview",className:"w-full h-48 object-cover rounded-lg mb-4"}),r.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer border-2 border-dashed rounded-lg p-6 text-center hover:border-[#2563eb] transition-all duration-300 block",children:[r.jsx("input",{id:"file-upload",type:"file",name:"file",accept:"image/*",onChange:y,className:"sr-only"}),r.jsx("div",{className:"w-12 h-12 mx-auto flex items-center justify-center mb-3 rounded-full bg-blue-50 dark:bg-gray-800",children:r.jsx(Cc,{className:"w-6 h-6 text-[#2563eb]"})}),r.jsx("p",{className:"text-sm font-medium text-theme",children:m?"Change cover picture":"Upload cover picture"}),r.jsx("p",{className:"text-xs text-secondary mt-1",children:"PNG, JPG up to 10MB"})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-theme",children:[r.jsx(nj,{className:"icon-primary w-5 h-5"}),r.jsx("h2",{className:"text-xl font-semibold text-theme",children:"Social Links"})]}),r.jsx("div",{className:"space-y-4",children:[{id:"instagram",label:"Instagram",icon:r.jsx(BM,{className:"w-5 h-5 text-secondary"}),placeholder:"@username"},{id:"facebook",label:"Facebook",icon:r.jsx(wM,{className:"w-5 h-5 text-secondary"}),placeholder:"facebook.com/username"},{id:"twitter",label:"Twitter / X",icon:r.jsx(RL,{className:"w-5 h-5 text-secondary"}),placeholder:"@username"},{id:"discord",label:"Discord",icon:r.jsx(jr,{className:"w-5 h-5 text-secondary"}),placeholder:"username#0000"},{id:"donation",label:"Donation Link",icon:r.jsx(pM,{className:"w-5 h-5 text-secondary"}),placeholder:"https://..."}].map(({id:j,label:S,icon:C,placeholder:T})=>r.jsxs("div",{children:[r.jsx("label",{htmlFor:j,className:"block text-sm font-medium text-theme mb-2",children:S}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:C}),r.jsx("input",{id:j,name:j,value:n[j],onChange:y,placeholder:T,className:"w-full pl-10 pr-4 py-3 rounded-lg focus:outline-none"})]})]},j))})]}),l&&r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-red-800 dark:text-red-200",children:l})}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4",children:[r.jsx("button",{type:"button",onClick:()=>u(`/profile/${t.username}/${t.id}/about`),className:"w-full sm:w-auto px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg font-medium text-theme hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"w-full sm:w-auto px-6 py-3 flex items-center justify-center gap-2 rounded-lg bg-[#2563eb] text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Lv,{className:"w-5 h-5"}),"Save Changes"]})})]})]})]})})]})}const m0=["All","Writing","Story","Poem","Quote","Fiction","Nonfiction","Romance","Fantasy","Mystery","Thriller","Drama","Comedy","Adventure","SciFi","Horror","Historical","Character","Plot","Dialogue","Excerpt","Snippet","Conflict","Worldbuilding","WritingPrompt","Microfiction","FlashFiction","ShortStory","Inspiration","Motivation","WriterLife","WritingTips","WritersCommunity","Creativity","Imagination","Prose","Poetry","Editing","Revision","FirstDraft","Mood","Theme","Perspective","Narration","Voice","Metaphor","Symbolism","Grammar","SentenceStructure","WordChoice","Description","Emotion","WriterGoals","BookIdeas","WIP","StoryIdeas","WritersBlock","WritingChallenge","WritingJourney","WritingCommunity","SelfPublishing","IndieAuthor","CreativityBoost","Readers","Feedback","Support","Review","Daily writing experience","Fresh stories","Q&A","MotivationalQuote","WritingHabit","Recommendation"];var uE=typeof global=="object"&&global&&global.Object===Object&&global,w$=typeof self=="object"&&self&&self.Object===Object&&self,Fa=uE||w$||Function("return this")(),wo=Fa.Symbol,dE=Object.prototype,N$=dE.hasOwnProperty,j$=dE.toString,$u=wo?wo.toStringTag:void 0;function S$(t){var e=N$.call(t,$u),n=t[$u];try{t[$u]=void 0;var s=!0}catch{}var l=j$.call(t);return s&&(e?t[$u]=n:delete t[$u]),l}var C$=Object.prototype,E$=C$.toString;function k$(t){return E$.call(t)}var T$="[object Null]",A$="[object Undefined]",Vj=wo?wo.toStringTag:void 0;function qc(t){return t==null?t===void 0?A$:T$:Vj&&Vj in Object(t)?S$(t):k$(t)}function yl(t){return t!=null&&typeof t=="object"}var ai=Array.isArray;function jo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function fE(t){return t}var R$="[object AsyncFunction]",O$="[object Function]",M$="[object GeneratorFunction]",L$="[object Proxy]";function p0(t){if(!jo(t))return!1;var e=qc(t);return e==O$||e==M$||e==R$||e==L$}var Mx=Fa["__core-js_shared__"],Gj=(function(){var t=/[^.]+$/.exec(Mx&&Mx.keys&&Mx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function _$(t){return!!Gj&&Gj in t}var D$=Function.prototype,P$=D$.toString;function gi(t){if(t!=null){try{return P$.call(t)}catch{}try{return t+""}catch{}}return""}var $$=/[\\^$.*+?()[\]{}|]/g,I$=/^\[object .+?Constructor\]$/,z$=Function.prototype,U$=Object.prototype,B$=z$.toString,q$=U$.hasOwnProperty,F$=RegExp("^"+B$.call(q$).replace($$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H$(t){if(!jo(t)||_$(t))return!1;var e=p0(t)?F$:I$;return e.test(gi(t))}function V$(t,e){return t==null?void 0:t[e]}function xi(t,e){var n=V$(t,e);return H$(n)?n:void 0}var Pb=xi(Fa,"WeakMap"),Yj=Object.create,G$=(function(){function t(){}return function(e){if(!jo(e))return{};if(Yj)return Yj(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function Y$(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function W$(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var K$=800,X$=16,Z$=Date.now;function Q$(t){var e=0,n=0;return function(){var s=Z$(),l=X$-(s-n);if(n=s,l>0){if(++e>=K$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function J$(t){return function(){return t}}var tm=(function(){try{var t=xi(Object,"defineProperty");return t({},"",{}),t}catch{}})(),eI=tm?function(t,e){return tm(t,"toString",{configurable:!0,enumerable:!1,value:J$(e),writable:!0})}:fE,tI=Q$(eI);function nI(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}var rI=9007199254740991,sI=/^(?:0|[1-9]\d*)$/;function hE(t,e){var n=typeof t;return e=e??rI,!!e&&(n=="number"||n!="symbol"&&sI.test(t))&&t>-1&&t%1==0&&t<e}function g0(t,e,n){e=="__proto__"&&tm?tm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function zd(t,e){return t===e||t!==t&&e!==e}var aI=Object.prototype,lI=aI.hasOwnProperty;function mE(t,e,n){var s=t[e];(!(lI.call(t,e)&&zd(s,n))||n===void 0&&!(e in t))&&g0(t,e,n)}function oI(t,e,n,s){var l=!n;n||(n={});for(var i=-1,u=e.length;++i<u;){var d=e[i],f=void 0;f===void 0&&(f=t[d]),l?g0(n,d,f):mE(n,d,f)}return n}var Wj=Math.max;function iI(t,e,n){return e=Wj(e===void 0?t.length-1:e,0),function(){for(var s=arguments,l=-1,i=Wj(s.length-e,0),u=Array(i);++l<i;)u[l]=s[e+l];l=-1;for(var d=Array(e+1);++l<e;)d[l]=s[l];return d[e]=n(u),Y$(t,this,d)}}function cI(t,e){return tI(iI(t,e,fE),t+"")}var uI=9007199254740991;function pE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uI}function Hm(t){return t!=null&&pE(t.length)&&!p0(t)}function dI(t,e,n){if(!jo(n))return!1;var s=typeof e;return(s=="number"?Hm(n)&&hE(e,n.length):s=="string"&&e in n)?zd(n[e],t):!1}function fI(t){return cI(function(e,n){var s=-1,l=n.length,i=l>1?n[l-1]:void 0,u=l>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(l--,i):void 0,u&&dI(n[0],n[1],u)&&(i=l<3?void 0:i,l=1),e=Object(e);++s<l;){var d=n[s];d&&t(e,d,s,i)}return e})}var hI=Object.prototype;function x0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hI;return t===n}function mI(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var pI="[object Arguments]";function Kj(t){return yl(t)&&qc(t)==pI}var gE=Object.prototype,gI=gE.hasOwnProperty,xI=gE.propertyIsEnumerable,$b=Kj((function(){return arguments})())?Kj:function(t){return yl(t)&&gI.call(t,"callee")&&!xI.call(t,"callee")};function bI(){return!1}var xE=typeof vs=="object"&&vs&&!vs.nodeType&&vs,Xj=xE&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,vI=Xj&&Xj.exports===xE,Zj=vI?Fa.Buffer:void 0,yI=Zj?Zj.isBuffer:void 0,gd=yI||bI,wI="[object Arguments]",NI="[object Array]",jI="[object Boolean]",SI="[object Date]",CI="[object Error]",EI="[object Function]",kI="[object Map]",TI="[object Number]",AI="[object Object]",RI="[object RegExp]",OI="[object Set]",MI="[object String]",LI="[object WeakMap]",_I="[object ArrayBuffer]",DI="[object DataView]",PI="[object Float32Array]",$I="[object Float64Array]",II="[object Int8Array]",zI="[object Int16Array]",UI="[object Int32Array]",BI="[object Uint8Array]",qI="[object Uint8ClampedArray]",FI="[object Uint16Array]",HI="[object Uint32Array]",Sn={};Sn[PI]=Sn[$I]=Sn[II]=Sn[zI]=Sn[UI]=Sn[BI]=Sn[qI]=Sn[FI]=Sn[HI]=!0;Sn[wI]=Sn[NI]=Sn[_I]=Sn[jI]=Sn[DI]=Sn[SI]=Sn[CI]=Sn[EI]=Sn[kI]=Sn[TI]=Sn[AI]=Sn[RI]=Sn[OI]=Sn[MI]=Sn[LI]=!1;function VI(t){return yl(t)&&pE(t.length)&&!!Sn[qc(t)]}function b0(t){return function(e){return t(e)}}var bE=typeof vs=="object"&&vs&&!vs.nodeType&&vs,ed=bE&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,GI=ed&&ed.exports===bE,Lx=GI&&uE.process,Ac=(function(){try{var t=ed&&ed.require&&ed.require("util").types;return t||Lx&&Lx.binding&&Lx.binding("util")}catch{}})(),Qj=Ac&&Ac.isTypedArray,v0=Qj?b0(Qj):VI,YI=Object.prototype,WI=YI.hasOwnProperty;function vE(t,e){var n=ai(t),s=!n&&$b(t),l=!n&&!s&&gd(t),i=!n&&!s&&!l&&v0(t),u=n||s||l||i,d=u?mI(t.length,String):[],f=d.length;for(var m in t)(e||WI.call(t,m))&&!(u&&(m=="length"||l&&(m=="offset"||m=="parent")||i&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||hE(m,f)))&&d.push(m);return d}function yE(t,e){return function(n){return t(e(n))}}var KI=yE(Object.keys,Object),XI=Object.prototype,ZI=XI.hasOwnProperty;function QI(t){if(!x0(t))return KI(t);var e=[];for(var n in Object(t))ZI.call(t,n)&&n!="constructor"&&e.push(n);return e}function JI(t){return Hm(t)?vE(t):QI(t)}function ez(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tz=Object.prototype,nz=tz.hasOwnProperty;function rz(t){if(!jo(t))return ez(t);var e=x0(t),n=[];for(var s in t)s=="constructor"&&(e||!nz.call(t,s))||n.push(s);return n}function wE(t){return Hm(t)?vE(t,!0):rz(t)}var xd=xi(Object,"create");function sz(){this.__data__=xd?xd(null):{},this.size=0}function az(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lz="__lodash_hash_undefined__",oz=Object.prototype,iz=oz.hasOwnProperty;function cz(t){var e=this.__data__;if(xd){var n=e[t];return n===lz?void 0:n}return iz.call(e,t)?e[t]:void 0}var uz=Object.prototype,dz=uz.hasOwnProperty;function fz(t){var e=this.__data__;return xd?e[t]!==void 0:dz.call(e,t)}var hz="__lodash_hash_undefined__";function mz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xd&&e===void 0?hz:e,this}function li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}li.prototype.clear=sz;li.prototype.delete=az;li.prototype.get=cz;li.prototype.has=fz;li.prototype.set=mz;function pz(){this.__data__=[],this.size=0}function Vm(t,e){for(var n=t.length;n--;)if(zd(t[n][0],e))return n;return-1}var gz=Array.prototype,xz=gz.splice;function bz(t){var e=this.__data__,n=Vm(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():xz.call(e,n,1),--this.size,!0}function vz(t){var e=this.__data__,n=Vm(e,t);return n<0?void 0:e[n][1]}function yz(t){return Vm(this.__data__,t)>-1}function wz(t,e){var n=this.__data__,s=Vm(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function El(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}El.prototype.clear=pz;El.prototype.delete=bz;El.prototype.get=vz;El.prototype.has=yz;El.prototype.set=wz;var bd=xi(Fa,"Map");function Nz(){this.size=0,this.__data__={hash:new li,map:new(bd||El),string:new li}}function jz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Gm(t,e){var n=t.__data__;return jz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Sz(t){var e=Gm(this,t).delete(t);return this.size-=e?1:0,e}function Cz(t){return Gm(this,t).get(t)}function Ez(t){return Gm(this,t).has(t)}function kz(t,e){var n=Gm(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function bi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}bi.prototype.clear=Nz;bi.prototype.delete=Sz;bi.prototype.get=Cz;bi.prototype.has=Ez;bi.prototype.set=kz;function Tz(t,e){for(var n=-1,s=e.length,l=t.length;++n<s;)t[l+n]=e[n];return t}var NE=yE(Object.getPrototypeOf,Object),Az="[object Object]",Rz=Function.prototype,Oz=Object.prototype,jE=Rz.toString,Mz=Oz.hasOwnProperty,Lz=jE.call(Object);function _z(t){if(!yl(t)||qc(t)!=Az)return!1;var e=NE(t);if(e===null)return!0;var n=Mz.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jE.call(n)==Lz}function Dz(){this.__data__=new El,this.size=0}function Pz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function $z(t){return this.__data__.get(t)}function Iz(t){return this.__data__.has(t)}var zz=200;function Uz(t,e){var n=this.__data__;if(n instanceof El){var s=n.__data__;if(!bd||s.length<zz-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new bi(s)}return n.set(t,e),this.size=n.size,this}function Da(t){var e=this.__data__=new El(t);this.size=e.size}Da.prototype.clear=Dz;Da.prototype.delete=Pz;Da.prototype.get=$z;Da.prototype.has=Iz;Da.prototype.set=Uz;var SE=typeof vs=="object"&&vs&&!vs.nodeType&&vs,Jj=SE&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,Bz=Jj&&Jj.exports===SE,e2=Bz?Fa.Buffer:void 0,t2=e2?e2.allocUnsafe:void 0;function CE(t,e){if(e)return t.slice();var n=t.length,s=t2?t2(n):new t.constructor(n);return t.copy(s),s}function qz(t,e){for(var n=-1,s=t==null?0:t.length,l=0,i=[];++n<s;){var u=t[n];e(u,n,t)&&(i[l++]=u)}return i}function Fz(){return[]}var Hz=Object.prototype,Vz=Hz.propertyIsEnumerable,n2=Object.getOwnPropertySymbols,Gz=n2?function(t){return t==null?[]:(t=Object(t),qz(n2(t),function(e){return Vz.call(t,e)}))}:Fz;function Yz(t,e,n){var s=e(t);return ai(t)?s:Tz(s,n(t))}function Ib(t){return Yz(t,JI,Gz)}var zb=xi(Fa,"DataView"),Ub=xi(Fa,"Promise"),Bb=xi(Fa,"Set"),r2="[object Map]",Wz="[object Object]",s2="[object Promise]",a2="[object Set]",l2="[object WeakMap]",o2="[object DataView]",Kz=gi(zb),Xz=gi(bd),Zz=gi(Ub),Qz=gi(Bb),Jz=gi(Pb),ta=qc;(zb&&ta(new zb(new ArrayBuffer(1)))!=o2||bd&&ta(new bd)!=r2||Ub&&ta(Ub.resolve())!=s2||Bb&&ta(new Bb)!=a2||Pb&&ta(new Pb)!=l2)&&(ta=function(t){var e=qc(t),n=e==Wz?t.constructor:void 0,s=n?gi(n):"";if(s)switch(s){case Kz:return o2;case Xz:return r2;case Zz:return s2;case Qz:return a2;case Jz:return l2}return e});var eU=Object.prototype,tU=eU.hasOwnProperty;function nU(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tU.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var nm=Fa.Uint8Array;function y0(t){var e=new t.constructor(t.byteLength);return new nm(e).set(new nm(t)),e}function rU(t,e){var n=y0(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var sU=/\w*$/;function aU(t){var e=new t.constructor(t.source,sU.exec(t));return e.lastIndex=t.lastIndex,e}var i2=wo?wo.prototype:void 0,c2=i2?i2.valueOf:void 0;function lU(t){return c2?Object(c2.call(t)):{}}function EE(t,e){var n=e?y0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var oU="[object Boolean]",iU="[object Date]",cU="[object Map]",uU="[object Number]",dU="[object RegExp]",fU="[object Set]",hU="[object String]",mU="[object Symbol]",pU="[object ArrayBuffer]",gU="[object DataView]",xU="[object Float32Array]",bU="[object Float64Array]",vU="[object Int8Array]",yU="[object Int16Array]",wU="[object Int32Array]",NU="[object Uint8Array]",jU="[object Uint8ClampedArray]",SU="[object Uint16Array]",CU="[object Uint32Array]";function EU(t,e,n){var s=t.constructor;switch(e){case pU:return y0(t);case oU:case iU:return new s(+t);case gU:return rU(t);case xU:case bU:case vU:case yU:case wU:case NU:case jU:case SU:case CU:return EE(t,n);case cU:return new s;case uU:case hU:return new s(t);case dU:return aU(t);case fU:return new s;case mU:return lU(t)}}function kE(t){return typeof t.constructor=="function"&&!x0(t)?G$(NE(t)):{}}var kU="[object Map]";function TU(t){return yl(t)&&ta(t)==kU}var u2=Ac&&Ac.isMap,AU=u2?b0(u2):TU,RU="[object Set]";function OU(t){return yl(t)&&ta(t)==RU}var d2=Ac&&Ac.isSet,MU=d2?b0(d2):OU,LU=1,TE="[object Arguments]",_U="[object Array]",DU="[object Boolean]",PU="[object Date]",$U="[object Error]",AE="[object Function]",IU="[object GeneratorFunction]",zU="[object Map]",UU="[object Number]",RE="[object Object]",BU="[object RegExp]",qU="[object Set]",FU="[object String]",HU="[object Symbol]",VU="[object WeakMap]",GU="[object ArrayBuffer]",YU="[object DataView]",WU="[object Float32Array]",KU="[object Float64Array]",XU="[object Int8Array]",ZU="[object Int16Array]",QU="[object Int32Array]",JU="[object Uint8Array]",eB="[object Uint8ClampedArray]",tB="[object Uint16Array]",nB="[object Uint32Array]",vn={};vn[TE]=vn[_U]=vn[GU]=vn[YU]=vn[DU]=vn[PU]=vn[WU]=vn[KU]=vn[XU]=vn[ZU]=vn[QU]=vn[zU]=vn[UU]=vn[RE]=vn[BU]=vn[qU]=vn[FU]=vn[HU]=vn[JU]=vn[eB]=vn[tB]=vn[nB]=!0;vn[$U]=vn[AE]=vn[VU]=!1;function Lh(t,e,n,s,l,i){var u,d=e&LU;if(u!==void 0)return u;if(!jo(t))return t;var f=ai(t);if(f)u=nU(t);else{var m=ta(t),g=m==AE||m==IU;if(gd(t))return CE(t,d);if(m==RE||m==TE||g&&!l)u=g?{}:kE(t);else{if(!vn[m])return l?t:{};u=EU(t,m,d)}}i||(i=new Da);var x=i.get(t);if(x)return x;i.set(t,u),MU(t)?t.forEach(function(N){u.add(Lh(N,e,n,N,t,i))}):AU(t)&&t.forEach(function(N,j){u.set(j,Lh(N,e,n,j,t,i))});var b=Ib,y=f?void 0:b(t);return nI(y||t,function(N,j){y&&(j=N,N=t[j]),mE(u,j,Lh(N,e,n,j,t,i))}),u}var rB=1,sB=4;function xc(t){return Lh(t,rB|sB)}var aB="__lodash_hash_undefined__";function lB(t){return this.__data__.set(t,aB),this}function oB(t){return this.__data__.has(t)}function rm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bi;++e<n;)this.add(t[e])}rm.prototype.add=rm.prototype.push=lB;rm.prototype.has=oB;function iB(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function cB(t,e){return t.has(e)}var uB=1,dB=2;function OE(t,e,n,s,l,i){var u=n&uB,d=t.length,f=e.length;if(d!=f&&!(u&&f>d))return!1;var m=i.get(t),g=i.get(e);if(m&&g)return m==e&&g==t;var x=-1,b=!0,y=n&dB?new rm:void 0;for(i.set(t,e),i.set(e,t);++x<d;){var N=t[x],j=e[x];if(s)var S=u?s(j,N,x,e,t,i):s(N,j,x,t,e,i);if(S!==void 0){if(S)continue;b=!1;break}if(y){if(!iB(e,function(C,T){if(!cB(y,T)&&(N===C||l(N,C,n,s,i)))return y.push(T)})){b=!1;break}}else if(!(N===j||l(N,j,n,s,i))){b=!1;break}}return i.delete(t),i.delete(e),b}function fB(t){var e=-1,n=Array(t.size);return t.forEach(function(s,l){n[++e]=[l,s]}),n}function hB(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var mB=1,pB=2,gB="[object Boolean]",xB="[object Date]",bB="[object Error]",vB="[object Map]",yB="[object Number]",wB="[object RegExp]",NB="[object Set]",jB="[object String]",SB="[object Symbol]",CB="[object ArrayBuffer]",EB="[object DataView]",f2=wo?wo.prototype:void 0,_x=f2?f2.valueOf:void 0;function kB(t,e,n,s,l,i,u){switch(n){case EB:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case CB:return!(t.byteLength!=e.byteLength||!i(new nm(t),new nm(e)));case gB:case xB:case yB:return zd(+t,+e);case bB:return t.name==e.name&&t.message==e.message;case wB:case jB:return t==e+"";case vB:var d=fB;case NB:var f=s&mB;if(d||(d=hB),t.size!=e.size&&!f)return!1;var m=u.get(t);if(m)return m==e;s|=pB,u.set(t,e);var g=OE(d(t),d(e),s,l,i,u);return u.delete(t),g;case SB:if(_x)return _x.call(t)==_x.call(e)}return!1}var TB=1,AB=Object.prototype,RB=AB.hasOwnProperty;function OB(t,e,n,s,l,i){var u=n&TB,d=Ib(t),f=d.length,m=Ib(e),g=m.length;if(f!=g&&!u)return!1;for(var x=f;x--;){var b=d[x];if(!(u?b in e:RB.call(e,b)))return!1}var y=i.get(t),N=i.get(e);if(y&&N)return y==e&&N==t;var j=!0;i.set(t,e),i.set(e,t);for(var S=u;++x<f;){b=d[x];var C=t[b],T=e[b];if(s)var k=u?s(T,C,b,e,t,i):s(C,T,b,t,e,i);if(!(k===void 0?C===T||l(C,T,n,s,i):k)){j=!1;break}S||(S=b=="constructor")}if(j&&!S){var _=t.constructor,E=e.constructor;_!=E&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof E=="function"&&E instanceof E)&&(j=!1)}return i.delete(t),i.delete(e),j}var MB=1,h2="[object Arguments]",m2="[object Array]",uh="[object Object]",LB=Object.prototype,p2=LB.hasOwnProperty;function _B(t,e,n,s,l,i){var u=ai(t),d=ai(e),f=u?m2:ta(t),m=d?m2:ta(e);f=f==h2?uh:f,m=m==h2?uh:m;var g=f==uh,x=m==uh,b=f==m;if(b&&gd(t)){if(!gd(e))return!1;u=!0,g=!1}if(b&&!g)return i||(i=new Da),u||v0(t)?OE(t,e,n,s,l,i):kB(t,e,f,n,s,l,i);if(!(n&MB)){var y=g&&p2.call(t,"__wrapped__"),N=x&&p2.call(e,"__wrapped__");if(y||N){var j=y?t.value():t,S=N?e.value():e;return i||(i=new Da),l(j,S,n,s,i)}}return b?(i||(i=new Da),OB(t,e,n,s,l,i)):!1}function ME(t,e,n,s,l){return t===e?!0:t==null||e==null||!yl(t)&&!yl(e)?t!==t&&e!==e:_B(t,e,n,s,ME,l)}function DB(t){return function(e,n,s){for(var l=-1,i=Object(e),u=s(e),d=u.length;d--;){var f=u[++l];if(n(i[f],f,i)===!1)break}return e}}var PB=DB();function qb(t,e,n){(n!==void 0&&!zd(t[e],n)||n===void 0&&!(e in t))&&g0(t,e,n)}function $B(t){return yl(t)&&Hm(t)}function Fb(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function IB(t){return oI(t,wE(t))}function zB(t,e,n,s,l,i,u){var d=Fb(t,n),f=Fb(e,n),m=u.get(f);if(m){qb(t,n,m);return}var g=i?i(d,f,n+"",t,e,u):void 0,x=g===void 0;if(x){var b=ai(f),y=!b&&gd(f),N=!b&&!y&&v0(f);g=f,b||y||N?ai(d)?g=d:$B(d)?g=W$(d):y?(x=!1,g=CE(f,!0)):N?(x=!1,g=EE(f,!0)):g=[]:_z(f)||$b(f)?(g=d,$b(d)?g=IB(d):(!jo(d)||p0(d))&&(g=kE(f))):x=!1}x&&(u.set(f,g),l(g,f,s,i,u),u.delete(f)),qb(t,n,g)}function LE(t,e,n,s,l){t!==e&&PB(e,function(i,u){if(l||(l=new Da),jo(i))zB(t,e,u,n,LE,s,l);else{var d=s?s(Fb(t,u),i,u+"",t,e,l):void 0;d===void 0&&(d=i),qb(t,u,d)}},wE)}function w0(t,e){return ME(t,e)}var go=fI(function(t,e,n){LE(t,e,n)}),et=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(et||{});class za{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const l=et.TYPE&et.ATTRIBUTE;this.scope=s.scope!=null?s.scope&et.LEVEL|l:et.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class bc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const _E=class Hb{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const l=this.query(n);if(l==null)throw new bc(`Unable to create ${n} blot`);const i=l,u=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(s),d=new i(e,u,s);return Hb.blots.set(d.domNode,d),d}find(e,n=!1){return Hb.find(e,n)}query(e,n=et.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&et.LEVEL&et.BLOCK?s=this.types.block:e&et.LEVEL&et.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(l=>(s=this.classes[l],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&et.LEVEL&s.scope&&n&et.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,l="attrName"in n;if(!s&&!l)throw new bc("Invalid definition");if(s&&n.blotName==="abstract")throw new bc("Cannot register abstract class");const i=s?n.blotName:l?n.attrName:void 0;return this.types[i]=n,l?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(u=>u.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(u=>{(this.tags[u]==null||n.className==null)&&(this.tags[u]=n)}))),n})}};_E.blots=new WeakMap;let Rc=_E;function g2(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class UB extends za{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){g2(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(g2(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const ha=UB;function Dx(t){const e=t.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}class BB extends za{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Dx(this.keyName)]=n,!0):!1}remove(e){e.style[Dx(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Dx(this.keyName)];return this.canAdd(e,n)?n:""}}const So=BB;class qB{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Rc.find(this.domNode);if(e==null)return;const n=za.keys(this.domNode),s=ha.keys(this.domNode),l=So.keys(this.domNode);n.concat(s).concat(l).forEach(i=>{const u=e.scroll.query(i,et.ATTRIBUTE);u instanceof za&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);e.format(n,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Ym=qB,DE=class{constructor(e,n){this.scroll=e,this.domNode=n,Rc.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new bc("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Rc.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,s,l){const i=this.isolate(e,n);if(this.scroll.query(s,et.BLOT)!=null&&l)i.wrap(s,l);else if(this.scroll.query(s,et.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);i.wrap(u),u.format(s,l)}}insertAt(e,n,s){const l=s==null?this.scroll.create("text",n):this.scroll.create(n,s),i=this.split(e);this.parent.insertBefore(l,i||void 0)}isolate(e,n){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new bc(`Cannot wrap ${e}`);return s.appendChild(this),s}};DE.blotName="abstract";let PE=DE;const $E=class extends PE{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};$E.scope=et.INLINE_BLOT;let FB=$E;const Or=FB;class HB{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),l=0;for(;s;){if(s===e)return l;l+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let l=s();for(;l;){const i=l.length();if(e<i||n&&e===i&&(l.next==null||l.next.length()!==0))return[l,e];e-=i,l=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[l,i]=this.find(e);let u=e-i;const d=this.iterator(l);let f=d();for(;f&&u<e+n;){const m=f.length();e>u?s(f,e-u,Math.min(n,u+m-e)):s(f,0,Math.min(m,e+n-u)),u+=m,f=d()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let l=s();for(;l;)n=e(n,l),l=s();return n}}function x2(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const s=e.create(et.INLINE);return Array.from(t.childNodes).forEach(l=>{s.domNode.appendChild(l)}),t.parentNode&&t.parentNode.replaceChild(s.domNode,t),s.attach(),s}}const IE=class io extends PE{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,io.uiClass&&this.uiNode.classList.add(io.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new HB,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=x2(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof bc)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,l,i)=>{s.deleteAt(l,i)})}descendant(e,n=0){const[s,l]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,l]:s instanceof io?s.descendant(e,l):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let l=[],i=s;return this.children.forEachAt(n,s,(u,d,f)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&l.push(u),u instanceof io&&(l=l.concat(u.descendants(e,d,i))),i-=f}),l}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===et.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof io?n.unwrap():n.remove())})}formatAt(e,n,s,l){this.children.forEachAt(e,n,(i,u,d)=>{i.formatAt(u,d,s,l)})}insertAt(e,n,s){const[l,i]=this.children.find(e);if(l)l.insertAt(i,n,s);else{const u=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(u)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,l]=this.children.find(e,n),i=[[this,e]];return s instanceof io?i.concat(s.path(l,n)):(s!=null&&i.push([s,l]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof io&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(l,i,u)=>{const d=l.split(i,n);d!=null&&s.appendChild(d)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],l=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(s.push(...i.addedNodes),l.push(...i.removedNodes))}),l.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(i);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),s.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,u)=>i===u?0:i.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let u=null;i.nextSibling!=null&&(u=this.scroll.find(i.nextSibling));const d=x2(i,this.scroll);(d.next!==u||d.next==null)&&(d.parent!=null&&d.parent.removeChild(this),this.insertBefore(d,u||void 0))}),this.enforceAllowedChildren()}};IE.uiClass="";let VB=IE;const sa=VB;function GB(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const ic=class cc extends sa{static create(e){return super.create(e)}static formats(e,n){const s=n.query(cc.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ym(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof cc||(s=s.wrap(cc.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,et.INLINE);if(s==null)return;s instanceof za?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,l){this.formats()[s]!=null||this.scroll.query(s,et.ATTRIBUTE)?this.isolate(e,n).format(s,l):super.formatAt(e,n,s,l)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof cc&&s.prev===this&&GB(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof cc&&this.attributes.move(s),s}};ic.allowedChildren=[ic,Or],ic.blotName="inline",ic.scope=et.INLINE_BLOT,ic.tagName="SPAN";let YB=ic;const N0=YB,uc=class Vb extends sa{static create(e){return super.create(e)}static formats(e,n){const s=n.query(Vb.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ym(this.domNode)}format(e,n){const s=this.scroll.query(e,et.BLOCK);s!=null&&(s instanceof za?this.attributes.attribute(s,n):e===this.statics.blotName&&!n?this.replaceWith(Vb.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,l){this.scroll.query(s,et.BLOCK)!=null?this.format(s,l):super.formatAt(e,n,s,l)}insertAt(e,n,s){if(s==null||this.scroll.query(n,et.INLINE)!=null)super.insertAt(e,n,s);else{const l=this.split(e);if(l!=null){const i=this.scroll.create(n,s);l.parent.insertBefore(i,l)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};uc.blotName="block",uc.scope=et.BLOCK_BLOT,uc.tagName="P",uc.allowedChildren=[N0,uc,Or];let WB=uc;const vd=WB,Gb=class extends sa{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,s,l){super.formatAt(e,n,s,l),this.enforceAllowedChildren()}insertAt(e,n,s){super.insertAt(e,n,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Gb.blotName="container",Gb.scope=et.BLOCK_BLOT;let KB=Gb;const Wm=KB;class XB extends Or{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,s,l){e===0&&n===this.length()?this.format(s,l):super.formatAt(e,n,s,l)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Cs=XB,ZB={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},QB=100,dc=class extends sa{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,ZB),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const s=this.registry.find(e,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,n=et.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,n)}formatAt(e,n,s,l){this.update(),super.formatAt(e,n,s,l)}insertAt(e,n,s){this.update(),super.insertAt(e,n,s)}optimize(e=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let l=Array.from(this.observer.takeRecords());for(;l.length>0;)e.push(l.pop());const i=(f,m=!0)=>{f==null||f===this||f.domNode.parentNode!=null&&(s.has(f.domNode)||s.set(f.domNode,[]),m&&i(f.parent))},u=f=>{s.has(f.domNode)&&(f instanceof sa&&f.children.forEach(u),s.delete(f.domNode),f.optimize(n))};let d=e;for(let f=0;d.length>0;f+=1){if(f>=QB)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(m=>{const g=this.find(m.target,!0);g!=null&&(g.domNode===m.target&&(m.type==="childList"?(i(this.find(m.previousSibling,!1)),Array.from(m.addedNodes).forEach(x=>{const b=this.find(x,!1);i(b,!1),b instanceof sa&&b.children.forEach(y=>{i(y,!1)})})):m.type==="attributes"&&i(g.prev)),i(g))}),this.children.forEach(u),d=Array.from(this.observer.takeRecords()),l=d.slice();l.length>0;)e.push(l.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(l=>{const i=this.find(l.target,!0);return i==null?null:s.has(i.domNode)?(s.get(i.domNode).push(l),null):(s.set(i.domNode,[l]),i)}).forEach(l=>{l!=null&&l!==this&&s.has(l.domNode)&&l.update(s.get(l.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(e,n)}};dc.blotName="scroll",dc.defaultChild=vd,dc.allowedChildren=[vd,Wm],dc.scope=et.BLOCK_BLOT,dc.tagName="DIV";let JB=dc;const j0=JB,Yb=class zE extends Or{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof zE&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Yb.blotName="text",Yb.scope=et.INLINE_BLOT;let eq=Yb;const sm=eq,tq=Object.freeze(Object.defineProperty({__proto__:null,Attributor:za,AttributorStore:Ym,BlockBlot:vd,ClassAttributor:ha,ContainerBlot:Wm,EmbedBlot:Cs,InlineBlot:N0,LeafBlot:Or,ParentBlot:sa,Registry:Rc,Scope:et,ScrollBlot:j0,StyleAttributor:So,TextBlot:sm},Symbol.toStringTag,{value:"Module"}));var dh={exports:{}},Px,b2;function nq(){if(b2)return Px;b2=1;var t=-1,e=1,n=0;function s(P,U,I,z,G){if(P===U)return P?[[n,P]]:[];if(I!=null){var $=M(P,U,I);if($)return $}var W=d(P,U),Y=P.substring(0,W);P=P.substring(W),U=U.substring(W),W=m(P,U);var Z=P.substring(P.length-W);P=P.substring(0,P.length-W),U=U.substring(0,U.length-W);var V=l(P,U);return Y&&V.unshift([n,Y]),Z&&V.push([n,Z]),T(V,G),z&&x(V),V}function l(P,U){var I;if(!P)return[[e,U]];if(!U)return[[t,P]];var z=P.length>U.length?P:U,G=P.length>U.length?U:P,$=z.indexOf(G);if($!==-1)return I=[[e,z.substring(0,$)],[n,G],[e,z.substring($+G.length)]],P.length>U.length&&(I[0][0]=I[2][0]=t),I;if(G.length===1)return[[t,P],[e,U]];var W=g(P,U);if(W){var Y=W[0],Z=W[1],V=W[2],q=W[3],K=W[4],te=s(Y,V),se=s(Z,q);return te.concat([[n,K]],se)}return i(P,U)}function i(P,U){for(var I=P.length,z=U.length,G=Math.ceil((I+z)/2),$=G,W=2*G,Y=new Array(W),Z=new Array(W),V=0;V<W;V++)Y[V]=-1,Z[V]=-1;Y[$+1]=0,Z[$+1]=0;for(var q=I-z,K=q%2!==0,te=0,se=0,ue=0,xe=0,ae=0;ae<G;ae++){for(var ge=-ae+te;ge<=ae-se;ge+=2){var X=$+ge,ne;ge===-ae||ge!==ae&&Y[X-1]<Y[X+1]?ne=Y[X+1]:ne=Y[X-1]+1;for(var ce=ne-ge;ne<I&&ce<z&&P.charAt(ne)===U.charAt(ce);)ne++,ce++;if(Y[X]=ne,ne>I)se+=2;else if(ce>z)te+=2;else if(K){var oe=$+q-ge;if(oe>=0&&oe<W&&Z[oe]!==-1){var we=I-Z[oe];if(ne>=we)return u(P,U,ne,ce)}}}for(var ke=-ae+ue;ke<=ae-xe;ke+=2){var oe=$+ke,we;ke===-ae||ke!==ae&&Z[oe-1]<Z[oe+1]?we=Z[oe+1]:we=Z[oe-1]+1;for(var je=we-ke;we<I&&je<z&&P.charAt(I-we-1)===U.charAt(z-je-1);)we++,je++;if(Z[oe]=we,we>I)xe+=2;else if(je>z)ue+=2;else if(!K){var X=$+q-ke;if(X>=0&&X<W&&Y[X]!==-1){var ne=Y[X],ce=$+ne-X;if(we=I-we,ne>=we)return u(P,U,ne,ce)}}}}return[[t,P],[e,U]]}function u(P,U,I,z){var G=P.substring(0,I),$=U.substring(0,z),W=P.substring(I),Y=U.substring(z),Z=s(G,$),V=s(W,Y);return Z.concat(V)}function d(P,U){if(!P||!U||P.charAt(0)!==U.charAt(0))return 0;for(var I=0,z=Math.min(P.length,U.length),G=z,$=0;I<G;)P.substring($,G)==U.substring($,G)?(I=G,$=I):z=G,G=Math.floor((z-I)/2+I);return k(P.charCodeAt(G-1))&&G--,G}function f(P,U){var I=P.length,z=U.length;if(I==0||z==0)return 0;I>z?P=P.substring(I-z):I<z&&(U=U.substring(0,I));var G=Math.min(I,z);if(P==U)return G;for(var $=0,W=1;;){var Y=P.substring(G-W),Z=U.indexOf(Y);if(Z==-1)return $;W+=Z,(Z==0||P.substring(G-W)==U.substring(0,W))&&($=W,W++)}}function m(P,U){if(!P||!U||P.slice(-1)!==U.slice(-1))return 0;for(var I=0,z=Math.min(P.length,U.length),G=z,$=0;I<G;)P.substring(P.length-G,P.length-$)==U.substring(U.length-G,U.length-$)?(I=G,$=I):z=G,G=Math.floor((z-I)/2+I);return _(P.charCodeAt(P.length-G))&&G--,G}function g(P,U){var I=P.length>U.length?P:U,z=P.length>U.length?U:P;if(I.length<4||z.length*2<I.length)return null;function G(se,ue,xe){for(var ae=se.substring(xe,xe+Math.floor(se.length/4)),ge=-1,X="",ne,ce,oe,we;(ge=ue.indexOf(ae,ge+1))!==-1;){var ke=d(se.substring(xe),ue.substring(ge)),je=m(se.substring(0,xe),ue.substring(0,ge));X.length<je+ke&&(X=ue.substring(ge-je,ge)+ue.substring(ge,ge+ke),ne=se.substring(0,xe-je),ce=se.substring(xe+ke),oe=ue.substring(0,ge-je),we=ue.substring(ge+ke))}return X.length*2>=se.length?[ne,ce,oe,we,X]:null}var $=G(I,z,Math.ceil(I.length/4)),W=G(I,z,Math.ceil(I.length/2)),Y;if(!$&&!W)return null;W?$?Y=$[4].length>W[4].length?$:W:Y=W:Y=$;var Z,V,q,K;P.length>U.length?(Z=Y[0],V=Y[1],q=Y[2],K=Y[3]):(q=Y[0],K=Y[1],Z=Y[2],V=Y[3]);var te=Y[4];return[Z,V,q,K,te]}function x(P){for(var U=!1,I=[],z=0,G=null,$=0,W=0,Y=0,Z=0,V=0;$<P.length;)P[$][0]==n?(I[z++]=$,W=Z,Y=V,Z=0,V=0,G=P[$][1]):(P[$][0]==e?Z+=P[$][1].length:V+=P[$][1].length,G&&G.length<=Math.max(W,Y)&&G.length<=Math.max(Z,V)&&(P.splice(I[z-1],0,[t,G]),P[I[z-1]+1][0]=e,z--,z--,$=z>0?I[z-1]:-1,W=0,Y=0,Z=0,V=0,G=null,U=!0)),$++;for(U&&T(P),C(P),$=1;$<P.length;){if(P[$-1][0]==t&&P[$][0]==e){var q=P[$-1][1],K=P[$][1],te=f(q,K),se=f(K,q);te>=se?(te>=q.length/2||te>=K.length/2)&&(P.splice($,0,[n,K.substring(0,te)]),P[$-1][1]=q.substring(0,q.length-te),P[$+1][1]=K.substring(te),$++):(se>=q.length/2||se>=K.length/2)&&(P.splice($,0,[n,q.substring(0,se)]),P[$-1][0]=e,P[$-1][1]=K.substring(0,K.length-se),P[$+1][0]=t,P[$+1][1]=q.substring(se),$++),$++}$++}}var b=/[^a-zA-Z0-9]/,y=/\s/,N=/[\r\n]/,j=/\n\r?\n$/,S=/^\r?\n\r?\n/;function C(P){function U(se,ue){if(!se||!ue)return 6;var xe=se.charAt(se.length-1),ae=ue.charAt(0),ge=xe.match(b),X=ae.match(b),ne=ge&&xe.match(y),ce=X&&ae.match(y),oe=ne&&xe.match(N),we=ce&&ae.match(N),ke=oe&&se.match(j),je=we&&ue.match(S);return ke||je?5:oe||we?4:ge&&!ne&&ce?3:ne||ce?2:ge||X?1:0}for(var I=1;I<P.length-1;){if(P[I-1][0]==n&&P[I+1][0]==n){var z=P[I-1][1],G=P[I][1],$=P[I+1][1],W=m(z,G);if(W){var Y=G.substring(G.length-W);z=z.substring(0,z.length-W),G=Y+G.substring(0,G.length-W),$=Y+$}for(var Z=z,V=G,q=$,K=U(z,G)+U(G,$);G.charAt(0)===$.charAt(0);){z+=G.charAt(0),G=G.substring(1)+$.charAt(0),$=$.substring(1);var te=U(z,G)+U(G,$);te>=K&&(K=te,Z=z,V=G,q=$)}P[I-1][1]!=Z&&(Z?P[I-1][1]=Z:(P.splice(I-1,1),I--),P[I][1]=V,q?P[I+1][1]=q:(P.splice(I+1,1),I--))}I++}}function T(P,U){P.push([n,""]);for(var I=0,z=0,G=0,$="",W="",Y;I<P.length;){if(I<P.length-1&&!P[I][1]){P.splice(I,1);continue}switch(P[I][0]){case e:G++,W+=P[I][1],I++;break;case t:z++,$+=P[I][1],I++;break;case n:var Z=I-G-z-1;if(U){if(Z>=0&&L(P[Z][1])){var V=P[Z][1].slice(-1);if(P[Z][1]=P[Z][1].slice(0,-1),$=V+$,W=V+W,!P[Z][1]){P.splice(Z,1),I--;var q=Z-1;P[q]&&P[q][0]===e&&(G++,W=P[q][1]+W,q--),P[q]&&P[q][0]===t&&(z++,$=P[q][1]+$,q--),Z=q}}if(E(P[I][1])){var V=P[I][1].charAt(0);P[I][1]=P[I][1].slice(1),$+=V,W+=V}}if(I<P.length-1&&!P[I][1]){P.splice(I,1);break}if($.length>0||W.length>0){$.length>0&&W.length>0&&(Y=d(W,$),Y!==0&&(Z>=0?P[Z][1]+=W.substring(0,Y):(P.splice(0,0,[n,W.substring(0,Y)]),I++),W=W.substring(Y),$=$.substring(Y)),Y=m(W,$),Y!==0&&(P[I][1]=W.substring(W.length-Y)+P[I][1],W=W.substring(0,W.length-Y),$=$.substring(0,$.length-Y)));var K=G+z;$.length===0&&W.length===0?(P.splice(I-K,K),I=I-K):$.length===0?(P.splice(I-K,K,[e,W]),I=I-K+1):W.length===0?(P.splice(I-K,K,[t,$]),I=I-K+1):(P.splice(I-K,K,[t,$],[e,W]),I=I-K+2)}I!==0&&P[I-1][0]===n?(P[I-1][1]+=P[I][1],P.splice(I,1)):I++,G=0,z=0,$="",W="";break}}P[P.length-1][1]===""&&P.pop();var te=!1;for(I=1;I<P.length-1;)P[I-1][0]===n&&P[I+1][0]===n&&(P[I][1].substring(P[I][1].length-P[I-1][1].length)===P[I-1][1]?(P[I][1]=P[I-1][1]+P[I][1].substring(0,P[I][1].length-P[I-1][1].length),P[I+1][1]=P[I-1][1]+P[I+1][1],P.splice(I-1,1),te=!0):P[I][1].substring(0,P[I+1][1].length)==P[I+1][1]&&(P[I-1][1]+=P[I+1][1],P[I][1]=P[I][1].substring(P[I+1][1].length)+P[I+1][1],P.splice(I+1,1),te=!0)),I++;te&&T(P,U)}function k(P){return P>=55296&&P<=56319}function _(P){return P>=56320&&P<=57343}function E(P){return _(P.charCodeAt(0))}function L(P){return k(P.charCodeAt(P.length-1))}function O(P){for(var U=[],I=0;I<P.length;I++)P[I][1].length>0&&U.push(P[I]);return U}function A(P,U,I,z){return L(P)||E(z)?null:O([[n,P],[t,U],[e,I],[n,z]])}function M(P,U,I){var z=typeof I=="number"?{index:I,length:0}:I.oldRange,G=typeof I=="number"?null:I.newRange,$=P.length,W=U.length;if(z.length===0&&(G===null||G.length===0)){var Y=z.index,Z=P.slice(0,Y),V=P.slice(Y),q=G?G.index:null;e:{var K=Y+W-$;if(q!==null&&q!==K||K<0||K>W)break e;var te=U.slice(0,K),se=U.slice(K);if(se!==V)break e;var ue=Math.min(Y,K),xe=Z.slice(0,ue),ae=te.slice(0,ue);if(xe!==ae)break e;var ge=Z.slice(ue),X=te.slice(ue);return A(xe,ge,X,V)}e:{if(q!==null&&q!==Y)break e;var ne=Y,te=U.slice(0,ne),se=U.slice(ne);if(te!==Z)break e;var ce=Math.min($-ne,W-ne),oe=V.slice(V.length-ce),we=se.slice(se.length-ce);if(oe!==we)break e;var ge=V.slice(0,V.length-ce),X=se.slice(0,se.length-ce);return A(Z,ge,X,oe)}}if(z.length>0&&G&&G.length===0)e:{var xe=P.slice(0,z.index),oe=P.slice(z.index+z.length),ue=xe.length,ce=oe.length;if(W<ue+ce)break e;var ae=U.slice(0,ue),we=U.slice(W-ce);if(xe!==ae||oe!==we)break e;var ge=P.slice(ue,$-ce),X=U.slice(ue,W-ce);return A(xe,ge,X,oe)}return null}function B(P,U,I,z){return s(P,U,I,z,!0)}return B.INSERT=e,B.DELETE=t,B.EQUAL=n,Px=B,Px}var Wu={exports:{}};Wu.exports;var v2;function UE(){return v2||(v2=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",l=9007199254740991,i="[object Arguments]",u="[object Array]",d="[object Boolean]",f="[object Date]",m="[object Error]",g="[object Function]",x="[object GeneratorFunction]",b="[object Map]",y="[object Number]",N="[object Object]",j="[object Promise]",S="[object RegExp]",C="[object Set]",T="[object String]",k="[object Symbol]",_="[object WeakMap]",E="[object ArrayBuffer]",L="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",M="[object Int8Array]",B="[object Int16Array]",P="[object Int32Array]",U="[object Uint8Array]",I="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,Y=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,V={};V[i]=V[u]=V[E]=V[L]=V[d]=V[f]=V[O]=V[A]=V[M]=V[B]=V[P]=V[b]=V[y]=V[N]=V[S]=V[C]=V[T]=V[k]=V[U]=V[I]=V[z]=V[G]=!0,V[m]=V[g]=V[_]=!1;var q=typeof fo=="object"&&fo&&fo.Object===Object&&fo,K=typeof self=="object"&&self&&self.Object===Object&&self,te=q||K||Function("return this")(),se=e&&!e.nodeType&&e,ue=se&&!0&&t&&!t.nodeType&&t,xe=ue&&ue.exports===se;function ae(R,H){return R.set(H[0],H[1]),R}function ge(R,H){return R.add(H),R}function X(R,H){for(var ee=-1,ve=R?R.length:0;++ee<ve&&H(R[ee],ee,R)!==!1;);return R}function ne(R,H){for(var ee=-1,ve=H.length,ot=R.length;++ee<ve;)R[ot+ee]=H[ee];return R}function ce(R,H,ee,ve){for(var ot=-1,Xe=R?R.length:0;++ot<Xe;)ee=H(ee,R[ot],ot,R);return ee}function oe(R,H){for(var ee=-1,ve=Array(R);++ee<R;)ve[ee]=H(ee);return ve}function we(R,H){return R==null?void 0:R[H]}function ke(R){var H=!1;if(R!=null&&typeof R.toString!="function")try{H=!!(R+"")}catch{}return H}function je(R){var H=-1,ee=Array(R.size);return R.forEach(function(ve,ot){ee[++H]=[ot,ve]}),ee}function Ae(R,H){return function(ee){return R(H(ee))}}function de(R){var H=-1,ee=Array(R.size);return R.forEach(function(ve){ee[++H]=ve}),ee}var Re=Array.prototype,De=Function.prototype,rt=Object.prototype,ut=te["__core-js_shared__"],yt=(function(){var R=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""})(),Ct=De.toString,at=rt.hasOwnProperty,ze=rt.toString,mt=RegExp("^"+Ct.call(at).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=xe?te.Buffer:void 0,Vt=te.Symbol,ur=te.Uint8Array,zt=Ae(Object.getPrototypeOf,Object),gr=Object.create,Tn=rt.propertyIsEnumerable,Vn=Re.splice,pn=Object.getOwnPropertySymbols,me=pt?pt.isBuffer:void 0,Ue=Ae(Object.keys,Object),Et=Kr(te,"DataView"),Gt=Kr(te,"Map"),Yt=Kr(te,"Promise"),on=Kr(te,"Set"),en=Kr(te,"WeakMap"),qt=Kr(Object,"create"),bn=tr(Et),Ut=tr(Gt),cn=tr(Yt),dr=tr(on),In=tr(en),Hr=Vt?Vt.prototype:void 0,J=Hr?Hr.valueOf:void 0;function le(R){var H=-1,ee=R?R.length:0;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function be(){this.__data__=qt?qt(null):{}}function Te(R){return this.has(R)&&delete this.__data__[R]}function Me(R){var H=this.__data__;if(qt){var ee=H[R];return ee===s?void 0:ee}return at.call(H,R)?H[R]:void 0}function Be(R){var H=this.__data__;return qt?H[R]!==void 0:at.call(H,R)}function qe(R,H){var ee=this.__data__;return ee[R]=qt&&H===void 0?s:H,this}le.prototype.clear=be,le.prototype.delete=Te,le.prototype.get=Me,le.prototype.has=Be,le.prototype.set=qe;function _e(R){var H=-1,ee=R?R.length:0;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function We(){this.__data__=[]}function Ke(R){var H=this.__data__,ee=ft(H,R);if(ee<0)return!1;var ve=H.length-1;return ee==ve?H.pop():Vn.call(H,ee,1),!0}function Ie(R){var H=this.__data__,ee=ft(H,R);return ee<0?void 0:H[ee][1]}function $e(R){return ft(this.__data__,R)>-1}function st(R,H){var ee=this.__data__,ve=ft(ee,R);return ve<0?ee.push([R,H]):ee[ve][1]=H,this}_e.prototype.clear=We,_e.prototype.delete=Ke,_e.prototype.get=Ie,_e.prototype.has=$e,_e.prototype.set=st;function dt(R){var H=-1,ee=R?R.length:0;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function Cn(){this.__data__={hash:new le,map:new(Gt||_e),string:new le}}function zn(R){return xa(this,R).delete(R)}function tn(R){return xa(this,R).get(R)}function Lt(R){return xa(this,R).has(R)}function _r(R,H){return xa(this,R).set(R,H),this}dt.prototype.clear=Cn,dt.prototype.delete=zn,dt.prototype.get=tn,dt.prototype.has=Lt,dt.prototype.set=_r;function gn(R){this.__data__=new _e(R)}function Jn(){this.__data__=new _e}function Gn(R){return this.__data__.delete(R)}function Vr(R){return this.__data__.get(R)}function un(R){return this.__data__.has(R)}function Gr(R,H){var ee=this.__data__;if(ee instanceof _e){var ve=ee.__data__;if(!Gt||ve.length<n-1)return ve.push([R,H]),this;ee=this.__data__=new dt(ve)}return ee.set(R,H),this}gn.prototype.clear=Jn,gn.prototype.delete=Gn,gn.prototype.get=Vr,gn.prototype.has=un,gn.prototype.set=Gr;function Yr(R,H){var ee=Dl(R)||ls(R)?oe(R.length,String):[],ve=ee.length,ot=!!ve;for(var Xe in R)at.call(R,Xe)&&!(ot&&(Xe=="length"||Gc(Xe,ve)))&&ee.push(Xe);return ee}function xr(R,H,ee){var ve=R[H];(!(at.call(R,H)&&Ws(ve,ee))||ee===void 0&&!(H in R))&&(R[H]=ee)}function ft(R,H){for(var ee=R.length;ee--;)if(Ws(R[ee][0],H))return ee;return-1}function rn(R,H){return R&&Ml(H,Ga(H),R)}function Dr(R,H,ee,ve,ot,Xe,kt){var _t;if(ve&&(_t=Xe?ve(R,ot,Xe,kt):ve(R)),_t!==void 0)return _t;if(!Tr(R))return R;var En=Dl(R);if(En){if(_t=Ni(R),!H)return Ro(R,_t)}else{var It=Ys(R),Ln=It==g||It==x;if(va(R))return er(R,H);if(It==N||It==i||Ln&&!Xe){if(ke(R))return Xe?R:{};if(_t=as(Ln?{}:R),!H)return Oo(R,rn(_t,R))}else{if(!V[It])return Xe?R:{};_t=Mo(R,It,Dr,H)}}kt||(kt=new gn);var nr=kt.get(R);if(nr)return nr;if(kt.set(R,_t),!En)var _n=ee?ga(R):Ga(R);return X(_n||R,function(fr,rr){_n&&(rr=fr,fr=R[rr]),xr(_t,rr,Dr(fr,H,ee,ve,rr,R,kt))}),_t}function Wr(R){return Tr(R)?gr(R):{}}function wn(R,H,ee){var ve=H(R);return Dl(R)?ve:ne(ve,ee(R))}function ss(R){return ze.call(R)}function Gs(R){if(!Tr(R)||Ll(R))return!1;var H=$r(R)||ke(R)?mt:Y;return H.test(tr(R))}function Pr(R){if(!Xr(R))return Ue(R);var H=[];for(var ee in Object(R))at.call(R,ee)&&ee!="constructor"&&H.push(ee);return H}function er(R,H){if(H)return R.slice();var ee=new R.constructor(R.length);return R.copy(ee),ee}function Al(R){var H=new R.constructor(R.byteLength);return new ur(H).set(new ur(R)),H}function Va(R,H){var ee=H?Al(R.buffer):R.buffer;return new R.constructor(ee,R.byteOffset,R.byteLength)}function Rl(R,H,ee){var ve=H?ee(je(R),!0):je(R);return ce(ve,ae,new R.constructor)}function Ao(R){var H=new R.constructor(R.source,W.exec(R));return H.lastIndex=R.lastIndex,H}function Ol(R,H,ee){var ve=H?ee(de(R),!0):de(R);return ce(ve,ge,new R.constructor)}function Vc(R){return J?Object(J.call(R)):{}}function Er(R,H){var ee=H?Al(R.buffer):R.buffer;return new R.constructor(ee,R.byteOffset,R.length)}function Ro(R,H){var ee=-1,ve=R.length;for(H||(H=Array(ve));++ee<ve;)H[ee]=R[ee];return H}function Ml(R,H,ee,ve){ee||(ee={});for(var ot=-1,Xe=H.length;++ot<Xe;){var kt=H[ot],_t=void 0;xr(ee,kt,_t===void 0?R[kt]:_t)}return ee}function Oo(R,H){return Ml(R,kr(R),H)}function ga(R){return wn(R,Ga,kr)}function xa(R,H){var ee=R.__data__;return Yc(H)?ee[typeof H=="string"?"string":"hash"]:ee.map}function Kr(R,H){var ee=we(R,H);return Gs(ee)?ee:void 0}var kr=pn?Ae(pn,Object):$l,Ys=ss;(Et&&Ys(new Et(new ArrayBuffer(1)))!=L||Gt&&Ys(new Gt)!=b||Yt&&Ys(Yt.resolve())!=j||on&&Ys(new on)!=C||en&&Ys(new en)!=_)&&(Ys=function(R){var H=ze.call(R),ee=H==N?R.constructor:void 0,ve=ee?tr(ee):void 0;if(ve)switch(ve){case bn:return L;case Ut:return b;case cn:return j;case dr:return C;case In:return _}return H});function Ni(R){var H=R.length,ee=R.constructor(H);return H&&typeof R[0]=="string"&&at.call(R,"index")&&(ee.index=R.index,ee.input=R.input),ee}function as(R){return typeof R.constructor=="function"&&!Xr(R)?Wr(zt(R)):{}}function Mo(R,H,ee,ve){var ot=R.constructor;switch(H){case E:return Al(R);case d:case f:return new ot(+R);case L:return Va(R,ve);case O:case A:case M:case B:case P:case U:case I:case z:case G:return Er(R,ve);case b:return Rl(R,ve,ee);case y:case T:return new ot(R);case S:return Ao(R);case C:return Ol(R,ve,ee);case k:return Vc(R)}}function Gc(R,H){return H=H??l,!!H&&(typeof R=="number"||Z.test(R))&&R>-1&&R%1==0&&R<H}function Yc(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function Ll(R){return!!yt&&yt in R}function Xr(R){var H=R&&R.constructor,ee=typeof H=="function"&&H.prototype||rt;return R===ee}function tr(R){if(R!=null){try{return Ct.call(R)}catch{}try{return R+""}catch{}}return""}function _l(R){return Dr(R,!0,!0)}function Ws(R,H){return R===H||R!==R&&H!==H}function ls(R){return ji(R)&&at.call(R,"callee")&&(!Tn.call(R,"callee")||ze.call(R)==i)}var Dl=Array.isArray;function ba(R){return R!=null&&Pl(R.length)&&!$r(R)}function ji(R){return os(R)&&ba(R)}var va=me||Si;function $r(R){var H=Tr(R)?ze.call(R):"";return H==g||H==x}function Pl(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=l}function Tr(R){var H=typeof R;return!!R&&(H=="object"||H=="function")}function os(R){return!!R&&typeof R=="object"}function Ga(R){return ba(R)?Yr(R):Pr(R)}function $l(){return[]}function Si(){return!1}t.exports=_l})(Wu,Wu.exports)),Wu.exports}var Ku={exports:{}};Ku.exports;var y2;function BE(){return y2||(y2=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",l=1,i=2,u=9007199254740991,d="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",g="[object Boolean]",x="[object Date]",b="[object Error]",y="[object Function]",N="[object GeneratorFunction]",j="[object Map]",S="[object Number]",C="[object Null]",T="[object Object]",k="[object Promise]",_="[object Proxy]",E="[object RegExp]",L="[object Set]",O="[object String]",A="[object Symbol]",M="[object Undefined]",B="[object WeakMap]",P="[object ArrayBuffer]",U="[object DataView]",I="[object Float32Array]",z="[object Float64Array]",G="[object Int8Array]",$="[object Int16Array]",W="[object Int32Array]",Y="[object Uint8Array]",Z="[object Uint8ClampedArray]",V="[object Uint16Array]",q="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ue={};ue[I]=ue[z]=ue[G]=ue[$]=ue[W]=ue[Y]=ue[Z]=ue[V]=ue[q]=!0,ue[d]=ue[f]=ue[P]=ue[g]=ue[U]=ue[x]=ue[b]=ue[y]=ue[j]=ue[S]=ue[T]=ue[E]=ue[L]=ue[O]=ue[B]=!1;var xe=typeof fo=="object"&&fo&&fo.Object===Object&&fo,ae=typeof self=="object"&&self&&self.Object===Object&&self,ge=xe||ae||Function("return this")(),X=e&&!e.nodeType&&e,ne=X&&!0&&t&&!t.nodeType&&t,ce=ne&&ne.exports===X,oe=ce&&xe.process,we=(function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}})(),ke=we&&we.isTypedArray;function je(R,H){for(var ee=-1,ve=R==null?0:R.length,ot=0,Xe=[];++ee<ve;){var kt=R[ee];H(kt,ee,R)&&(Xe[ot++]=kt)}return Xe}function Ae(R,H){for(var ee=-1,ve=H.length,ot=R.length;++ee<ve;)R[ot+ee]=H[ee];return R}function de(R,H){for(var ee=-1,ve=R==null?0:R.length;++ee<ve;)if(H(R[ee],ee,R))return!0;return!1}function Re(R,H){for(var ee=-1,ve=Array(R);++ee<R;)ve[ee]=H(ee);return ve}function De(R){return function(H){return R(H)}}function rt(R,H){return R.has(H)}function ut(R,H){return R==null?void 0:R[H]}function yt(R){var H=-1,ee=Array(R.size);return R.forEach(function(ve,ot){ee[++H]=[ot,ve]}),ee}function Ct(R,H){return function(ee){return R(H(ee))}}function at(R){var H=-1,ee=Array(R.size);return R.forEach(function(ve){ee[++H]=ve}),ee}var ze=Array.prototype,mt=Function.prototype,pt=Object.prototype,Vt=ge["__core-js_shared__"],ur=mt.toString,zt=pt.hasOwnProperty,gr=(function(){var R=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""})(),Tn=pt.toString,Vn=RegExp("^"+ur.call(zt).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pn=ce?ge.Buffer:void 0,me=ge.Symbol,Ue=ge.Uint8Array,Et=pt.propertyIsEnumerable,Gt=ze.splice,Yt=me?me.toStringTag:void 0,on=Object.getOwnPropertySymbols,en=pn?pn.isBuffer:void 0,qt=Ct(Object.keys,Object),bn=kr(ge,"DataView"),Ut=kr(ge,"Map"),cn=kr(ge,"Promise"),dr=kr(ge,"Set"),In=kr(ge,"WeakMap"),Hr=kr(Object,"create"),J=tr(bn),le=tr(Ut),be=tr(cn),Te=tr(dr),Me=tr(In),Be=me?me.prototype:void 0,qe=Be?Be.valueOf:void 0;function _e(R){var H=-1,ee=R==null?0:R.length;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function We(){this.__data__=Hr?Hr(null):{},this.size=0}function Ke(R){var H=this.has(R)&&delete this.__data__[R];return this.size-=H?1:0,H}function Ie(R){var H=this.__data__;if(Hr){var ee=H[R];return ee===s?void 0:ee}return zt.call(H,R)?H[R]:void 0}function $e(R){var H=this.__data__;return Hr?H[R]!==void 0:zt.call(H,R)}function st(R,H){var ee=this.__data__;return this.size+=this.has(R)?0:1,ee[R]=Hr&&H===void 0?s:H,this}_e.prototype.clear=We,_e.prototype.delete=Ke,_e.prototype.get=Ie,_e.prototype.has=$e,_e.prototype.set=st;function dt(R){var H=-1,ee=R==null?0:R.length;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function Cn(){this.__data__=[],this.size=0}function zn(R){var H=this.__data__,ee=er(H,R);if(ee<0)return!1;var ve=H.length-1;return ee==ve?H.pop():Gt.call(H,ee,1),--this.size,!0}function tn(R){var H=this.__data__,ee=er(H,R);return ee<0?void 0:H[ee][1]}function Lt(R){return er(this.__data__,R)>-1}function _r(R,H){var ee=this.__data__,ve=er(ee,R);return ve<0?(++this.size,ee.push([R,H])):ee[ve][1]=H,this}dt.prototype.clear=Cn,dt.prototype.delete=zn,dt.prototype.get=tn,dt.prototype.has=Lt,dt.prototype.set=_r;function gn(R){var H=-1,ee=R==null?0:R.length;for(this.clear();++H<ee;){var ve=R[H];this.set(ve[0],ve[1])}}function Jn(){this.size=0,this.__data__={hash:new _e,map:new(Ut||dt),string:new _e}}function Gn(R){var H=Kr(this,R).delete(R);return this.size-=H?1:0,H}function Vr(R){return Kr(this,R).get(R)}function un(R){return Kr(this,R).has(R)}function Gr(R,H){var ee=Kr(this,R),ve=ee.size;return ee.set(R,H),this.size+=ee.size==ve?0:1,this}gn.prototype.clear=Jn,gn.prototype.delete=Gn,gn.prototype.get=Vr,gn.prototype.has=un,gn.prototype.set=Gr;function Yr(R){var H=-1,ee=R==null?0:R.length;for(this.__data__=new gn;++H<ee;)this.add(R[H])}function xr(R){return this.__data__.set(R,s),this}function ft(R){return this.__data__.has(R)}Yr.prototype.add=Yr.prototype.push=xr,Yr.prototype.has=ft;function rn(R){var H=this.__data__=new dt(R);this.size=H.size}function Dr(){this.__data__=new dt,this.size=0}function Wr(R){var H=this.__data__,ee=H.delete(R);return this.size=H.size,ee}function wn(R){return this.__data__.get(R)}function ss(R){return this.__data__.has(R)}function Gs(R,H){var ee=this.__data__;if(ee instanceof dt){var ve=ee.__data__;if(!Ut||ve.length<n-1)return ve.push([R,H]),this.size=++ee.size,this;ee=this.__data__=new gn(ve)}return ee.set(R,H),this.size=ee.size,this}rn.prototype.clear=Dr,rn.prototype.delete=Wr,rn.prototype.get=wn,rn.prototype.has=ss,rn.prototype.set=Gs;function Pr(R,H){var ee=ls(R),ve=!ee&&Ws(R),ot=!ee&&!ve&&ba(R),Xe=!ee&&!ve&&!ot&&os(R),kt=ee||ve||ot||Xe,_t=kt?Re(R.length,String):[],En=_t.length;for(var It in R)zt.call(R,It)&&!(kt&&(It=="length"||ot&&(It=="offset"||It=="parent")||Xe&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||Mo(It,En)))&&_t.push(It);return _t}function er(R,H){for(var ee=R.length;ee--;)if(_l(R[ee][0],H))return ee;return-1}function Al(R,H,ee){var ve=H(R);return ls(R)?ve:Ae(ve,ee(R))}function Va(R){return R==null?R===void 0?M:C:Yt&&Yt in Object(R)?Ys(R):Xr(R)}function Rl(R){return Tr(R)&&Va(R)==d}function Ao(R,H,ee,ve,ot){return R===H?!0:R==null||H==null||!Tr(R)&&!Tr(H)?R!==R&&H!==H:Ol(R,H,ee,ve,Ao,ot)}function Ol(R,H,ee,ve,ot,Xe){var kt=ls(R),_t=ls(H),En=kt?f:as(R),It=_t?f:as(H);En=En==d?T:En,It=It==d?T:It;var Ln=En==T,nr=It==T,_n=En==It;if(_n&&ba(R)){if(!ba(H))return!1;kt=!0,Ln=!1}if(_n&&!Ln)return Xe||(Xe=new rn),kt||os(R)?Ml(R,H,ee,ve,ot,Xe):Oo(R,H,En,ee,ve,ot,Xe);if(!(ee&l)){var fr=Ln&&zt.call(R,"__wrapped__"),rr=nr&&zt.call(H,"__wrapped__");if(fr||rr){var ya=fr?R.value():R,is=rr?H.value():H;return Xe||(Xe=new rn),ot(ya,is,ee,ve,Xe)}}return _n?(Xe||(Xe=new rn),ga(R,H,ee,ve,ot,Xe)):!1}function Vc(R){if(!Pl(R)||Yc(R))return!1;var H=va(R)?Vn:te;return H.test(tr(R))}function Er(R){return Tr(R)&&$r(R.length)&&!!ue[Va(R)]}function Ro(R){if(!Ll(R))return qt(R);var H=[];for(var ee in Object(R))zt.call(R,ee)&&ee!="constructor"&&H.push(ee);return H}function Ml(R,H,ee,ve,ot,Xe){var kt=ee&l,_t=R.length,En=H.length;if(_t!=En&&!(kt&&En>_t))return!1;var It=Xe.get(R);if(It&&Xe.get(H))return It==H;var Ln=-1,nr=!0,_n=ee&i?new Yr:void 0;for(Xe.set(R,H),Xe.set(H,R);++Ln<_t;){var fr=R[Ln],rr=H[Ln];if(ve)var ya=kt?ve(rr,fr,Ln,H,R,Xe):ve(fr,rr,Ln,R,H,Xe);if(ya!==void 0){if(ya)continue;nr=!1;break}if(_n){if(!de(H,function(is,Ya){if(!rt(_n,Ya)&&(fr===is||ot(fr,is,ee,ve,Xe)))return _n.push(Ya)})){nr=!1;break}}else if(!(fr===rr||ot(fr,rr,ee,ve,Xe))){nr=!1;break}}return Xe.delete(R),Xe.delete(H),nr}function Oo(R,H,ee,ve,ot,Xe,kt){switch(ee){case U:if(R.byteLength!=H.byteLength||R.byteOffset!=H.byteOffset)return!1;R=R.buffer,H=H.buffer;case P:return!(R.byteLength!=H.byteLength||!Xe(new Ue(R),new Ue(H)));case g:case x:case S:return _l(+R,+H);case b:return R.name==H.name&&R.message==H.message;case E:case O:return R==H+"";case j:var _t=yt;case L:var En=ve&l;if(_t||(_t=at),R.size!=H.size&&!En)return!1;var It=kt.get(R);if(It)return It==H;ve|=i,kt.set(R,H);var Ln=Ml(_t(R),_t(H),ve,ot,Xe,kt);return kt.delete(R),Ln;case A:if(qe)return qe.call(R)==qe.call(H)}return!1}function ga(R,H,ee,ve,ot,Xe){var kt=ee&l,_t=xa(R),En=_t.length,It=xa(H),Ln=It.length;if(En!=Ln&&!kt)return!1;for(var nr=En;nr--;){var _n=_t[nr];if(!(kt?_n in H:zt.call(H,_n)))return!1}var fr=Xe.get(R);if(fr&&Xe.get(H))return fr==H;var rr=!0;Xe.set(R,H),Xe.set(H,R);for(var ya=kt;++nr<En;){_n=_t[nr];var is=R[_n],Ya=H[_n];if(ve)var Wd=kt?ve(Ya,is,_n,H,R,Xe):ve(is,Ya,_n,R,H,Xe);if(!(Wd===void 0?is===Ya||ot(is,Ya,ee,ve,Xe):Wd)){rr=!1;break}ya||(ya=_n=="constructor")}if(rr&&!ya){var Ci=R.constructor,Ei=H.constructor;Ci!=Ei&&"constructor"in R&&"constructor"in H&&!(typeof Ci=="function"&&Ci instanceof Ci&&typeof Ei=="function"&&Ei instanceof Ei)&&(rr=!1)}return Xe.delete(R),Xe.delete(H),rr}function xa(R){return Al(R,Ga,Ni)}function Kr(R,H){var ee=R.__data__;return Gc(H)?ee[typeof H=="string"?"string":"hash"]:ee.map}function kr(R,H){var ee=ut(R,H);return Vc(ee)?ee:void 0}function Ys(R){var H=zt.call(R,Yt),ee=R[Yt];try{R[Yt]=void 0;var ve=!0}catch{}var ot=Tn.call(R);return ve&&(H?R[Yt]=ee:delete R[Yt]),ot}var Ni=on?function(R){return R==null?[]:(R=Object(R),je(on(R),function(H){return Et.call(R,H)}))}:$l,as=Va;(bn&&as(new bn(new ArrayBuffer(1)))!=U||Ut&&as(new Ut)!=j||cn&&as(cn.resolve())!=k||dr&&as(new dr)!=L||In&&as(new In)!=B)&&(as=function(R){var H=Va(R),ee=H==T?R.constructor:void 0,ve=ee?tr(ee):"";if(ve)switch(ve){case J:return U;case le:return j;case be:return k;case Te:return L;case Me:return B}return H});function Mo(R,H){return H=H??u,!!H&&(typeof R=="number"||se.test(R))&&R>-1&&R%1==0&&R<H}function Gc(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function Yc(R){return!!gr&&gr in R}function Ll(R){var H=R&&R.constructor,ee=typeof H=="function"&&H.prototype||pt;return R===ee}function Xr(R){return Tn.call(R)}function tr(R){if(R!=null){try{return ur.call(R)}catch{}try{return R+""}catch{}}return""}function _l(R,H){return R===H||R!==R&&H!==H}var Ws=Rl((function(){return arguments})())?Rl:function(R){return Tr(R)&&zt.call(R,"callee")&&!Et.call(R,"callee")},ls=Array.isArray;function Dl(R){return R!=null&&$r(R.length)&&!va(R)}var ba=en||Si;function ji(R,H){return Ao(R,H)}function va(R){if(!Pl(R))return!1;var H=Va(R);return H==y||H==N||H==m||H==_}function $r(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=u}function Pl(R){var H=typeof R;return R!=null&&(H=="object"||H=="function")}function Tr(R){return R!=null&&typeof R=="object"}var os=ke?De(ke):Er;function Ga(R){return Dl(R)?Pr(R):Ro(R)}function $l(){return[]}function Si(){return!1}t.exports=ji})(Ku,Ku.exports)),Ku.exports}var fh={},w2;function rq(){if(w2)return fh;w2=1,Object.defineProperty(fh,"__esModule",{value:!0});const t=UE(),e=BE();var n;return(function(s){function l(f={},m={},g=!1){typeof f!="object"&&(f={}),typeof m!="object"&&(m={});let x=t(m);g||(x=Object.keys(x).reduce((b,y)=>(x[y]!=null&&(b[y]=x[y]),b),{}));for(const b in f)f[b]!==void 0&&m[b]===void 0&&(x[b]=f[b]);return Object.keys(x).length>0?x:void 0}s.compose=l;function i(f={},m={}){typeof f!="object"&&(f={}),typeof m!="object"&&(m={});const g=Object.keys(f).concat(Object.keys(m)).reduce((x,b)=>(e(f[b],m[b])||(x[b]=m[b]===void 0?null:m[b]),x),{});return Object.keys(g).length>0?g:void 0}s.diff=i;function u(f={},m={}){f=f||{};const g=Object.keys(m).reduce((x,b)=>(m[b]!==f[b]&&f[b]!==void 0&&(x[b]=m[b]),x),{});return Object.keys(f).reduce((x,b)=>(f[b]!==m[b]&&m[b]===void 0&&(x[b]=null),x),g)}s.invert=u;function d(f,m,g=!1){if(typeof f!="object")return m;if(typeof m!="object")return;if(!g)return m;const x=Object.keys(m).reduce((b,y)=>(f[y]===void 0&&(b[y]=m[y]),b),{});return Object.keys(x).length>0?x:void 0}s.transform=d})(n||(n={})),fh.default=n,fh}var hh={},N2;function qE(){if(N2)return hh;N2=1,Object.defineProperty(hh,"__esModule",{value:!0});var t;return(function(e){function n(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=n})(t||(t={})),hh.default=t,hh}var mh={},j2;function sq(){if(j2)return mh;j2=1,Object.defineProperty(mh,"__esModule",{value:!0});const t=qE();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const l=this.ops[this.index];if(l){const i=this.offset,u=t.default.length(l);if(s>=u-i?(s=u-i,this.index+=1,this.offset=0):this.offset+=s,typeof l.delete=="number")return{delete:s};{const d={};return l.attributes&&(d.attributes=l.attributes),typeof l.retain=="number"?d.retain=s:typeof l.retain=="object"&&l.retain!==null?d.retain=l.retain:typeof l.insert=="string"?d.insert=l.insert.substr(i,s):d.insert=l.insert,d}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,l=this.index,i=this.next(),u=this.ops.slice(this.index);return this.offset=s,this.index=l,[i].concat(u)}}else return[]}}return mh.default=e,mh}var S2;function aq(){return S2||(S2=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=nq(),s=UE(),l=BE(),i=rq();e.AttributeMap=i.default;const u=qE();e.Op=u.default;const d=sq();e.OpIterator=d.default;const f="\0",m=(x,b)=>{if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const y=Object.keys(x)[0];if(!y||y!==Object.keys(b)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(b)[0]}`);return[y,x[y],b[y]]};class g{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,y){this.handlers[b]=y}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const y=this.handlers[b];if(!y)throw new Error(`no handlers for embed type "${b}"`);return y}insert(b,y){const N={};return typeof b=="string"&&b.length===0?this:(N.insert=b,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(N.attributes=y),this.push(N))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,y){if(typeof b=="number"&&b<=0)return this;const N={retain:b};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(N.attributes=y),this.push(N)}push(b){let y=this.ops.length,N=this.ops[y-1];if(b=s(b),typeof N=="object"){if(typeof b.delete=="number"&&typeof N.delete=="number")return this.ops[y-1]={delete:N.delete+b.delete},this;if(typeof N.delete=="number"&&b.insert!=null&&(y-=1,N=this.ops[y-1],typeof N!="object"))return this.ops.unshift(b),this;if(l(b.attributes,N.attributes)){if(typeof b.insert=="string"&&typeof N.insert=="string")return this.ops[y-1]={insert:N.insert+b.insert},typeof b.attributes=="object"&&(this.ops[y-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof N.retain=="number")return this.ops[y-1]={retain:N.retain+b.retain},typeof b.attributes=="object"&&(this.ops[y-1].attributes=b.attributes),this}}return y===this.ops.length?this.ops.push(b):this.ops.splice(y,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const y=[],N=[];return this.forEach(j=>{(b(j)?y:N).push(j)}),[y,N]}reduce(b,y){return this.ops.reduce(b,y)}changeLength(){return this.reduce((b,y)=>y.insert?b+u.default.length(y):y.delete?b-y.delete:b,0)}length(){return this.reduce((b,y)=>b+u.default.length(y),0)}slice(b=0,y=1/0){const N=[],j=new d.default(this.ops);let S=0;for(;S<y&&j.hasNext();){let C;S<b?C=j.next(b-S):(C=j.next(y-S),N.push(C)),S+=u.default.length(C)}return new g(N)}compose(b){const y=new d.default(this.ops),N=new d.default(b.ops),j=[],S=N.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){let T=S.retain;for(;y.peekType()==="insert"&&y.peekLength()<=T;)T-=y.peekLength(),j.push(y.next());S.retain-T>0&&N.next(S.retain-T)}const C=new g(j);for(;y.hasNext()||N.hasNext();)if(N.peekType()==="insert")C.push(N.next());else if(y.peekType()==="delete")C.push(y.next());else{const T=Math.min(y.peekLength(),N.peekLength()),k=y.next(T),_=N.next(T);if(_.retain){const E={};if(typeof k.retain=="number")E.retain=typeof _.retain=="number"?T:_.retain;else if(typeof _.retain=="number")k.retain==null?E.insert=k.insert:E.retain=k.retain;else{const O=k.retain==null?"insert":"retain",[A,M,B]=m(k[O],_.retain),P=g.getHandler(A);E[O]={[A]:P.compose(M,B,O==="retain")}}const L=i.default.compose(k.attributes,_.attributes,typeof k.retain=="number");if(L&&(E.attributes=L),C.push(E),!N.hasNext()&&l(C.ops[C.ops.length-1],E)){const O=new g(y.rest());return C.concat(O).chop()}}else typeof _.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&C.push(_)}return C.chop()}concat(b){const y=new g(this.ops.slice());return b.ops.length>0&&(y.push(b.ops[0]),y.ops=y.ops.concat(b.ops.slice(1))),y}diff(b,y){if(this.ops===b.ops)return new g;const N=[this,b].map(k=>k.map(_=>{if(_.insert!=null)return typeof _.insert=="string"?_.insert:f;const E=k===b?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")),j=new g,S=n(N[0],N[1],y,!0),C=new d.default(this.ops),T=new d.default(b.ops);return S.forEach(k=>{let _=k[1].length;for(;_>0;){let E=0;switch(k[0]){case n.INSERT:E=Math.min(T.peekLength(),_),j.push(T.next(E));break;case n.DELETE:E=Math.min(_,C.peekLength()),C.next(E),j.delete(E);break;case n.EQUAL:E=Math.min(C.peekLength(),T.peekLength(),_);const L=C.next(E),O=T.next(E);l(L.insert,O.insert)?j.retain(E,i.default.diff(L.attributes,O.attributes)):j.push(O).delete(E);break}_-=E}}),j.chop()}eachLine(b,y=`
`){const N=new d.default(this.ops);let j=new g,S=0;for(;N.hasNext();){if(N.peekType()!=="insert")return;const C=N.peek(),T=u.default.length(C)-N.peekLength(),k=typeof C.insert=="string"?C.insert.indexOf(y,T)-T:-1;if(k<0)j.push(N.next());else if(k>0)j.push(N.next(k));else{if(b(j,N.next(1).attributes||{},S)===!1)return;S+=1,j=new g}}j.length()>0&&b(j,{},S)}invert(b){const y=new g;return this.reduce((N,j)=>{if(j.insert)y.delete(u.default.length(j));else{if(typeof j.retain=="number"&&j.attributes==null)return y.retain(j.retain),N+j.retain;if(j.delete||typeof j.retain=="number"){const S=j.delete||j.retain;return b.slice(N,N+S).forEach(T=>{j.delete?y.push(T):j.retain&&j.attributes&&y.retain(u.default.length(T),i.default.invert(j.attributes,T.attributes))}),N+S}else if(typeof j.retain=="object"&&j.retain!==null){const S=b.slice(N,N+1),C=new d.default(S.ops).next(),[T,k,_]=m(j.retain,C.insert),E=g.getHandler(T);return y.retain({[T]:E.invert(k,_)},i.default.invert(j.attributes,C.attributes)),N+1}}return N},0),y.chop()}transform(b,y=!1){if(y=!!y,typeof b=="number")return this.transformPosition(b,y);const N=b,j=new d.default(this.ops),S=new d.default(N.ops),C=new g;for(;j.hasNext()||S.hasNext();)if(j.peekType()==="insert"&&(y||S.peekType()!=="insert"))C.retain(u.default.length(j.next()));else if(S.peekType()==="insert")C.push(S.next());else{const T=Math.min(j.peekLength(),S.peekLength()),k=j.next(T),_=S.next(T);if(k.delete)continue;if(_.delete)C.push(_);else{const E=k.retain,L=_.retain;let O=typeof L=="object"&&L!==null?L:T;if(typeof E=="object"&&E!==null&&typeof L=="object"&&L!==null){const A=Object.keys(E)[0];if(A===Object.keys(L)[0]){const M=g.getHandler(A);M&&(O={[A]:M.transform(E[A],L[A],y)})}}C.retain(O,i.default.transform(k.attributes,_.attributes,y))}}return C.chop()}transformPosition(b,y=!1){y=!!y;const N=new d.default(this.ops);let j=0;for(;N.hasNext()&&j<=b;){const S=N.peekLength(),C=N.peekType();if(N.next(),C==="delete"){b-=Math.min(S,b-j);continue}else C==="insert"&&(j<b||!y)&&(b+=S);j+=S}return b}}g.Op=u.default,g.OpIterator=d.default,g.AttributeMap=i.default,g.handlers={},e.default=g,t.exports=g,t.exports.default=g})(dh,dh.exports)),dh.exports}var zs=aq();const Qe=Ed(zs);class ma extends Cs{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ma.blotName="break";ma.tagName="BR";let oa=class extends sm{};const lq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Km(t){return t.replace(/[&<>"']/g,e=>lq[e])}const Ca=class Ca extends N0{static compare(e,n){const s=Ca.order.indexOf(e),l=Ca.order.indexOf(n);return s>=0||l>=0?s-l:e===n?0:e<n?-1:1}formatAt(e,n,s,l){if(Ca.compare(this.statics.blotName,s)<0&&this.scroll.query(s,et.BLOT)){const i=this.isolate(e,n);l&&i.wrap(s,l)}else super.formatAt(e,n,s,l)}optimize(e){if(super.optimize(e),this.parent instanceof Ca&&Ca.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};Pe(Ca,"allowedChildren",[Ca,ma,Cs,oa]),Pe(Ca,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Ua=Ca;const C2=1;class Sr extends vd{constructor(){super(...arguments);Pe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=FE(this)),this.cache.delta}deleteAt(n,s){super.deleteAt(n,s),this.cache={}}formatAt(n,s,l,i){s<=0||(this.scroll.query(l,et.BLOCK)?n+s===this.length()&&this.format(l,i):super.formatAt(n,Math.min(s,this.length()-n-1),l,i),this.cache={})}insertAt(n,s,l){if(l!=null){super.insertAt(n,s,l),this.cache={};return}if(s.length===0)return;const i=s.split(`
`),u=i.shift();u.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),u):this.children.tail.insertAt(this.children.tail.length(),u),this.cache={});let d=this;i.reduce((f,m)=>(d=d.split(f,!0),d.insertAt(0,m),m.length),n+u.length)}insertBefore(n,s){const{head:l}=this.children;super.insertBefore(n,s),l instanceof ma&&l.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+C2),this.cache.length}moveChildren(n,s){super.moveChildren(n,s),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(n===0||n>=this.length()-C2)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const l=super.split(n,s);return this.cache={},l}}Sr.blotName="block";Sr.tagName="P";Sr.defaultChild=ma;Sr.allowedChildren=[ma,Ua,Cs,oa];let Is=class extends Cs{attach(){super.attach(),this.attributes=new Ym(this.domNode)}delta(){return new Qe().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const s=this.scroll.query(e,et.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(e,n,s,l){this.format(s,l)}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s);return}const l=n.split(`
`),i=l.pop(),u=l.map(f=>{const m=this.scroll.create(Sr.blotName);return m.insertAt(0,f),m}),d=this.split(e);u.forEach(f=>{this.parent.insertBefore(f,d)}),i&&this.parent.insertBefore(this.scroll.create("text",i),d)}};Is.scope=et.BLOCK_BLOT;function FE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Or).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),Ps(s,{},e)),new Qe).insert(`
`,Ps(t))}function Ps(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Ps(t.parent,e,n)}const _s=class _s extends Cs{static value(){}constructor(e,n,s){super(e,n),this.selection=s,this.textNode=document.createTextNode(_s.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let s=this,l=0;for(;s!=null&&s.statics.scope!==et.BLOCK_BLOT;)l+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=_s.CONTENTS.length,s.optimize(),s.formatAt(l,_s.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof oa?this.prev:null,s=n?n.length():0,l=this.next instanceof oa?this.next:null,i=l?l.text:"",{textNode:u}=this,d=u.data.split(_s.CONTENTS).join("");u.data=_s.CONTENTS;let f;if(n)f=n,(d||l)&&(n.insertAt(n.length(),d+i),l&&l.remove());else if(l)f=l,l.insertAt(0,d);else{const m=document.createTextNode(d);f=this.scroll.create(m),this.parent.insertBefore(f,this)}if(this.remove(),e){const m=(b,y)=>n&&b===n.domNode?y:b===u?s+y-1:l&&b===l.domNode?s+d.length+y:null,g=m(e.start.node,e.start.offset),x=m(e.end.node,e.end.offset);if(g!==null&&x!==null)return{startNode:f.domNode,startOffset:g,endNode:f.domNode,endOffset:x}}return null}update(e,n){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=_s.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};Pe(_s,"blotName","cursor"),Pe(_s,"className","ql-cursor"),Pe(_s,"tagName","span"),Pe(_s,"CONTENTS","\uFEFF");let Oc=_s;var $x={exports:{}},E2;function oq(){return E2||(E2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function l(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function i(f,m,g,x,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new l(g,x||f,b),N=n?n+m:m;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],y]:f._events[N].push(y):(f._events[N]=y,f._eventsCount++),f}function u(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)e.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,y=x.length,N=new Array(y);b<y;b++)N[b]=x[b].fn;return N},d.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,b,y,N){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],C=arguments.length,T,k;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,x),!0;case 4:return S.fn.call(S.context,g,x,b),!0;case 5:return S.fn.call(S.context,g,x,b,y),!0;case 6:return S.fn.call(S.context,g,x,b,y,N),!0}for(k=1,T=new Array(C-1);k<C;k++)T[k-1]=arguments[k];S.fn.apply(S.context,T)}else{var _=S.length,E;for(k=0;k<_;k++)switch(S[k].once&&this.removeListener(m,S[k].fn,void 0,!0),C){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,g);break;case 3:S[k].fn.call(S[k].context,g,x);break;case 4:S[k].fn.call(S[k].context,g,x,b);break;default:if(!T)for(E=1,T=new Array(C-1);E<C;E++)T[E-1]=arguments[E];S[k].fn.apply(S[k].context,T)}}return!0},d.prototype.on=function(m,g,x){return i(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return i(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,b){var y=n?n+m:m;if(!this._events[y])return this;if(!g)return u(this,y),this;var N=this._events[y];if(N.fn)N.fn===g&&(!b||N.once)&&(!x||N.context===x)&&u(this,y);else{for(var j=0,S=[],C=N.length;j<C;j++)(N[j].fn!==g||b&&!N[j].once||x&&N[j].context!==x)&&S.push(N[j]);S.length?this._events[y]=S.length===1?S[0]:S:u(this,y)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})($x)),$x.exports}var iq=oq();const cq=Ed(iq),Wb=new WeakMap,Kb=["error","warn","log","info"];let Xb="warn";function HE(t){if(Xb&&Kb.indexOf(t)<=Kb.indexOf(Xb)){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];console[t](...n)}}function kl(t){return Kb.reduce((e,n)=>(e[n]=HE.bind(console,n,t),e),{})}kl.level=t=>{Xb=t};HE.level=kl.level;const Ix=kl("quill:events"),uq=["selectionchange","mousedown","mouseup","click"];uq.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(l=>{const i=Wb.get(l);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class He extends cq{constructor(){super(),this.domListeners={},this.on("error",Ix.error)}emit(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Ix.log.call(Ix,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];(this.domListeners[e.type]||[]).forEach(i=>{let{node:u,handler:d}=i;(e.target===u||u.contains(e.target))&&d(e,...s)})}listenDOM(e,n,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:s})}}Pe(He,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Pe(He,"sources",{API:"api",SILENT:"silent",USER:"user"});const zx=kl("quill:selection");class oi{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class dq{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new oi(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,He.sources.USER),1)}),this.emitter.on(He.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(He.events.SCROLL_UPDATE,(l,i)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const u=i.some(d=>d.type==="characterData"||d.type==="childList"||d.type==="attributes"&&d.target===this.root);this.update(u?He.sources.SILENT:l)}catch{}})}),this.emitter.on(He.events.SCROLL_OPTIMIZE,(s,l)=>{if(l.range){const{startNode:i,startOffset:u,endNode:d,endOffset:f}=l.range;this.setNativeRange(i,u,d,f),this.update(He.sources.SILENT)}}),this.update(He.sources.SILENT)}handleComposition(){this.emitter.on(He.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(He.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(He.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,et.BLOCK))){if(s.start.node!==this.cursor.textNode){const l=this.scroll.find(s.start.node,!1);if(l==null)return;if(l instanceof Or){const i=l.split(s.start.offset);l.parent.insertBefore(this.cursor,i)}else l.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),n=Math.min(e+n,s-1)-e;let l,[i,u]=this.scroll.leaf(e);if(i==null)return null;if(n>0&&u===i.length()){const[g]=this.scroll.leaf(e+1);if(g){const[x]=this.scroll.line(e),[b]=this.scroll.line(e+1);x===b&&(i=g,u=0)}}[l,u]=i.position(u,!0);const d=document.createRange();if(n>0)return d.setStart(l,u),[i,u]=this.scroll.leaf(e+n),i==null?null:([l,u]=i.position(u,!0),d.setEnd(l,u),d.getBoundingClientRect());let f="left",m;if(l instanceof Text){if(!l.data.length)return null;u<l.data.length?(d.setStart(l,u),d.setEnd(l,u+1)):(d.setStart(l,u-1),d.setEnd(l,u),f="right"),m=d.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;m=i.domNode.getBoundingClientRect(),u>0&&(f="right")}return{bottom:m.top+m.height,height:m.height,left:m[f],right:m[f],top:m.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return zx.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Ux(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const s=n.map(u=>{const[d,f]=u,m=this.scroll.find(d,!0),g=m.offset(this.scroll);return f===0?g:m instanceof Or?g+m.index(d,f):g+m.length()}),l=Math.min(Math.max(...s),this.scroll.length()-1),i=Math.min(l,...s);return new oi(i,l-i)}normalizeNative(e){if(!Ux(this.root,e.startContainer)||!e.collapsed&&!Ux(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(s=>{let{node:l,offset:i}=s;for(;!(l instanceof Text)&&l.childNodes.length>0;)if(l.childNodes.length>i)l=l.childNodes[i],i=0;else if(l.childNodes.length===i)l=l.lastChild,l instanceof Text?i=l.data.length:l.childNodes.length>0?i=l.childNodes.length:i=l.childNodes.length+1;else break;s.node=l,s.offset=i}),n}rangeToNative(e){const n=this.scroll.length(),s=(l,i)=>{l=Math.min(n-1,l);const[u,d]=this.scroll.leaf(l);return u?u.position(d,i):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(zx.info("setNativeRange",e,n,s,l),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:d}=this.getNativeRange()||{};if(d==null||i||e!==d.startContainer||n!==d.startOffset||s!==d.endContainer||l!==d.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(l=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const f=document.createRange();f.setStart(e,n),f.setEnd(s,l),u.removeAllRanges(),u.addRange(f)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He.sources.API;if(typeof n=="string"&&(s=n,n=!1),zx.info("setRange",e),e!=null){const l=this.rangeToNative(e);this.setNativeRange(...l,n)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He.sources.USER;const n=this.lastRange,[s,l]=this.getRange();if(this.lastRange=s,this.lastNative=l,this.lastRange!=null&&(this.savedRange=this.lastRange),!w0(n,this.lastRange)){if(!this.composing&&l!=null&&l.native.collapsed&&l.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const i=[He.events.SELECTION_CHANGE,xc(this.lastRange),xc(n),e];this.emitter.emit(He.events.EDITOR_CHANGE,...i),e!==He.sources.SILENT&&this.emitter.emit(...i)}}}function Ux(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const fq=/^[ -~]*$/;class hq{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=k2(e),l=new Qe;return pq(s.ops.slice()).reduce((u,d)=>{const f=zs.Op.length(d);let m=d.attributes||{},g=!1,x=!1;if(d.insert!=null){if(l.retain(f),typeof d.insert=="string"){const N=d.insert;x=!N.endsWith(`
`)&&(n<=u||!!this.scroll.descendant(Is,u)[0]),this.scroll.insertAt(u,N);const[j,S]=this.scroll.line(u);let C=go({},Ps(j));if(j instanceof Sr){const[T]=j.descendant(Or,S);T&&(C=go(C,Ps(T)))}m=zs.AttributeMap.diff(C,m)||{}}else if(typeof d.insert=="object"){const N=Object.keys(d.insert)[0];if(N==null)return u;const j=this.scroll.query(N,et.INLINE)!=null;if(j)(n<=u||this.scroll.descendant(Is,u)[0])&&(x=!0);else if(u>0){const[S,C]=this.scroll.descendant(Or,u-1);S instanceof oa?S.value()[C]!==`
`&&(g=!0):S instanceof Cs&&S.statics.scope===et.INLINE_BLOT&&(g=!0)}if(this.scroll.insertAt(u,N,d.insert[N]),j){const[S]=this.scroll.descendant(Or,u);if(S){const C=go({},Ps(S));m=zs.AttributeMap.diff(C,m)||{}}}}n+=f}else if(l.push(d),d.retain!==null&&typeof d.retain=="object"){const N=Object.keys(d.retain)[0];if(N==null)return u;this.scroll.updateEmbedAt(u,N,d.retain[N])}Object.keys(m).forEach(N=>{this.scroll.formatAt(u,f,N,m[N])});const b=g?1:0,y=x?1:0;return n+=b+y,l.retain(b),l.delete(y),u+f+b+y},0),l.reduce((u,d)=>typeof d.delete=="number"?(this.scroll.deleteAt(u,d.delete),u):u+zs.Op.length(d),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Qe().retain(e).delete(n))}formatLine(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(i=>{this.scroll.lines(e,Math.max(n,1)).forEach(u=>{u.format(i,s[i])})}),this.scroll.optimize();const l=new Qe().retain(e).retain(n,xc(s));return this.update(l)}formatText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(i=>{this.scroll.formatAt(e,n,i,s[i])});const l=new Qe().retain(e).retain(n,xc(s));return this.update(l)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Qe)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],l=[];n===0?this.scroll.path(e).forEach(d=>{const[f]=d;f instanceof Sr?s.push(f):f instanceof Or&&l.push(f)}):(s=this.scroll.lines(e,n),l=this.scroll.descendants(Or,e,n));const[i,u]=[s,l].map(d=>{const f=d.shift();if(f==null)return{};let m=Ps(f);for(;Object.keys(m).length>0;){const g=d.shift();if(g==null)return m;m=mq(Ps(g),m)}return m});return{...i,...u}}getHTML(e,n){const[s,l]=this.scroll.line(e);if(s){const i=s.length();return s.length()>=l+n&&!(l===0&&n===i)?yd(s,l,n,!0):yd(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,n){const s=k2(n),l=new Qe().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(l)}insertEmbed(e,n,s){return this.scroll.insertAt(e,n,s),this.update(new Qe().retain(e).insert({[n]:s}))}insertText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(s).forEach(l=>{this.scroll.formatAt(e,n.length,l,s[l])}),this.update(new Qe().retain(e).insert(n,xc(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Sr.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof ma}removeFormat(e,n){const s=this.getText(e,n),[l,i]=this.scroll.line(e+n);let u=0,d=new Qe;l!=null&&(u=l.length()-i,d=l.delta().slice(i,i+u-1).insert(`
`));const m=this.getContents(e,n+u).diff(new Qe().insert(s).concat(d)),g=new Qe().retain(e).concat(m);return this.applyDelta(g)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const l=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(fq)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),u=Ps(i),d=i.offset(this.scroll),f=n[0].oldValue.replace(Oc.CONTENTS,""),m=new Qe().insert(f),g=new Qe().insert(i.value()),x=s&&{oldRange:T2(s.oldRange,-d),newRange:T2(s.newRange,-d)};e=new Qe().retain(d).concat(m.diff(g,x)).reduce((y,N)=>N.insert?y.insert(N.insert,u):y.push(N),new Qe),this.delta=l.compose(e)}else this.delta=this.getDelta(),(!e||!w0(l.compose(e),this.delta))&&(e=l.diff(this.delta,s));return e}}function fc(t,e,n){if(t.length===0){const[y]=Bx(n.pop());return e<=0?`</li></${y}>`:`</li></${y}>${fc([],e-1,n)}`}const[{child:s,offset:l,length:i,indent:u,type:d},...f]=t,[m,g]=Bx(d);if(u>e)return n.push(d),u===e+1?`<${m}><li${g}>${yd(s,l,i)}${fc(f,u,n)}`:`<${m}><li>${fc(t,e+1,n)}`;const x=n[n.length-1];if(u===e&&d===x)return`</li><li${g}>${yd(s,l,i)}${fc(f,u,n)}`;const[b]=Bx(n.pop());return`</li></${b}>${fc(t,e-1,n)}`}function yd(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof oa)return Km(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof sa){if(t.statics.blotName==="list-container"){const m=[];return t.children.forEachAt(e,n,(g,x,b)=>{const y="formats"in g&&typeof g.formats=="function"?g.formats():{};m.push({child:g,offset:x,length:b,indent:y.indent||0,type:y.list})}),fc(m,-1,[])}const l=[];if(t.children.forEachAt(e,n,(m,g,x)=>{l.push(yd(m,g,x))}),s||t.statics.blotName==="list")return l.join("");const{outerHTML:i,innerHTML:u}=t.domNode,[d,f]=i.split(`>${u}<`);return d==="<table"?`<table style="border: 1px solid #000;">${l.join("")}<${f}`:`${d}>${l.join("")}<${f}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function mq(t,e){return Object.keys(e).reduce((n,s)=>{if(t[s]==null)return n;const l=e[s];return l===t[s]?n[s]=l:Array.isArray(l)?l.indexOf(t[s])<0?n[s]=l.concat([t[s]]):n[s]=l:n[s]=[l,t[s]],n},{})}function Bx(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function k2(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,n.attributes)}return e.push(n)},new Qe)}function T2(t,e){let{index:n,length:s}=t;return new oi(n+e,s)}function pq(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((l,i)=>{i&&e.push({insert:`
`,attributes:n.attributes}),l&&e.push({insert:l,attributes:n.attributes})}):e.push(n)}),e}class pa{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}Pe(pa,"DEFAULTS",{});const ph="\uFEFF";class S0 extends Cs{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(ph),this.rightGuard=document.createTextNode(ph),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,s;const l=e.data.split(ph).join("");if(e===this.leftGuard)if(this.prev instanceof oa){const i=this.prev.length();this.prev.insertAt(i,l),n={startNode:this.prev.domNode,startOffset:i+l.length}}else s=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:l.length};else e===this.rightGuard&&(this.next instanceof oa?(this.next.insertAt(0,l),n={startNode:this.next.domNode,startOffset:l.length}):(s=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:l.length}));return e.data=ph,n}update(e,n){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const l=this.restore(s.target);l&&(n.range=l)}})}}class gq{constructor(e,n){Pe(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof S0)&&(this.emitter.emit(He.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(He.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(He.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(He.events.COMPOSITION_END,e),this.isComposing=!1}}const nd=class nd{constructor(e,n){Pe(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};Pe(nd,"DEFAULTS",{modules:{}}),Pe(nd,"themes",{default:nd});let Mc=nd;const xq=t=>t.parentElement||t.getRootNode().host||null,bq=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,s="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*s,left:e.left}},gh=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},A2=(t,e,n,s,l,i)=>t<n&&e>s?0:t<n?-(n-t+l):e>s?e-t>s-n?t+l-n:e-s+i:0,vq=(t,e)=>{var i,u,d;const n=t.ownerDocument;let s=e,l=t;for(;l;){const f=l===n.body,m=f?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((u=window.visualViewport)==null?void 0:u.height)??n.documentElement.clientHeight,left:0}:bq(l),g=getComputedStyle(l),x=A2(s.left,s.right,m.left,m.right,gh(g.scrollPaddingLeft),gh(g.scrollPaddingRight)),b=A2(s.top,s.bottom,m.top,m.bottom,gh(g.scrollPaddingTop),gh(g.scrollPaddingBottom));if(x||b)if(f)(d=n.defaultView)==null||d.scrollBy(x,b);else{const{scrollLeft:y,scrollTop:N}=l;b&&(l.scrollTop+=b),x&&(l.scrollLeft+=x);const j=l.scrollLeft-y,S=l.scrollTop-N;s={left:s.left-j,top:s.top-S,right:s.right-j,bottom:s.bottom-S}}l=f||g.position==="fixed"?null:xq(l)}},yq=100,wq=["block","break","cursor","inline","scroll","text"],Nq=(t,e,n)=>{const s=new Rc;return wq.forEach(l=>{const i=e.query(l);i&&s.register(i)}),t.forEach(l=>{let i=e.query(l);i||n.error(`Cannot register "${l}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;i;)if(s.register(i),i="blotName"in i?i.requiredContainer??null:null,u+=1,u>yq){n.error(`Cycle detected in registering blot requiredContainer: "${l}"`);break}}),s},vc=kl("quill"),xh=new Rc;sa.uiClass="ql-ui";const ea=class ea{static debug(e){e===!0&&(e="log"),kl.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Wb.get(e)||xh.find(e,n)}static import(e){return this.imports[e]==null&&vc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,n):Object.keys(e).forEach(l=>{this.register(l,e[l],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&vc.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&xh.register(n),typeof n.register=="function"&&n.register(xh)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=jq(e,n),this.container=this.options.container,this.container==null){vc.error("Invalid Quill container",e);return}this.options.debug&&ea.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Wb.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new He;const l=j0.blotName,i=this.options.registry.query(l);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${l}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new hq(this.scroll),this.selection=new dq(this.scroll,this.emitter),this.composition=new gq(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(He.events.EDITOR_CHANGE,u=>{u===He.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(He.events.SCROLL_UPDATE,(u,d)=>{const f=this.selection.lastRange,[m]=this.selection.getRange(),g=f&&m?{oldRange:f,newRange:m}:void 0;Qs.call(this,()=>this.editor.update(null,d,g),u)}),this.emitter.on(He.events.SCROLL_EMBED_UPDATE,(u,d)=>{const f=this.selection.lastRange,[m]=this.selection.getRange(),g=f&&m?{oldRange:f,newRange:m}:void 0;Qs.call(this,()=>{const x=new Qe().retain(u.offset(this)).retain({[u.statics.blotName]:d});return this.editor.update(x,[],g)},ea.sources.USER)}),s){const u=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,s){return[e,n,,s]=ul(e,n,s),Qs.call(this,()=>this.editor.deleteText(e,n),s,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He.sources.API;return Qs.call(this,()=>{const l=this.getSelection(!0);let i=new Qe;if(l==null)return i;if(this.scroll.query(e,et.BLOCK))i=this.editor.formatLine(l.index,l.length,{[e]:n});else{if(l.length===0)return this.selection.format(e,n),i;i=this.editor.formatText(l.index,l.length,{[e]:n})}return this.setSelection(l,He.sources.SILENT),i},s)}formatLine(e,n,s,l,i){let u;return[e,n,u,i]=ul(e,n,s,l,i),Qs.call(this,()=>this.editor.formatLine(e,n,u),i,e,0)}formatText(e,n,s,l,i){let u;return[e,n,u,i]=ul(e,n,s,l,i),Qs.call(this,()=>this.editor.formatText(e,n,u),i,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,n):s=this.selection.getBounds(e.index,e.length),!s)return null;const l=this.container.getBoundingClientRect();return{bottom:s.bottom-l.top,height:s.height,left:s.left-l.left,right:s.right-l.left,top:s.top-l.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=ul(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=ul(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=ul(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,s){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ea.sources.API;return Qs.call(this,()=>this.editor.insertEmbed(e,n,s),l,e)}insertText(e,n,s,l,i){let u;return[e,,u,i]=ul(e,0,s,l,i),Qs.call(this,()=>this.editor.insertText(e,n,u),i,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,s){return[e,n,,s]=ul(e,n,s),Qs.call(this,()=>this.editor.removeFormat(e,n),s,e)}scrollRectIntoView(e){vq(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He.sources.API;return Qs.call(this,()=>{e=new Qe(e);const s=this.getLength(),l=this.editor.deleteText(0,s),i=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return l.compose(i).compose(u)},n)}setSelection(e,n,s){e==null?this.selection.setRange(null,n||ea.sources.API):([e,n,,s]=ul(e,n,s),this.selection.setRange(new oi(Math.max(0,e),n),s),s!==He.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He.sources.API;const s=new Qe().insert(e);return this.setContents(s,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He.sources.API;return Qs.call(this,()=>(e=new Qe(e),this.editor.applyDelta(e)),n,!0)}};Pe(ea,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:xh,theme:"default"}),Pe(ea,"events",He.events),Pe(ea,"sources",He.sources),Pe(ea,"version","2.0.3"),Pe(ea,"imports",{delta:Qe,parchment:tq,"core/module":pa,"core/theme":Mc});let Se=ea;function R2(t){return typeof t=="string"?document.querySelector(t):t}function qx(t){return Object.entries(t??{}).reduce((e,n)=>{let[s,l]=n;return{...e,[s]:l===!0?{}:l}},{})}function O2(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function jq(t,e){const n=R2(t);if(!n)throw new Error("Invalid Quill container");const l=!e.theme||e.theme===Se.DEFAULTS.theme?Mc:Se.import(`themes/${e.theme}`);if(!l)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...u}=Se.DEFAULTS,{modules:d,...f}=l.DEFAULTS;let m=qx(e.modules);m!=null&&m.toolbar&&m.toolbar.constructor!==Object&&(m={...m,toolbar:{container:m.toolbar}});const g=go({},qx(i),qx(d),m),x={...u,...O2(f),...O2(e)};let b=e.registry;return b?e.formats&&vc.warn('Ignoring "formats" option because "registry" is specified'):b=e.formats?Nq(e.formats,x.registry,vc):x.registry,{...x,registry:b,container:n,theme:l,modules:Object.entries(g).reduce((y,N)=>{let[j,S]=N;if(!S)return y;const C=Se.import(`modules/${j}`);return C==null?(vc.error(`Cannot load ${j} module. Are you sure you registered it?`),y):{...y,[j]:go({},C.DEFAULTS||{},S)}},{}),bounds:R2(x.bounds)}}function Qs(t,e,n,s){if(!this.isEnabled()&&e===He.sources.USER&&!this.allowReadOnlyEdits)return new Qe;let l=n==null?null:this.getSelection();const i=this.editor.delta,u=t();if(l!=null&&(n===!0&&(n=l.index),s==null?l=M2(l,u,e):s!==0&&(l=M2(l,n,s,e)),this.setSelection(l,He.sources.SILENT)),u.length()>0){const d=[He.events.TEXT_CHANGE,u,i,e];this.emitter.emit(He.events.EDITOR_CHANGE,...d),e!==He.sources.SILENT&&this.emitter.emit(...d)}return u}function ul(t,e,n,s,l){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(l=s,s=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(l=s,s=n,n=e,e=0),typeof n=="object"?(i=n,l=s):typeof n=="string"&&(s!=null?i[n]=s:l=n),l=l||He.sources.API,[t,e,i,l]}function M2(t,e,n,s){const l=typeof n=="number"?n:0;if(t==null)return null;let i,u;return e&&typeof e.transformPosition=="function"?[i,u]=[t.index,t.index+t.length].map(d=>e.transformPosition(d,s!==He.sources.USER)):[i,u]=[t.index,t.index+t.length].map(d=>d<e||d===e&&s===He.sources.USER?d:l>=0?d+l:Math.max(e,d+l)),new oi(i,u-i)}class vi extends Wm{}function L2(t){return t instanceof Sr||t instanceof Is}function _2(t){return typeof t.updateContent=="function"}class hc extends j0{constructor(e,n,s){let{emitter:l}=s;super(e,n),this.emitter=l,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(He.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(He.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(He.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[s,l]=this.line(e),[i]=this.line(e+n);if(super.deleteAt(e,n),i!=null&&s!==i&&l>0){if(s instanceof Is||i instanceof Is){this.optimize();return}const u=i.children.head instanceof ma?null:i.children.head;s.moveChildren(i,u),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,s,l){super.formatAt(e,n,s,l),this.optimize()}insertAt(e,n,s){if(e>=this.length())if(s==null||this.scroll.query(n,et.BLOCK)==null){const l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l),s==null&&n.endsWith(`
`)?l.insertAt(0,n.slice(0,-1),s):l.insertAt(0,n,s)}else{const l=this.scroll.create(n,s);this.appendChild(l)}else super.insertAt(e,n,s);this.optimize()}insertBefore(e,n){if(e.statics.scope===et.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,n)}else super.insertBefore(e,n)}insertContents(e,n){const s=this.deltaToRenderBlocks(n.concat(new Qe().insert(`
`))),l=s.pop();if(l==null)return;this.batchStart();const i=s.shift();if(i){const f=i.type==="block"&&(i.delta.length()===0||!this.descendant(Is,e)[0]&&e<this.length()),m=i.type==="block"?i.delta:new Qe().insert({[i.key]:i.value});Fx(this,e,m);const g=i.type==="block"?1:0,x=e+m.length()+g;f&&this.insertAt(x-1,`
`);const b=Ps(this.line(e)[0]),y=zs.AttributeMap.diff(b,i.attributes)||{};Object.keys(y).forEach(N=>{this.formatAt(x-1,1,N,y[N])}),e=x}let[u,d]=this.children.find(e);if(s.length&&(u&&(u=u.split(d),d=0),s.forEach(f=>{if(f.type==="block"){const m=this.createBlock(f.attributes,u||void 0);Fx(m,0,f.delta)}else{const m=this.create(f.key,f.value);this.insertBefore(m,u||void 0),Object.keys(f.attributes).forEach(g=>{m.format(g,f.attributes[g])})}})),l.type==="block"&&l.delta.length()){const f=u?u.offset(u.scroll)+d:this.length();Fx(this,f,l.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[s,l]=n;return s instanceof Or?[s,l]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(L2,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(l,i,u)=>{let d=[],f=u;return l.children.forEachAt(i,u,(m,g,x)=>{L2(m)?d.push(m):m instanceof Wm&&(d=d.concat(s(m,g,f))),f-=x}),d};return s(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(He.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=He.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:l}=s;const i=this.find(l,!0);return i&&!_2(i)}),e.length>0&&this.emitter.emit(He.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(He.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,s){const[l]=this.descendant(i=>i instanceof Is,e);l&&l.statics.blotName===n&&_2(l)&&l.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let s=new Qe;return e.forEach(l=>{const i=l==null?void 0:l.insert;if(i)if(typeof i=="string"){const u=i.split(`
`);u.slice(0,-1).forEach(f=>{s.insert(f,l.attributes),n.push({type:"block",delta:s,attributes:l.attributes??{}}),s=new Qe});const d=u[u.length-1];d&&s.insert(d,l.attributes)}else{const u=Object.keys(i)[0];if(!u)return;this.query(u,et.INLINE)?s.push(l):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new Qe,n.push({type:"blockEmbed",key:u,value:i[u],attributes:l.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(e,n){let s;const l={};Object.entries(e).forEach(d=>{let[f,m]=d;this.query(f,et.BLOCK&et.BLOT)!=null?s=f:l[f]=m});const i=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(i,n||void 0);const u=i.length();return Object.entries(l).forEach(d=>{let[f,m]=d;i.formatAt(0,u,f,m)}),i}}Pe(hc,"blotName","scroll"),Pe(hc,"className","ql-editor"),Pe(hc,"tagName","DIV"),Pe(hc,"defaultChild",Sr),Pe(hc,"allowedChildren",[Sr,Is,vi]);function Fx(t,e,n){n.reduce((s,l)=>{const i=zs.Op.length(l);let u=l.attributes||{};if(l.insert!=null){if(typeof l.insert=="string"){const d=l.insert;t.insertAt(s,d);const[f]=t.descendant(Or,s),m=Ps(f);u=zs.AttributeMap.diff(m,u)||{}}else if(typeof l.insert=="object"){const d=Object.keys(l.insert)[0];if(d==null)return s;if(t.insertAt(s,d,l.insert[d]),t.scroll.query(d,et.INLINE)!=null){const[m]=t.descendant(Or,s),g=Ps(m);u=zs.AttributeMap.diff(g,u)||{}}}}return Object.keys(u).forEach(d=>{t.formatAt(s,i,d,u[d])}),s+i},e)}const C0={scope:et.BLOCK,whitelist:["right","center","justify"]},Sq=new za("align","align",C0),VE=new ha("align","ql-align",C0),GE=new So("align","text-align",C0);class YE extends So{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):n}}const Cq=new ha("color","ql-color",{scope:et.INLINE}),E0=new YE("color","color",{scope:et.INLINE}),Eq=new ha("background","ql-bg",{scope:et.INLINE}),k0=new YE("background","background-color",{scope:et.INLINE});class yi extends vi{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Km(this.code(e,n))}
</pre>`}}class Lr extends Sr{static register(){Se.register(yi)}}Pe(Lr,"TAB","  ");class T0 extends Ua{}T0.blotName="code";T0.tagName="CODE";Lr.blotName="code-block";Lr.className="ql-code-block";Lr.tagName="DIV";yi.blotName="code-block-container";yi.className="ql-code-block-container";yi.tagName="DIV";yi.allowedChildren=[Lr];Lr.allowedChildren=[oa,ma,Oc];Lr.requiredContainer=yi;const A0={scope:et.BLOCK,whitelist:["rtl"]},WE=new za("direction","dir",A0),KE=new ha("direction","ql-direction",A0),XE=new So("direction","direction",A0),ZE={scope:et.INLINE,whitelist:["serif","monospace"]},QE=new ha("font","ql-font",ZE);class kq extends So{value(e){return super.value(e).replace(/["']/g,"")}}const JE=new kq("font","font-family",ZE),e3=new ha("size","ql-size",{scope:et.INLINE,whitelist:["small","large","huge"]}),t3=new So("size","font-size",{scope:et.INLINE,whitelist:["10px","18px","32px"]}),Tq=kl("quill:keyboard"),Aq=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Xm extends pa{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==e[s]&&n[s]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=Oq(e);if(l==null){Tq.warn("Attempted to add invalid keyboard binding",l);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(l.key)?l.key:[l.key]).forEach(u=>{const d={...l,key:u,...n,...s};this.bindings[d.key]=this.bindings[d.key]||[],this.bindings[d.key].push(d)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const l=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(C=>Xm.match(e,C));if(l.length===0)return;const i=Se.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[d,f]=this.quill.getLine(u.index),[m,g]=this.quill.getLeaf(u.index),[x,b]=u.length===0?[m,g]:this.quill.getLeaf(u.index+u.length),y=m instanceof sm?m.value().slice(0,g):"",N=x instanceof sm?x.value().slice(b):"",j={collapsed:u.length===0,empty:u.length===0&&d.length()<=1,format:this.quill.getFormat(u),line:d,offset:f,prefix:y,suffix:N,event:e};l.some(C=>{if(C.collapsed!=null&&C.collapsed!==j.collapsed||C.empty!=null&&C.empty!==j.empty||C.offset!=null&&C.offset!==j.offset)return!1;if(Array.isArray(C.format)){if(C.format.every(T=>j.format[T]==null))return!1}else if(typeof C.format=="object"&&!Object.keys(C.format).every(T=>C.format[T]===!0?j.format[T]!=null:C.format[T]===!1?j.format[T]==null:w0(C.format[T],j.format[T])))return!1;return C.prefix!=null&&!C.prefix.test(j.prefix)||C.suffix!=null&&!C.suffix.test(j.suffix)?!1:C.handler.call(this,u,j,C)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let l={};const[i]=this.quill.getLine(e.index);let u=new Qe().retain(e.index-s).delete(s);if(n.offset===0){const[d]=this.quill.getLine(e.index-1);if(d&&!(d.statics.blotName==="block"&&d.length()<=1)){const m=i.formats(),g=this.quill.getFormat(e.index-1,1);if(l=zs.AttributeMap.diff(m,g)||{},Object.keys(l).length>0){const x=new Qe().retain(e.index+i.length()-2).retain(1,l);u=u.compose(x)}}}this.quill.updateContents(u,Se.sources.USER),this.quill.focus()}handleDelete(e,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let l={};const[i]=this.quill.getLine(e.index);let u=new Qe().retain(e.index).delete(s);if(n.offset>=i.length()-1){const[d]=this.quill.getLine(e.index+1);if(d){const f=i.formats(),m=this.quill.getFormat(e.index,1);l=zs.AttributeMap.diff(f,m)||{},Object.keys(l).length>0&&(u=u.retain(d.length()-1).retain(1,l))}}this.quill.updateContents(u,Se.sources.USER),this.quill.focus()}handleDeleteRange(e){R0({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const s=Object.keys(n.format).reduce((i,u)=>(this.quill.scroll.query(u,et.BLOCK)&&!Array.isArray(n.format[u])&&(i[u]=n.format[u]),i),{}),l=new Qe().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(l,Se.sources.USER),this.quill.setSelection(e.index+1,Se.sources.SILENT),this.quill.focus()}}const Rq={bindings:{bold:Hx("bold"),italic:Hx("italic"),underline:Hx("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Se.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Se.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Se.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Se.sources.USER)}},"indent code-block":D2(!0),"outdent code-block":D2(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Se.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Qe().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,Se.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Se.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Se.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,Se.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),s={...e.formats(),list:"checked"},l=new Qe().retain(t.index).insert(`
`,s).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,Se.sources.USER),this.quill.setSelection(t.index+1,Se.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,s]=this.quill.getLine(t.index),l=new Qe().retain(t.index).insert(`
`,e.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(l,Se.sources.USER),this.quill.setSelection(t.index+1,Se.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,s,l,i]=e.getTable(t),u=Mq(n,s,l,i);if(u==null)return;let d=n.offset();if(u<0){const f=new Qe().retain(d).insert(`
`);this.quill.updateContents(f,Se.sources.USER),this.quill.setSelection(t.index+1,t.length,Se.sources.SILENT)}else if(u>0){d+=n.length();const f=new Qe().retain(d).insert(`
`);this.quill.updateContents(f,Se.sources.USER),this.quill.setSelection(d,Se.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:s}=e,l=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(l-1,Se.sources.USER):this.quill.setSelection(l+s.length(),Se.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[s,l]=this.quill.getLine(t.index);if(l>n)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",Se.sources.USER),this.quill.history.cutoff();const u=new Qe().retain(t.index-l).delete(n+1).retain(s.length()-2-l).retain(1,{list:i});return this.quill.updateContents(u,Se.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,Se.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let s=2,l=e;for(;l!=null&&l.length()<=1&&l.formats()["code-block"];)if(l=l.prev,s-=1,s<=0){const i=new Qe().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Se.sources.USER),this.quill.setSelection(t.index-1,Se.sources.SILENT),!1}return!0}},"embed left":bh("ArrowLeft",!1),"embed left shift":bh("ArrowLeft",!0),"embed right":bh("ArrowRight",!1),"embed right shift":bh("ArrowRight",!0),"table down":P2(!1),"table up":P2(!0)}};Xm.DEFAULTS=Rq;function D2(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:s}=n;const l=this.quill.scroll.query("code-block"),{TAB:i}=l;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,i,Se.sources.USER),this.quill.setSelection(e.index+i.length,Se.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:d,length:f}=e;u.forEach((m,g)=>{t?(m.insertAt(0,i),g===0?d+=i.length:f+=i.length):m.domNode.textContent.startsWith(i)&&(m.deleteAt(0,i.length),g===0?d-=i.length:f-=i.length)}),this.quill.update(Se.sources.USER),this.quill.setSelection(d,f,Se.sources.SILENT)}}}function bh(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:l}=s;t==="ArrowRight"&&(l+=s.length+1);const[i]=this.quill.getLeaf(l);return i instanceof Cs?(t==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,Se.sources.USER):this.quill.setSelection(s.index-1,Se.sources.USER):e?this.quill.setSelection(s.index,s.length+1,Se.sources.USER):this.quill.setSelection(s.index+s.length+1,Se.sources.USER),!1):!0}}}function Hx(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],Se.sources.USER)}}}function P2(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const s=t?"prev":"next",l=n.line,i=l.parent[s];if(i!=null){if(i.statics.blotName==="table-row"){let u=i.children.head,d=l;for(;d.prev!=null;)d=d.prev,u=u.next;const f=u.offset(this.quill.scroll)+Math.min(n.offset,u.length()-1);this.quill.setSelection(f,0,Se.sources.USER)}}else{const u=l.table()[s];u!=null&&(t?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,Se.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,Se.sources.USER))}return!1}}}function Oq(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=xc(t);else return null;return t.shortKey&&(t[Aq]=t.shortKey,delete t.shortKey),t}function R0(t){let{quill:e,range:n}=t;const s=e.getLines(n);let l={};if(s.length>1){const i=s[0].formats(),u=s[s.length-1].formats();l=zs.AttributeMap.diff(u,i)||{}}e.deleteText(n,Se.sources.USER),Object.keys(l).length>0&&e.formatLine(n.index,1,l,Se.sources.USER),e.setSelection(n.index,Se.sources.SILENT)}function Mq(t,e,n,s){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Lq=/font-weight:\s*normal/,_q=["P","OL","UL"],$2=t=>t&&_q.includes(t.tagName),Dq=t=>{Array.from(t.querySelectorAll("br")).filter(e=>$2(e.previousElementSibling)&&$2(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},Pq=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(Lq)}).forEach(e=>{var s;const n=t.createDocumentFragment();n.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(n,e)})};function $q(t){t.querySelector('[id^="docs-internal-guid-"]')&&(Pq(t),Dq(t))}const Iq=/\bmso-list:[^;]*ignore/i,zq=/\bmso-list:[^;]*\bl(\d+)/i,Uq=/\bmso-list:[^;]*\blevel(\d+)/i,Bq=(t,e)=>{const n=t.getAttribute("style"),s=n==null?void 0:n.match(zq);if(!s)return null;const l=Number(s[1]),i=n==null?void 0:n.match(Uq),u=i?Number(i[1]):1,d=new RegExp(`@list l${l}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),f=e.match(d),m=f&&f[1]==="bullet"?"bullet":"ordered";return{id:l,indent:u,type:m,element:t}},qq=t=>{var u,d;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],s=[];e.forEach(f=>{(f.getAttribute("style")||"").match(Iq)?n.push(f):s.push(f)}),n.forEach(f=>{var m;return(m=f.parentNode)==null?void 0:m.removeChild(f)});const l=t.documentElement.innerHTML,i=s.map(f=>Bq(f,l)).filter(f=>f);for(;i.length;){const f=[];let m=i.shift();for(;m;)f.push(m),m=i.length&&((u=i[0])==null?void 0:u.element)===m.element.nextElementSibling&&i[0].id===m.id?i.shift():null;const g=document.createElement("ul");f.forEach(y=>{const N=document.createElement("li");N.setAttribute("data-list",y.type),y.indent>1&&N.setAttribute("class",`ql-indent-${y.indent-1}`),N.innerHTML=y.element.innerHTML,g.appendChild(N)});const x=(d=f[0])==null?void 0:d.element,{parentNode:b}=x??{};x&&(b==null||b.replaceChild(g,x)),f.slice(1).forEach(y=>{let{element:N}=y;b==null||b.removeChild(N)})}};function Fq(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&qq(t)}const Hq=[Fq,$q],Vq=t=>{t.documentElement&&Hq.forEach(e=>{e(t)})},Gq=kl("quill:clipboard"),Yq=[[Node.TEXT_NODE,aF],[Node.TEXT_NODE,z2],["br",Qq],[Node.ELEMENT_NODE,z2],[Node.ELEMENT_NODE,Zq],[Node.ELEMENT_NODE,Xq],[Node.ELEMENT_NODE,rF],["li",tF],["ol, ul",nF],["pre",Jq],["tr",sF],["b",Vx("bold")],["i",Vx("italic")],["strike",Vx("strike")],["style",eF]],Wq=[Sq,WE].reduce((t,e)=>(t[e.keyName]=e,t),{}),I2=[GE,k0,E0,XE,JE,t3].reduce((t,e)=>(t[e.keyName]=e,t),{});class n3 extends pa{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Yq.concat(this.options.matchers??[]).forEach(s=>{let[l,i]=s;this.addMatcher(l,i)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:s}=e,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l[Lr.blotName])return new Qe().insert(s||"",{[Lr.blotName]:l[Lr.blotName]});if(!n)return new Qe().insert(s||"",l);const i=this.convertHTML(n);return Ud(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||l.table)?i.compose(new Qe().retain(i.length()-1).delete(1)):i}normalizeHTML(e){Vq(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const s=n.body,l=new WeakMap,[i,u]=this.prepareMatching(s,l);return O0(this.quill.scroll,s,i,u,l)}dangerouslyPasteHTML(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Se.sources.API;if(typeof e=="string"){const l=this.convert({html:e,text:""});this.quill.setContents(l,n),this.quill.setSelection(0,Se.sources.SILENT)}else{const l=this.convert({html:n,text:""});this.quill.updateContents(new Qe().retain(e).concat(l),s),this.quill.setSelection(e+l.length(),Se.sources.SILENT)}}onCaptureCopy(e){var u,d;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:l,text:i}=this.onCopy(s,n);(u=e.clipboardData)==null||u.setData("text/plain",i),(d=e.clipboardData)==null||d.setData("text/html",l),n&&R0({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var u,d,f,m,g;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=(u=e.clipboardData)==null?void 0:u.getData("text/html");let l=(d=e.clipboardData)==null?void 0:d.getData("text/plain");if(!s&&!l){const x=(f=e.clipboardData)==null?void 0:f.getData("text/uri-list");x&&(l=this.normalizeURIList(x))}const i=Array.from(((m=e.clipboardData)==null?void 0:m.files)||[]);if(!s&&i.length>0){this.quill.uploader.upload(n,i);return}if(s&&i.length>0){const x=new DOMParser().parseFromString(s,"text/html");if(x.body.childElementCount===1&&((g=x.body.firstElementChild)==null?void 0:g.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:s,text:l})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:s,html:l}=n;const i=this.quill.getFormat(e.index),u=this.convert({text:s,html:l},i);Gq.log("onPaste",u,{text:s,html:l});const d=new Qe().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(d,Se.sources.USER),this.quill.setSelection(d.length()-e.length,Se.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const s=[],l=[];return this.matchers.forEach(i=>{const[u,d]=i;switch(u){case Node.TEXT_NODE:l.push(d);break;case Node.ELEMENT_NODE:s.push(d);break;default:Array.from(e.querySelectorAll(u)).forEach(f=>{if(n.has(f)){const m=n.get(f);m==null||m.push(d)}else n.set(f,[d])});break}}),[s,l]}}Pe(n3,"DEFAULTS",{matchers:[]});function wi(t,e,n,s){return s.query(e)?t.reduce((l,i)=>{if(!i.insert)return l;if(i.attributes&&i.attributes[e])return l.push(i);const u=n?{[e]:n}:{};return l.insert(i.insert,{...u,...i.attributes})},new Qe):t}function Ud(t,e){let n="";for(let s=t.ops.length-1;s>=0&&n.length<e.length;--s){const l=t.ops[s];if(typeof l.insert!="string")break;n=l.insert+n}return n.slice(-1*e.length)===e}function ho(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Cs?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function Kq(t,e){return t.previousElementSibling&&t.nextElementSibling&&!ho(t.previousElementSibling,e)&&!ho(t.nextElementSibling,e)}const vh=new WeakMap;function r3(t){return t==null?!1:(vh.has(t)||(t.tagName==="PRE"?vh.set(t,!0):vh.set(t,r3(t.parentNode))),vh.get(t))}function O0(t,e,n,s,l){return e.nodeType===e.TEXT_NODE?s.reduce((i,u)=>u(e,i,t),new Qe):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,u)=>{let d=O0(t,u,n,s,l);return u.nodeType===e.ELEMENT_NODE&&(d=n.reduce((f,m)=>m(u,f,t),d),d=(l.get(u)||[]).reduce((f,m)=>m(u,f,t),d)),i.concat(d)},new Qe):new Qe}function Vx(t){return(e,n,s)=>wi(n,t,!0,s)}function Xq(t,e,n){const s=za.keys(t),l=ha.keys(t),i=So.keys(t),u={};return s.concat(l).concat(i).forEach(d=>{let f=n.query(d,et.ATTRIBUTE);f!=null&&(u[f.attrName]=f.value(t),u[f.attrName])||(f=Wq[d],f!=null&&(f.attrName===d||f.keyName===d)&&(u[f.attrName]=f.value(t)||void 0),f=I2[d],f!=null&&(f.attrName===d||f.keyName===d)&&(f=I2[d],u[f.attrName]=f.value(t)||void 0))}),Object.entries(u).reduce((d,f)=>{let[m,g]=f;return wi(d,m,g,n)},e)}function Zq(t,e,n){const s=n.query(t);if(s==null)return e;if(s.prototype instanceof Cs){const l={},i=s.value(t);if(i!=null)return l[s.blotName]=i,new Qe().insert(l,s.formats(t,n))}else if(s.prototype instanceof vd&&!Ud(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return wi(e,s.blotName,s.formats(t,n),n);return e}function Qq(t,e){return Ud(e,`
`)||e.insert(`
`),e}function Jq(t,e,n){const s=n.query("code-block"),l=s&&"formats"in s&&typeof s.formats=="function"?s.formats(t,n):!0;return wi(e,"code-block",l,n)}function eF(){return new Qe}function tF(t,e,n){const s=n.query(t);if(s==null||s.blotName!=="list"||!Ud(e,`
`))return e;let l=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(l+=1),i=i.parentNode;return l<=0?e:e.reduce((u,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?u.push(d):u.insert(d.insert,{indent:l,...d.attributes||{}}):u,new Qe)}function nF(t,e,n){const s=t;let l=s.tagName==="OL"?"ordered":"bullet";const i=s.getAttribute("data-checked");return i&&(l=i==="true"?"checked":"unchecked"),wi(e,"list",l,n)}function z2(t,e,n){if(!Ud(e,`
`)){if(ho(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let s=t.nextSibling;for(;s!=null;){if(ho(s,n))return e.insert(`
`);const l=n.query(s);if(l&&l.prototype instanceof Is)return e.insert(`
`);s=s.firstChild}}}return e}function rF(t,e,n){var i;const s={},l=t.style||{};return l.fontStyle==="italic"&&(s.italic=!0),l.textDecoration==="underline"&&(s.underline=!0),l.textDecoration==="line-through"&&(s.strike=!0),((i=l.fontWeight)!=null&&i.startsWith("bold")||parseInt(l.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((u,d)=>{let[f,m]=d;return wi(u,f,m,n)},e),parseFloat(l.textIndent||0)>0?new Qe().insert("	").concat(e):e}function sF(t,e,n){var l,i;const s=((l=t.parentElement)==null?void 0:l.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(s!=null){const d=Array.from(s.querySelectorAll("tr")).indexOf(t)+1;return wi(e,"table",d,n)}return e}function aF(t,e,n){var l;let s=t.data;if(((l=t.parentElement)==null?void 0:l.tagName)==="O:P")return e.insert(s.trim());if(!r3(t)){if(s.trim().length===0&&s.includes(`
`)&&!Kq(t,n))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&ho(t.parentElement,n)||t.previousSibling instanceof Element&&ho(t.previousSibling,n))&&(s=s.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&ho(t.parentElement,n)||t.nextSibling instanceof Element&&ho(t.nextSibling,n))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return e.insert(s)}class s3 extends pa{constructor(n,s){super(n,s);Pe(this,"lastRecorded",0);Pe(this,"ignoreChange",!1);Pe(this,"stack",{undo:[],redo:[]});Pe(this,"currentRange",null);this.quill.on(Se.events.EDITOR_CHANGE,(l,i,u,d)=>{l===Se.events.SELECTION_CHANGE?i&&d!==Se.sources.SILENT&&(this.currentRange=i):l===Se.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||d===Se.sources.USER?this.record(i,u):this.transform(i)),this.currentRange=Zb(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",l=>{l.inputType==="historyUndo"?(this.undo(),l.preventDefault()):l.inputType==="historyRedo"&&(this.redo(),l.preventDefault())})}change(n,s){if(this.stack[n].length===0)return;const l=this.stack[n].pop();if(!l)return;const i=this.quill.getContents(),u=l.delta.invert(i);this.stack[s].push({delta:u,range:Zb(l.range,u)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(l.delta,Se.sources.USER),this.ignoreChange=!1,this.restoreSelection(l)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,s){if(n.ops.length===0)return;this.stack.redo=[];let l=n.invert(s),i=this.currentRange;const u=Date.now();if(this.lastRecorded+this.options.delay>u&&this.stack.undo.length>0){const d=this.stack.undo.pop();d&&(l=l.compose(d.delta),i=d.range)}else this.lastRecorded=u;l.length()!==0&&(this.stack.undo.push({delta:l,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){U2(this.stack.undo,n),U2(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,Se.sources.USER);else{const s=oF(this.quill.scroll,n.delta);this.quill.setSelection(s,Se.sources.USER)}}}Pe(s3,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function U2(t,e){let n=e;for(let s=t.length-1;s>=0;s-=1){const l=t[s];t[s]={delta:n.transform(l.delta,!0),range:l.range&&Zb(l.range,n)},n=l.delta.transform(n),t[s].delta.length()===0&&t.splice(s,1)}}function lF(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>t.query(s,et.BLOCK)!=null):!1}function oF(t,e){const n=e.reduce((l,i)=>l+(i.delete||0),0);let s=e.length()-n;return lF(t,e)&&(s-=1),s}function Zb(t,e){if(!t)return t;const n=e.transformPosition(t.index),s=e.transformPosition(t.index+t.length);return{index:n,length:s-n}}class a3 extends pa{constructor(e,n){super(e,n),e.root.addEventListener("drop",s=>{var u;s.preventDefault();let l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const d=document.caretPositionFromPoint(s.clientX,s.clientY);l=document.createRange(),l.setStart(d.offsetNode,d.offset),l.setEnd(d.offsetNode,d.offset)}const i=l&&e.selection.normalizeNative(l);if(i){const d=e.selection.normalizedToRange(i);(u=s.dataTransfer)!=null&&u.files&&this.upload(d,s.dataTransfer.files)}})}upload(e,n){const s=[];Array.from(n).forEach(l=>{var i;l&&((i=this.options.mimetypes)!=null&&i.includes(l.type))&&s.push(l)}),s.length>0&&this.options.handler.call(this,e,s)}}a3.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(s=>new Promise(l=>{const i=new FileReader;i.onload=()=>{l(i.result)},i.readAsDataURL(s)}));Promise.all(n).then(s=>{const l=s.reduce((i,u)=>i.insert({image:u}),new Qe().retain(t.index).delete(t.length));this.quill.updateContents(l,He.sources.USER),this.quill.setSelection(t.index+s.length,He.sources.SILENT)})}};const iF=["insertText","insertReplacementText"];let cF=class extends pa{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(Se.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){R0({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Qe().retain(e.index).insert(n,s),Se.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,Se.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!iF.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=uF(e);if(s==null)return;const l=this.quill.selection.normalizeNative(n),i=l?this.quill.selection.normalizedToRange(l):null;i&&this.replaceText(i,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}};function uF(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const dF=/Mac/i.test(navigator.platform),fF=100,hF=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||dF&&t.key==="a"&&t.ctrlKey===!0);class mF extends pa{constructor(n,s){super(n,s);Pe(this,"isListening",!1);Pe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,s){let{line:l,event:i}=s;if(!(l instanceof sa)||!l.uiNode)return!0;const u=getComputedStyle(l.domNode).direction==="rtl";return u&&i.key!=="ArrowRight"||!u&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),Se.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&hF(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+fF,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const s=n.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const l=this.quill.scroll.find(s.startContainer);if(!(l instanceof sa)||!l.uiNode)return;const i=document.createRange();i.setStartAfter(l.uiNode),i.setEndAfter(l.uiNode),n.removeAllRanges(),n.addRange(i)}}Se.register({"blots/block":Sr,"blots/block/embed":Is,"blots/break":ma,"blots/container":vi,"blots/cursor":Oc,"blots/embed":S0,"blots/inline":Ua,"blots/scroll":hc,"blots/text":oa,"modules/clipboard":n3,"modules/history":s3,"modules/keyboard":Xm,"modules/uploader":a3,"modules/input":cF,"modules/uiNode":mF});class pF extends ha{add(e,n){let s=0;if(n==="+1"||n==="-1"){const l=this.value(e)||0;s=n==="+1"?l+1:l-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const gF=new pF("indent","ql-indent",{scope:et.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Qb extends Sr{}Pe(Qb,"blotName","blockquote"),Pe(Qb,"tagName","blockquote");class Jb extends Sr{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Pe(Jb,"blotName","header"),Pe(Jb,"tagName",["H1","H2","H3","H4","H5","H6"]);class Bd extends vi{}Bd.blotName="list-container";Bd.tagName="OL";class qd extends Sr{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Se.register(Bd)}constructor(e,n){super(e,n);const s=n.ownerDocument.createElement("span"),l=i=>{if(!e.isEnabled())return;const u=this.statics.formats(n,e);u==="checked"?(this.format("list","unchecked"),i.preventDefault()):u==="unchecked"&&(this.format("list","checked"),i.preventDefault())};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l),this.attachUI(s)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}qd.blotName="list";qd.tagName="LI";Bd.allowedChildren=[qd];qd.requiredContainer=Bd;class wd extends Ua{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Pe(wd,"blotName","bold"),Pe(wd,"tagName",["STRONG","B"]);class ev extends wd{}Pe(ev,"blotName","italic"),Pe(ev,"tagName",["EM","I"]);class mo extends Ua{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return l3(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}Pe(mo,"blotName","link"),Pe(mo,"tagName","A"),Pe(mo,"SANITIZED_URL","about:blank"),Pe(mo,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function l3(t,e){const n=document.createElement("a");n.href=t;const s=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(s)>-1}class tv extends Ua{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Pe(tv,"blotName","script"),Pe(tv,"tagName",["SUB","SUP"]);class nv extends wd{}Pe(nv,"blotName","strike"),Pe(nv,"tagName",["S","STRIKE"]);class rv extends Ua{}Pe(rv,"blotName","underline"),Pe(rv,"tagName","U");class _h extends S0{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Pe(_h,"blotName","formula"),Pe(_h,"className","ql-formula"),Pe(_h,"tagName","SPAN");const B2=["alt","height","width"];var Ch;let xF=(Ch=class extends Cs{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return B2.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return l3(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){B2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}},Pe(Ch,"blotName","image"),Pe(Ch,"tagName","IMG"),Ch);const q2=["height","width"];class Dh extends Is{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return q2.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static sanitize(e){return mo.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){q2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Pe(Dh,"blotName","video"),Pe(Dh,"className","ql-video"),Pe(Dh,"tagName","IFRAME");const Xu=new ha("code-token","hljs",{scope:et.INLINE});class wl extends Ua{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Lr.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,s){super(e,n,s),Xu.add(this.domNode,s)}format(e,n){e!==wl.blotName?super.format(e,n):n?Xu.add(this.domNode,n):(Xu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Xu.value(this.domNode)||this.unwrap()}}wl.blotName="code-token";wl.className="ql-token";class $s extends Lr{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),wl.blotName,!1),super.replaceWith(e,n)}}class td extends yi{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===$s.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,n)}))}formatAt(e,n,s,l){s===$s.blotName&&(this.forceNext=!0),super.formatAt(e,n,s,l)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const l=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,i=$s.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==l){if(l.trim().length>0||this.cachedText==null){const u=this.children.reduce((f,m)=>f.concat(FE(m,!1)),new Qe),d=e(l,i);u.diff(d).reduce((f,m)=>{let{retain:g,attributes:x}=m;return g?(x&&Object.keys(x).forEach(b=>{[$s.blotName,wl.blotName].includes(b)&&this.formatAt(f,g,b,x[b])}),f+g):f},0)}this.cachedText=l,this.forceNext=!1}}html(e,n){const[s]=this.children.find(e);return`<pre data-language="${s?$s.formats(s.domNode):"plain"}">
${Km(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=$s.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}td.allowedChildren=[$s];$s.requiredContainer=td;$s.allowedChildren=[wl,Oc,oa,ma];const bF=(t,e,n)=>{if(typeof t.versionString=="string"){const s=t.versionString.split(".")[0];if(parseInt(s,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class o3 extends pa{static register(){Se.register(wl,!0),Se.register($s,!0),Se.register(td,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,l)=>{let{key:i}=l;return s[i]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Se.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof td))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:l,label:i}=s;const u=n.ownerDocument.createElement("option");u.textContent=i,u.setAttribute("value",l),n.appendChild(u)}),n.addEventListener("change",()=>{e.format($s.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=$s.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Se.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Se.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(td):[e]).forEach(i=>{i.highlight(this.highlightBlot,n)}),this.quill.update(Se.sources.SILENT),s!=null&&this.quill.setSelection(s,Se.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Km(e).split(`
`).reduce((l,i,u)=>(u!==0&&l.insert(`
`,{[Lr.blotName]:n}),l.insert(i)),new Qe);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Lr.className),s.innerHTML=bF(this.options.hljs,n,e),O0(this.quill.scroll,s,[(l,i)=>{const u=Xu.value(l);return u?i.compose(new Qe().retain(i.length(),{[wl.blotName]:u})):i}],[(l,i)=>l.data.split(`
`).reduce((u,d,f)=>(f!==0&&u.insert(`
`,{[Lr.blotName]:n}),u.insert(d)),i)],new WeakMap)}}o3.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const rd=class rd extends Sr{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",M0()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===rd.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Pe(rd,"blotName","table"),Pe(rd,"tagName","TD");let na=rd;class Nl extends vi{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),l=this.next.children.tail.formats();return e.table===n.table&&e.table===s.table&&e.table===l.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),l=n.next.formats();if(s.table!==l.table){const i=this.splitAfter(n);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Pe(Nl,"blotName","table-row"),Pe(Nl,"tagName","TR");class Pa extends vi{}Pe(Pa,"blotName","table-body"),Pe(Pa,"tagName","TBODY");class Lc extends vi{balanceCells(){const e=this.descendants(Nl),n=e.reduce((s,l)=>Math.max(l.children.length,s),0);e.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let l;s.children.head!=null&&(l=na.formats(s.children.head.domNode));const i=this.scroll.create(na.blotName,l);s.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Pa);n==null||n.children.head==null||n.children.forEach(s=>{const l=s.children.at(e);l!=null&&l.remove()})}insertColumn(e){const[n]=this.descendant(Pa);n==null||n.children.head==null||n.children.forEach(s=>{const l=s.children.at(e),i=na.formats(s.children.head.domNode),u=this.scroll.create(na.blotName,i);s.insertBefore(u,l)})}insertRow(e){const[n]=this.descendant(Pa);if(n==null||n.children.head==null)return;const s=M0(),l=this.scroll.create(Nl.blotName);n.children.head.children.forEach(()=>{const u=this.scroll.create(na.blotName,s);l.appendChild(u)});const i=n.children.at(e);n.insertBefore(l,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}Pe(Lc,"blotName","table-container"),Pe(Lc,"tagName","TABLE");Lc.allowedChildren=[Pa];Pa.requiredContainer=Lc;Pa.allowedChildren=[Nl];Nl.requiredContainer=Pa;Nl.allowedChildren=[na];na.requiredContainer=Nl;function M0(){return`row-${Math.random().toString(36).slice(2,6)}`}class vF extends pa{static register(){Se.register(na),Se.register(Nl),Se.register(Pa),Se.register(Lc)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Lc).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(Se.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Se.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(Se.sources.USER),this.quill.setSelection(n,Se.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==na.blotName)return[null,null,null,-1];const l=n.parent;return[l.parent.parent,l,n,s]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[s,l,i]=this.getTable(n);if(i==null)return;const u=i.cellOffset();s.insertColumn(u+e),this.quill.update(Se.sources.USER);let d=l.rowOffset();e===0&&(d+=1),this.quill.setSelection(n.index+d,n.length,Se.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[s,l,i]=this.getTable(n);if(i==null)return;const u=l.rowOffset();s.insertRow(u+e),this.quill.update(Se.sources.USER),e>0?this.quill.setSelection(n,Se.sources.SILENT):this.quill.setSelection(n.index+l.children.length,n.length,Se.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const s=this.quill.getSelection();if(s==null)return;const l=new Array(e).fill(0).reduce(i=>{const u=new Array(n).fill(`
`).join("");return i.insert(u,{table:M0()})},new Qe().retain(s.index));this.quill.updateContents(l,Se.sources.USER),this.quill.setSelection(s.index,Se.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Se.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(Se.events.TEXT_CHANGE,(s,l,i)=>{i===Se.sources.USER&&this.balanceTables()}),!0):!1)})}}const F2=kl("quill:toolbar");class L0 extends pa{constructor(e,n){var s,l;if(super(e,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),yF(i,this.options.container),(l=(s=e.container)==null?void 0:s.parentNode)==null||l.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){F2.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var d;const u=(d=this.options.handlers)==null?void 0:d[i];u&&this.addHandler(i,u)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(Se.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(l=>l.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){F2.warn("ignoring attaching to nonexistent format",n,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,l=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const d=e.options[e.selectedIndex];d.hasAttribute("selected")?i=!1:i=d.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),l.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof Cs){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new Qe().retain(u.index).delete(u.length).insert({[n]:i}),Se.sources.USER)}else this.quill.format(n,i,Se.sources.USER);this.update(u)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[l,i]=s;if(i.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(n[l]==null)u=i.querySelector("option[selected]");else if(!Array.isArray(n[l])){let d=n[l];typeof d=="string"&&(d=d.replace(/"/g,'\\"')),u=i.querySelector(`option[value="${d}"]`)}u==null?(i.value="",i.selectedIndex=-1):u.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const u=n[l],d=u===i.getAttribute("value")||u!=null&&u.toString()===i.getAttribute("value")||u==null&&!i.getAttribute("value");i.classList.toggle("ql-active",d),i.setAttribute("aria-pressed",d.toString())}else{const u=n[l]!=null;i.classList.toggle("ql-active",u),i.setAttribute("aria-pressed",u.toString())}})}}L0.DEFAULTS={};function H2(t,e,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${e}: ${n}`)):s.setAttribute("aria-label",e),t.appendChild(s)}function yF(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(l=>{if(typeof l=="string")H2(s,l);else{const i=Object.keys(l)[0],u=l[i];Array.isArray(u)?wF(s,i,u):H2(s,i,u)}}),t.appendChild(s)})}function wF(t,e,n){const s=document.createElement("select");s.classList.add(`ql-${e}`),n.forEach(l=>{const i=document.createElement("option");l!==!1?i.setAttribute("value",String(l)):i.setAttribute("selected","selected"),s.appendChild(i)}),t.appendChild(s)}L0.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,et.INLINE)!=null&&this.quill.format(n,!1,Se.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Se.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Se.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Se.sources.USER),this.quill.format("direction",t,Se.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),s=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let l=t==="+1"?1:-1;n.direction==="rtl"&&(l*=-1),this.quill.format("indent",s+l,Se.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Se.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,Se.sources.USER):this.quill.format("list","unchecked",Se.sources.USER):this.quill.format("list",t,Se.sources.USER)}}};const NF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',jF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',SF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',CF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',EF='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',kF='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',TF='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',AF='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',V2='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',RF='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',OF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',MF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',LF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',_F='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',DF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',PF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$F='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',IF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',UF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',BF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',qF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',FF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',HF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',VF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',GF='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',YF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',WF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',KF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',XF='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',ZF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',QF='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',JF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Nd={align:{"":NF,center:jF,right:SF,justify:CF},background:EF,blockquote:kF,bold:TF,clean:AF,code:V2,"code-block":V2,color:RF,direction:{"":OF,rtl:MF},formula:LF,header:{1:_F,2:DF,3:PF,4:$F,5:IF,6:zF},italic:UF,image:BF,indent:{"+1":qF,"-1":FF},link:HF,list:{bullet:VF,check:GF,ordered:YF},script:{sub:WF,super:KF},strike:XF,table:ZF,underline:QF,video:JF},eH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let G2=0;function Y2(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Zm{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Y2(this.label,"aria-expanded"),Y2(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&n.setAttribute("data-value",s),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",l=>{switch(l.key){case"Enter":this.selectItem(n,!0),l.preventDefault();break;case"Escape":this.escape(),l.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=eH,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${G2}`,G2+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);e.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class i3 extends Zm{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const s=this.label.querySelector(".ql-color-label"),l=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=l:s.style.fill=l)}}class c3 extends Zm{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const tH=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class u3{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,tH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const l=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let u=0;if(i.right>l.right&&(u=l.right-i.right,this.root.style.left=`${n+u}px`),i.left<l.left&&(u=l.left-i.left,this.root.style.left=`${n+u}px`),i.bottom>l.bottom){const d=i.bottom-i.top,f=e.bottom-e.top+d;this.root.style.top=`${s-f}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const nH=[!1,"center","right","justify"],rH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],sH=[!1,"serif","monospace"],aH=["1","2","3",!1],lH=["small",!1,"large","huge"];class Fd extends Mc{constructor(e,n){super(e,n);const s=l=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(l.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(l.target)||i.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")s.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")s.innerHTML=n[i];else{const u=s.value||"";u!=null&&n[i][u]&&(s.innerHTML=n[i][u])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(l=>{if(l.classList.contains("ql-align")&&(l.querySelector("option")==null&&Iu(l,nH),typeof n.align=="object"))return new c3(l,n.align);if(l.classList.contains("ql-background")||l.classList.contains("ql-color")){const i=l.classList.contains("ql-background")?"background":"color";return l.querySelector("option")==null&&Iu(l,rH,i==="background"?"#ffffff":"#000000"),new i3(l,n[i])}return l.querySelector("option")==null&&(l.classList.contains("ql-font")?Iu(l,sH):l.classList.contains("ql-header")?Iu(l,aH):l.classList.contains("ql-size")&&Iu(l,lH)),new Zm(l)});const s=()=>{this.pickers.forEach(l=>{l.update()})};this.quill.on(He.events.EDITOR_CHANGE,s)}}Fd.DEFAULTS=go({},Mc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class d3 extends u3{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,He.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,He.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=oH(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,He.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",He.sources.USER),this.quill.setSelection(s+2,He.sources.USER)}break}}this.textbox.value="",this.hide()}}function oH(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Iu(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const l=document.createElement("option");s===n?l.setAttribute("selected","selected"):l.setAttribute("value",String(s)),t.appendChild(l)})}const iH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class f3 extends d3{constructor(e,n){super(e,n),this.quill.on(He.events.EDITOR_CHANGE,(s,l,i,u)=>{if(s===He.events.SELECTION_CHANGE)if(l!=null&&l.length>0&&u===He.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const d=this.quill.getLines(l.index,l.length);if(d.length===1){const f=this.quill.getBounds(l);f!=null&&this.position(f)}else{const f=d[d.length-1],m=this.quill.getIndex(f),g=Math.min(f.length()-1,l.index+l.length-m),x=this.quill.getBounds(new oi(m,g));x!=null&&this.position(x)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(He.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}Pe(f3,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class h3 extends Fd{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=iH),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new f3(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Nd),this.buildPickers(e.container.querySelectorAll("select"),Nd))}}h3.DEFAULTS=go({},Fd.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Se.sources.USER)}}}}});const cH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class m3 extends d3{constructor(){super(...arguments);Pe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,He.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(He.events.SELECTION_CHANGE,(n,s,l)=>{if(n!=null){if(n.length===0&&l===He.sources.USER){const[i,u]=this.quill.scroll.descendant(mo,n.index);if(i!=null){this.linkRange=new oi(n.index-u,i.length());const d=mo.formats(i.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Pe(m3,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class p3 extends Fd{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=cH),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Nd),this.buildPickers(e.container.querySelectorAll("select"),Nd),this.tooltip=new m3(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{e.handlers.link.call(e,!s.format.link)}))}}p3.DEFAULTS=go({},Fd.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1,Se.sources.USER)}}}}});Se.register({"attributors/attribute/direction":WE,"attributors/class/align":VE,"attributors/class/background":Eq,"attributors/class/color":Cq,"attributors/class/direction":KE,"attributors/class/font":QE,"attributors/class/size":e3,"attributors/style/align":GE,"attributors/style/background":k0,"attributors/style/color":E0,"attributors/style/direction":XE,"attributors/style/font":JE,"attributors/style/size":t3},!0);Se.register({"formats/align":VE,"formats/direction":KE,"formats/indent":gF,"formats/background":k0,"formats/color":E0,"formats/font":QE,"formats/size":e3,"formats/blockquote":Qb,"formats/code-block":Lr,"formats/header":Jb,"formats/list":qd,"formats/bold":wd,"formats/code":T0,"formats/italic":ev,"formats/link":mo,"formats/script":tv,"formats/strike":nv,"formats/underline":rv,"formats/formula":_h,"formats/image":xF,"formats/video":Dh,"modules/syntax":o3,"modules/table":vF,"modules/toolbar":L0,"themes/bubble":h3,"themes/snow":p3,"ui/icons":Nd,"ui/picker":Zm,"ui/icon-picker":c3,"ui/color-picker":i3,"ui/tooltip":u3},!0);function uH(){const[t,e]=p.useState({title:"",content:"",file:null,type:"",tags:["All"]}),{user:n}=Nt(),[s,l]=p.useState(""),[i,u]=p.useState(!1),[d,f]=p.useState(!1),[m,g]=p.useState(null),x=Je(),b=p.useRef(null),y=p.useRef(null),{showToast:N}=Mn();p.useEffect(()=>{if(y.current&&!b.current){const _=[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["link"],["clean"]];b.current=new Se(y.current,{theme:"snow",placeholder:"Share your thoughts with the community...",modules:{toolbar:{container:_}}}),b.current.on("text-change",()=>{const L=b.current.root.innerHTML;e(O=>({...O,content:L}))});const E=y.current.parentNode.querySelector(".ql-toolbar");E&&E.classList.add("flex","flex-wrap","justify-center","gap-2","p-3","rounded-lg","bg-card-theme","border","border-theme","mb-3")}},[]),p.useEffect(()=>{const _=localStorage.getItem("theme");f(_==="dark"),_==="dark"&&document.documentElement.classList.add("dark")},[]);const j=_=>{f(_),_?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},S=_=>{const E=_.target.files[0];if(!E)return;const L=E.type.startsWith("video/")?"video":E.type.startsWith("image/")?"image":"unknown";e(O=>({...O,file:E,type:L})),g(URL.createObjectURL(E))},C=()=>{e(_=>({..._,file:null,type:""})),m&&URL.revokeObjectURL(m),g(null)},T=_=>{e(E=>{const L=E.tags.includes(_)?E.tags.filter(A=>A!==_):[...E.tags,_],O=Array.from(new Set(["All",...L]));return O.length>5?E:{...E,tags:O}})};async function k(_){if(_.preventDefault(),!b.current){l("Editor not initialized");return}l(""),u(!0);const E=new FormData;E.append("title",t.title),E.append("content",t.content),E.append("tags",JSON.stringify(t.tags)),t.file&&(E.append("file",t.file),E.append("type",t.type));try{const L=await fetch("https://fanhub-server.onrender.com/api/tweets/create",{method:"POST",body:E,credentials:"include"}),O=await L.json();if(L.status===500){x("/error",{state:{message:O.message||"Process failed"}});return}else if(!L.ok){l(O.message);return}const A=await fetch(`https://fanhub-server.onrender.com/api/users/${n.id}/social/writingpoint`,{method:"POST",credentials:"include"});if(!A.ok){const M=await A.json();l(M.message||"Failed to update points")}N("Tweet created!","success"),x("/tweets")}catch{x("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{u(!1)}}return r.jsxs("div",{className:"min-h-screen bg-theme",children:[r.jsx(Jt,{user:n,darkMode:d,setDarkMode:j}),r.jsx("div",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("header",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>x("/tweets"),className:"inline-flex items-center gap-2 text-secondary hover:text-theme transition-colors mb-4","aria-label":"Back to community",children:[r.jsx($c,{className:"w-4 h-4","aria-hidden":"true"}),"Back to Community"]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-[#2563eb]/10 rounded-lg",children:r.jsx(mn,{className:"w-8 h-8 text-[#2563eb]","aria-hidden":"true"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text flex items-center gap-3",children:"Create Tweet"}),r.jsxs("p",{className:"text-secondary text-sm sm:text-base mt-2 flex items-center gap-2",children:[r.jsx(Ra,{className:"w-4 h-4 text-accent"}),"Share your voice with the community"]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[s&&r.jsx("div",{className:"card bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",role:"alert","aria-live":"polite",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nc,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:s})]})}),r.jsx("div",{className:"card",children:r.jsxs("label",{htmlFor:"tweet-title",className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(mn,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Tweet Title ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("input",{id:"tweet-title",type:"text",name:"title",value:t.title,onChange:_=>e(E=>({...E,title:_.target.value})),placeholder:"Give your tweet a catchy title...",className:"w-full px-4 py-3 rounded-lg text-lg focus:outline-none",required:!0,"aria-required":"true"})]})}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(mn,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Tweet Content ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("div",{className:"quill-container",children:r.jsx("div",{ref:y,className:"min-h-[350px] sm:min-h-[400px]","aria-label":"Tweet content editor"})}),r.jsxs("div",{className:"mt-4 text-xs sm:text-sm text-secondary bg-secondary/10 p-3 rounded-lg flex items-start gap-2",children:[r.jsx(Hh,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Tip:"})," Use formatting tools to make your tweet stand out. Bold for emphasis, lists for clarity!"]})]})]}),r.jsx("div",{className:"card",children:r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Sc,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsx("span",{className:"text-theme font-semibold text-lg",children:"Media (Optional)"})]}),t.file?r.jsxs("div",{className:"relative rounded-xl overflow-hidden border-2 border-theme",children:[t.type==="image"?r.jsx("img",{src:m,alt:"Preview",className:"w-full h-64 object-cover"}):r.jsx("video",{src:m,controls:!0,className:"w-full h-64"}),r.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 rounded-full transition-all duration-300 shadow-lg",children:r.jsx(On,{className:"w-5 h-5 text-white"})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("label",{className:"image-upload-label cursor-pointer rounded-xl p-6 border-2 border-dashed transition-all duration-300 hover:scale-105",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"upload-icon-wrapper p-3 rounded-full",children:r.jsx(Sc,{className:"upload-icon w-8 h-8"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground-color)"},children:"Upload Image"}),r.jsx("p",{className:"text-xs text-secondary",children:"PNG, JPG, GIF"})]})]})]}),r.jsxs("label",{className:"video-upload-label cursor-pointer rounded-xl p-6 border-2 border-dashed transition-all duration-300 hover:scale-105",children:[r.jsx("input",{type:"file",accept:"video/*",onChange:S,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"video-icon-wrapper p-3 rounded-full",children:r.jsx(Fs,{className:"video-icon w-8 h-8"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground-color)"},children:"Upload Video"}),r.jsx("p",{className:"text-xs text-secondary",children:"MP4, WebM, MOV"})]})]})]})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(_v,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsx("span",{className:"text-theme font-semibold text-lg",children:"Tags (Select up to 5)"})]}),r.jsxs("div",{className:"genre-select-wrapper rounded-xl p-4 border-2",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:m0.map(_=>r.jsx("button",{type:"button",onClick:()=>T(_),disabled:_==="All",className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t.tags.includes(_)?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg scale-105":"border-2 hover:scale-105"}`,style:{borderColor:t.tags.includes(_)?"transparent":"var(--border-color)",backgroundColor:t.tags.includes(_)?void 0:"var(--card-bg)",color:t.tags.includes(_)?void 0:"var(--foreground-color)"},children:_},_))}),r.jsxs("p",{className:"text-xs text-secondary mt-3",children:["Selected: ",t.tags.length,"/5"]})]})]})}),r.jsx("div",{className:"card",children:r.jsx("button",{type:"button",onClick:k,disabled:i||!t.title.trim(),className:"w-full btn py-4 text-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(vC,{className:"w-5 h-5","aria-hidden":"true"}),"Create Tweet"]})})})]})]})})]})}function dH(){const[t,e]=p.useState({title:"",content:"",file:null,type:"",tags:[]}),{id:n}=ln(),{user:s}=Nt(),[l,i]=p.useState(""),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[g,x]=p.useState(null),[b,y]=p.useState(!0),[N,j]=p.useState(null),[S,C]=p.useState(""),T=Je(),k=p.useRef(null),_=p.useRef(null),{showToast:E}=Mn();p.useEffect(()=>{let P=!0;async function U(){i(""),y(!0);try{const I=await fetch(`https://fanhub-server.onrender.com/api/tweets/${n}/tweet`,{method:"GET",credentials:"include"}),z=await I.json();if(!P)return;if(I.status===500){T("/error",{state:{message:z.message||"Process failed"}});return}else if(!I.ok){i(z.message),y(!1);return}x(z.tweet),C(z.tweet.content||""),P&&y(!1)}catch{P&&T("/error",{state:{message:"Network error: Please check your connection."}})}}return U(),()=>{P=!1}},[n,T]),p.useEffect(()=>{if(!_.current||k.current||b)return;const P=[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["link"],["clean"]],U=new Se(_.current,{theme:"snow",placeholder:"Update your tweet content...",modules:{toolbar:{container:P}}});k.current=U,U.on("text-change",()=>{const z=U.root.innerHTML;e(G=>({...G,content:z}))});const I=_.current.parentNode.querySelector(".ql-toolbar");return I&&I.classList.add("flex","flex-wrap","justify-center","gap-2","p-3","rounded-lg","bg-card-theme","border","border-theme","mb-3"),S&&(U.root.innerHTML=S),()=>{k.current&&(k.current=null)}},[b,S]),p.useEffect(()=>{g&&(e({title:g.title||"",content:g.content||"",file:g.media||null,type:g.type||"",tags:g.tags||[]}),g.media&&j(g.media))},[g]),p.useEffect(()=>{const P=localStorage.getItem("theme");m(P==="dark"),P==="dark"&&document.documentElement.classList.add("dark")},[]);const L=P=>{m(P),P?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},O=P=>{const U=P.target.files[0];if(!U)return;const I=U.type.startsWith("video/")?"video":U.type.startsWith("image/")?"image":"unknown";e(z=>({...z,file:U,type:I})),j(URL.createObjectURL(U))},A=()=>{e(P=>({...P,file:null,type:""})),N&&N.startsWith("blob:")&&URL.revokeObjectURL(N),j(null)},M=P=>{e(U=>{const I=U.tags.includes(P)?U.tags.filter(z=>z!==P):[...U.tags,P];return I.length>5?U:{...U,tags:I}})};async function B(P){if(P.preventDefault(),!k.current){i("Editor not initialized");return}i(""),d(!0);const U=new FormData;U.append("title",t.title),U.append("content",t.content),U.append("tags",JSON.stringify(t.tags)),t.file&&t.file instanceof File&&(U.append("file",t.file),U.append("type",t.type));try{const I=await fetch(`https://fanhub-server.onrender.com/api/tweets/${n}/update`,{method:"POST",body:U,credentials:"include"}),z=await I.json();if(I.status===500){T("/error",{state:{message:z.message||"Process failed"}});return}else if(!I.ok){i(z.message);return}E("Tweet updated!","success"),T(`/profile/${s.username}/${s.id}/about`)}catch{T("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}return r.jsxs("div",{className:"min-h-screen bg-theme",children:[r.jsx(Jt,{user:s,darkMode:f,setDarkMode:L}),r.jsx("div",{className:"pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>T("/tweets"),className:"inline-flex items-center gap-2 text-secondary hover:text-theme transition-colors mb-4","aria-label":"Back to community",children:[r.jsx($c,{className:"w-4 h-4","aria-hidden":"true"}),"Back to Community"]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-[#2563eb]/10 rounded-lg",children:r.jsx(mn,{className:"w-8 h-8 text-[#2563eb]","aria-hidden":"true"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-theme",children:"Update Tweet"}),r.jsx("p",{className:"text-secondary mt-2",children:"Edit your tweet and share the updated version"})]})]})]}),b?r.jsx("div",{className:"card py-16 text-center",role:"status","aria-live":"polite",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(vt,{className:"w-16 h-16 text-[#2563eb] animate-spin","aria-hidden":"true"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-theme text-lg font-medium mb-1",children:"Loading tweet..."}),r.jsx("p",{className:"text-secondary text-sm",children:"Please wait while we fetch your content"})]})]})}):g?r.jsxs("div",{className:"space-y-6",children:[l&&r.jsx("div",{className:"card bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",role:"alert","aria-live":"polite",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nc,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:l})]})}),r.jsx("div",{className:"card",children:r.jsxs("label",{htmlFor:"tweet-title",className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(mn,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Tweet Title ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("input",{id:"tweet-title",type:"text",name:"title",value:t.title,onChange:P=>e(U=>({...U,title:P.target.value})),placeholder:"Update your tweet title...",className:"w-full px-4 py-3 rounded-lg text-lg focus:outline-none",required:!0,"aria-required":"true"})]})}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(mn,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Tweet Content ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("div",{className:"quill-container",children:r.jsx("div",{ref:_,className:"min-h-[350px] sm:min-h-[400px]","aria-label":"Tweet content editor"})}),r.jsxs("div",{className:"mt-4 text-xs sm:text-sm text-secondary bg-secondary/10 p-3 rounded-lg flex items-start gap-2",children:[r.jsx(Hh,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Tip:"})," Make your updates clear and engaging. Use formatting to emphasize key points!"]})]})]}),r.jsx("div",{className:"card",children:r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Sc,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsx("span",{className:"text-theme font-semibold text-lg",children:"Media (Optional)"})]}),!t.file||typeof t.file=="string"&&!N?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("label",{className:"image-upload-label cursor-pointer rounded-xl p-6 border-2 border-dashed transition-all duration-300 hover:scale-105",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"upload-icon-wrapper p-3 rounded-full",children:r.jsx(Sc,{className:"upload-icon w-8 h-8"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground-color)"},children:"Upload Image"}),r.jsx("p",{className:"text-xs text-secondary",children:"PNG, JPG, GIF"})]})]})]}),r.jsxs("label",{className:"video-upload-label cursor-pointer rounded-xl p-6 border-2 border-dashed transition-all duration-300 hover:scale-105",children:[r.jsx("input",{type:"file",accept:"video/*",onChange:O,className:"hidden"}),r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"video-icon-wrapper p-3 rounded-full",children:r.jsx(Fs,{className:"video-icon w-8 h-8"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground-color)"},children:"Upload Video"}),r.jsx("p",{className:"text-xs text-secondary",children:"MP4, WebM, MOV"})]})]})]})]}):r.jsxs("div",{className:"relative rounded-xl overflow-hidden border-2 border-theme",children:[t.type==="image"||typeof t.file=="string"&&!t.type?r.jsx("img",{src:N||t.file,alt:"Preview",className:"w-full h-64 object-cover"}):t.type==="video"?r.jsx("video",{src:N||t.file,controls:!0,className:"w-full h-64"}):null,r.jsx("button",{type:"button",onClick:A,className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 rounded-full transition-all duration-300 shadow-lg","aria-label":"Remove media",children:r.jsx(On,{className:"w-5 h-5 text-white"})})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("label",{className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(_v,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsx("span",{className:"text-theme font-semibold text-lg",children:"Tags (Select up to 5)"})]}),r.jsxs("div",{className:"genre-select-wrapper rounded-xl p-4 border-2",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:m0.map(P=>r.jsx("button",{type:"button",onClick:()=>M(P),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t.tags.includes(P)?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg scale-105":"border-2 hover:scale-105"}`,style:{borderColor:t.tags.includes(P)?"transparent":"var(--border-color)",backgroundColor:t.tags.includes(P)?void 0:"var(--card-bg)",color:t.tags.includes(P)?void 0:"var(--foreground-color)"},children:P},P))}),r.jsxs("p",{className:"text-xs text-secondary mt-3",children:["Selected: ",t.tags.length,"/5"]})]})]})}),r.jsxs("div",{className:"card",children:[r.jsx("button",{type:"button",onClick:B,disabled:u||!t.title.trim(),className:"w-full btn py-4 text-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:u?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(vC,{className:"w-5 h-5","aria-hidden":"true"}),"Update Tweet"]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Your updated tweet will be visible to all community members immediately."})})]}),r.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800",children:[r.jsxs("h3",{className:"font-semibold text-theme text-lg mb-3 flex items-center gap-2",children:[r.jsx(Hh,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),"Tweet Tips"]}),r.jsxs("ul",{className:"space-y-2 text-secondary text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Keep your title catchy and engaging"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Use formatting to emphasize key points"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Add relevant tags to reach the right audience"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Media attachments make your tweets more engaging"})]})]})]})]}):null,l&&!g&&r.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 rounded-lg bg-red-500/10 border border-red-500/30",children:[r.jsx(Nc,{className:"w-5 h-5 text-red-500"}),r.jsx("p",{className:"text-red-500",children:l})]})]})})]})}function g3({value:t,onChange:e,placeholder:n,disabled:s}){const l=p.useRef(null),i=p.useRef(null),u=d=>d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(@\w+)/g,'<span class="text-blue-500 font-semibold">$1</span>');return p.useEffect(()=>{const d=()=>{i.current.scrollTop=l.current.scrollTop},f=l.current;return f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)},[]),r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{ref:i,className:"absolute inset-0 p-2 whitespace-pre-wrap break-words text-sm text-gray-800 dark:text-gray-100 overflow-y-auto pointer-events-none font-normal",dangerouslySetInnerHTML:{__html:u(t)+`
`}}),r.jsx("textarea",{ref:l,value:t,onChange:d=>e(d.target.value),placeholder:n,disabled:s,className:"relative w-full text-sm text-gray-800 dark:text-gray-100 resize-none border border-gray-300 dark:border-gray-700 rounded-lg p-2 bg-transparent focus:ring-2 focus:ring-blue-400 z-10",rows:3,style:{color:"transparent",caretColor:"#fff",backgroundColor:"transparent"}})]})}function x3({commentId:t,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,onNewReply:f}){const[m,g]=p.useState(""),[x,b]=p.useState(!1),[y,N]=p.useState(""),j=Je(),{user:S}=Nt();async function C(T){if(T.preventDefault(),!!m.trim()){b(!0),N("");try{let k="";if(e)k=`https://fanhub-server.onrender.com/api/posts/${e}/comments/${t}/reply`;else if(n)k=`https://fanhub-server.onrender.com/api/gallery/images/${n}/comments/${t}/reply`;else if(s)k=`https://fanhub-server.onrender.com/api/gallery/videos/${s}/comments/${t}/reply`;else if(l)k=`https://fanhub-server.onrender.com/api/stories/${i}/chapters/${l}/comments/${t}/reply`;else if(u)k=`https://fanhub-server.onrender.com/api/tweets/${u}/comments/${t}/reply`;else if(d)k=`https://fanhub-server.onrender.com/api/recommendations/${d}/comments/${t}/reply`;else throw new Error("No valid ID provided");const _=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:m})}),E=await _.json();if(_.status===500){j("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok){N(E.message);return}const L=await fetch(`https://fanhub-server.onrender.com/api/users/${S.id}/social/commentpoint`,{method:"POST",credentials:"include"});if(!L.ok){const O=await L.json();N(O.message||"Failed to update writing points")}f(E.reply),g("")}catch{j("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{b(!1)}}}return r.jsxs("form",{onSubmit:C,className:"flex flex-col gap-3 w-full max-w-md p-4 rounded-xl border border-border bg-card-theme","aria-label":"Reply form",children:[r.jsx(g3,{value:m,onChange:g,placeholder:"Share your thoughts...",disabled:x}),r.jsx("button",{type:"submit",disabled:x||!m.trim(),"aria-label":x?"Posting reply...":"Post your reply",className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent ${x?"bg-accent/50 cursor-not-allowed text-card-foreground":"bg-accent hover:bg-primary text-card-foreground active:scale-95"}`,children:x?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"Replying..."]}):"Reply"}),y&&r.jsx("p",{role:"alert",className:"text-destructive text-sm mt-1","aria-live":"assertive",children:y})]})}function b3({content:t,mentions:e=[],className:n=""}){const s=Je();console.log("men",e,"content",t);const l=e.reduce((u,d)=>(d!=null&&d.user&&(u[d.user.username]=d.user),u),{}),i=t.split(/(@\w+)/g);return r.jsx("p",{className:n,children:i.map((u,d)=>{if(u.startsWith("@")){const f=u.slice(1),m=l[f];return m?r.jsxs("span",{onClick:g=>{g.stopPropagation(),s(`/profile/${m.username}/${m.id}/about`)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline font-semibold cursor-pointer transition-colors",children:["@",f]},d):r.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:["@",f]},d)}return r.jsx("span",{children:u},d)})})}function v3({reply:t,commentId:e,postId:n,imageId:s,videoId:l,chapterId:i,storyId:u,tweetId:d,recommendationId:f,onNewReply:m,onDeleteReply:g,likeComment:x,deleteComment:b,likeLoadingId:y,deletingId:N,level:j=0,contentOwnerId:S,maxDepth:C=2}){var ke,je,Ae,de,Re,De,rt,ut,yt,Ct,at;const{user:T}=Nt(),[k,_]=p.useState(!1),[E,L]=p.useState(!1),[O,A]=p.useState([]),[M,B]=p.useState(((ke=t._count)==null?void 0:ke.replies)||0),[P,U]=p.useState(((je=t._count)==null?void 0:je.likes)||0),[I,z]=p.useState(t.likes||[]),[G,$]=p.useState(!1),[W,Y]=p.useState(1),[Z,V]=p.useState(1),[q,K]=p.useState(!1),[te,se]=p.useState(!1),ue=Je(),xe=j>=C,ae=I.length>0,ge=((Ae=t.user)==null?void 0:Ae.username)===(T==null?void 0:T.username)||(T==null?void 0:T.id)===S;p.useEffect(()=>{var ze;B(((ze=t._count)==null?void 0:ze.replies)||0)},[(de=t._count)==null?void 0:de.replies,t.id]),p.useEffect(()=>{E&&W===1&&O.length===0&&X()},[E]),p.useEffect(()=>{W>1&&X()},[W]);async function X(){var ze,mt;try{$(!0);const Vt=await(await fetch(`https://fanhub-server.onrender.com/api/comments/${t.id}/replies?page=${W}&limit=10`,{credentials:"include"})).json();if(console.log("Fetched nested replies for reply",t.id,":",Vt),W===1)A(Vt.replies||[]);else{const ur=(Vt.replies||[]).filter(zt=>!O.some(gr=>gr.id===zt.id));A(zt=>[...zt,...ur])}((ze=Vt.pagination)==null?void 0:ze.total)!==void 0?B(Vt.pagination.total):Vt.total!==void 0&&B(Vt.total),V(((mt=Vt.pagination)==null?void 0:mt.totalPages)||1)}catch(pt){console.error("Error fetching nested replies:",pt),ue("/error",{state:{message:"Network error"}})}finally{$(!1)}}function ne(ze){A(mt=>mt.some(pt=>pt.id===ze.id)?mt:[ze,...mt]),B(mt=>mt+1),_(!1),L(!0)}function ce(ze){A(mt=>mt.filter(pt=>pt.id!==ze)),B(mt=>Math.max(0,mt-1))}async function oe(){if(te)return;se(!0);const ze=ae,mt=P;U(pt=>ae?pt-1:pt+1),z(ae?[]:[{id:t.id,userId:T.id}]);try{await x(t.id)}catch{U(mt),z(ze?[{id:t.id,userId:T.id}]:[])}finally{setTimeout(()=>se(!1),300)}}async function we(){await b(t.id),g&&g(t.id)}return console.log(`Reply ${t.id} at level ${j}: replyCount = ${M}, _count.replies = ${(Re=t._count)==null?void 0:Re.replies}`),r.jsxs("div",{className:"reply-item py-3 relative animate-fadeIn",children:[j>0&&r.jsx("div",{className:"absolute top-0 left-5 bottom-0 w-[2px] bg-border/40",style:{marginLeft:`${(j-1)*1.5}rem`}}),r.jsxs("div",{className:"flex items-start gap-3 relative",children:[r.jsx(or,{className:"w-9 h-9 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-primary/50 transition-all z-10",onClick:()=>{var ze;return ue(`/profile/${(ze=t.user)==null?void 0:ze.username}/${t.userId}/about`)},children:(De=t.user)!=null&&De.img?r.jsx(ir,{src:t.user.img,alt:`${t.user.username} avatar`}):r.jsx(cr,{className:"bg-muted text-muted-foreground font-bold",children:((yt=(ut=(rt=t.user)==null?void 0:rt.username)==null?void 0:ut[0])==null?void 0:yt.toUpperCase())||"U"})}),r.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 justify-between flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("strong",{className:"cursor-pointer hover:underline text-theme text-sm",onClick:()=>{var ze;return ue(`/profile/${(ze=t.user)==null?void 0:ze.username}/${t.userId}/about`)},children:(Ct=t.user)==null?void 0:Ct.username}),r.jsx("span",{className:"text-xs text-secondary",children:new Date(t.uploadedAt).toLocaleDateString()})]}),ge&&r.jsxs("div",{className:"relative",children:[r.jsx("button",{className:"p-1 rounded hover:bg-hover-bg focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-accent transition-colors",onClick:()=>K(ze=>!ze),"aria-label":"More options",children:r.jsx(Od,{className:"w-4 h-4 text-secondary"})}),q&&r.jsx("ul",{className:"absolute right-0 mt-1 w-28 bg-card-theme border border-border rounded shadow-lg z-20 animate-fadeIn",children:r.jsx("li",{children:r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-destructive hover:bg-hover-bg rounded transition-colors",disabled:N===t.id,onClick:we,children:N===t.id?"Deleting...":"Delete"})})})]})]}),r.jsx(b3,{content:t.content,mentions:t.mentions||[],className:"mt-1 text-theme text-sm break-words leading-relaxed"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-secondary flex-wrap",children:[r.jsxs("button",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 ${ae?"text-red-500 bg-red-50 dark:bg-red-900/20":"hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"} ${te?"scale-110":""}`,onClick:oe,disabled:y===t.id||te,children:[r.jsx($t,{className:`w-4 h-4 transition-all duration-300 ${ae?"fill-current scale-110":""} ${te?"animate-ping-once":""}`}),r.jsx("span",{className:"font-medium",children:P})]}),!xe&&r.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-secondary transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-accent",style:{color:"#3b82f6"},onClick:()=>_(ze=>!ze),children:[r.jsx(mn,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:k?"Cancel":"Reply"})]}),M>0&&r.jsx("button",{className:"hover:underline focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-secondary transition-colors font-medium",onClick:()=>L(ze=>!ze),children:xe&&!E?` View conversation (${M})`:E?"Hide Replies":`View Replies (${M})`})]}),k&&!xe&&r.jsx("div",{className:"mt-3 animate-fadeIn",children:r.jsx(x3,{commentId:t.id,postId:n,imageId:s,videoId:l,chapterId:i,storyId:u,tweetId:d,recommendationId:f,onNewReply:ne})}),E&&r.jsxs("div",{className:`replies-section mt-3 ${xe?"pl-0 border-l-0":"pl-3 border-l-2 border-border/30"}`,children:[G&&r.jsx("p",{className:"text-xs text-secondary animate-pulse",children:"Loading replies..."}),xe&&O.length>0&&r.jsxs("p",{className:"text-xs text-secondary mb-3 italic",children:[" Continuing conversation with @",(at=t.user)==null?void 0:at.username]}),O.map(ze=>r.jsx(v3,{reply:ze,commentId:e,postId:n,imageId:s,videoId:l,chapterId:i,storyId:u,tweetId:d,recommendationId:f,onNewReply:m,onDeleteReply:ce,likeComment:x,deleteComment:b,likeLoadingId:y,deletingId:N,level:xe?C:j+1,contentOwnerId:S,maxDepth:C},ze.id)),!G&&W<Z&&r.jsx("button",{onClick:()=>Y(W+1),className:"mt-3 text-xs font-medium hover:underline transition-colors",style:{color:"#3b82f6"},children:"Load more replies "})]})]})]})]})}function fH({commentId:t,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,likeComment:f,deleteComment:m,likeLoadingId:g,deletingId:x,contentOwnerId:b}){const y=Je(),[N,j]=p.useState([]),[S,C]=p.useState(1),[T,k]=p.useState(1),[_,E]=p.useState(!1),[L,O]=p.useState(""),A=10;p.useEffect(()=>{C(1),j([])},[t]),p.useEffect(()=>{M()},[S,t]);async function M(){var U;try{E(!0),O("");const I=await fetch(`https://fanhub-server.onrender.com/api/comments/${t}/replies?page=${S}&limit=${A}`,{credentials:"include"}),z=await I.json();if(I.status===500){y("/error",{state:{message:z.message||"Process failed"}});return}else if(!I.ok){O(z.message||"Failed to fetch replies");return}if(S===1)j(z.replies||[]);else{const G=(z.replies||[]).filter($=>!N.some(W=>W.id===$.id));j($=>[...$,...G])}k(((U=z.pagination)==null?void 0:U.totalPages)||1)}catch{y("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{E(!1)}}function B(U){j(I=>I.some(z=>z.id===U.id)?I:[U,...I])}function P(U){j(I=>I.filter(z=>z.id!==U))}return r.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[L&&r.jsx("p",{className:"text-destructive text-sm bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg animate-fadeIn",children:L}),N.length===0&&!_&&r.jsx("p",{className:"text-secondary text-sm italic py-2",children:"No replies yet. Be the first to reply!"}),r.jsx("div",{className:"space-y-0",children:N.map((U,I)=>r.jsx(v3,{reply:U,commentId:t,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,onNewReply:B,onDeleteReply:P,likeComment:f,deleteComment:m,likeLoadingId:g,deletingId:x,contentOwnerId:b,level:0,maxDepth:2},U.id))}),_&&r.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 animate-fadeIn",role:"status","aria-live":"polite",children:[r.jsx(vt,{className:"w-5 h-5 animate-spin text-accent","aria-hidden":"true"}),r.jsx("span",{className:"text-secondary text-sm",children:"Loading replies..."})]}),!_&&S<T&&r.jsx("button",{onClick:()=>C(S+1),className:"mt-3 px-4 py-2 rounded-lg font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all hover:scale-105",style:{background:"linear-gradient(135deg, #2563eb, #3b82f6)",color:"#ffffff",boxShadow:"0 3px 10px rgba(37, 99, 235, 0.25)"},children:"Show more replies "}),r.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(8px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}function hH({comment:t,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,setComments:f,likeComment:m,deleteComment:g,likeLoadingId:x,deletingId:b,contentOwnerId:y}){var G,$,W,Y,Z,V,q,K,te,se,ue;const{user:N}=Nt(),[j,S]=p.useState(!1),[C,T]=p.useState(!1),[k,_]=p.useState(!1),[E,L]=p.useState(!1),[O,A]=p.useState(((G=t.likes)==null?void 0:G.length)>0),[M,B]=p.useState((($=t._count)==null?void 0:$.likes)||0),P=Je(),U=((W=t.user)==null?void 0:W.username)===(N==null?void 0:N.username)||(N==null?void 0:N.id)===y;function I(xe){f(ae=>ae.map(ge=>{var X;return ge.id===t.id?{...ge,_count:{...ge._count,replies:(((X=ge._count)==null?void 0:X.replies)||0)+1}}:ge})),T(!1),S(!0)}async function z(){if(E)return;L(!0);const xe=O,ae=M;A(!O),B(ge=>O?ge-1:ge+1);try{await m(t.id)}catch{A(xe),B(ae)}finally{setTimeout(()=>L(!1),300)}}return r.jsx("div",{className:"comment-item border-b border-border py-4 px-2 animate-fadeIn",role:"region","aria-label":`Comment by ${(Y=t.user)==null?void 0:Y.username}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(or,{className:"w-11 h-11 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-primary/50 transition-all",onClick:()=>{var xe;return P(`/profile/${(xe=t.user)==null?void 0:xe.username}/${t.userId}/about`)},children:(Z=t.user)!=null&&Z.img?r.jsx(ir,{src:t.user.img,alt:`${t.user.username}'s avatar`}):r.jsx(cr,{className:"bg-muted text-muted-foreground font-bold",children:((K=(q=(V=t.user)==null?void 0:V.username)==null?void 0:q[0])==null?void 0:K.toUpperCase())||"U"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("strong",{className:"cursor-pointer hover:underline text-theme font-semibold",onClick:()=>{var xe;return P(`/profile/${(xe=t.user)==null?void 0:xe.username}/${t.userId}/about`)},children:(te=t.user)==null?void 0:te.username}),r.jsx("span",{className:"text-xs text-secondary",children:new Date(t.uploadedAt).toLocaleDateString()})]}),U&&r.jsxs("div",{className:"relative ml-auto",children:[r.jsx("button",{"aria-label":"More options",className:"p-1 rounded hover:bg-hover-bg focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-accent transition-colors",onClick:()=>_(xe=>!xe),children:r.jsx(Od,{className:"w-5 h-5 text-secondary"})}),k&&r.jsx("ul",{className:"absolute right-0 mt-1 w-28 bg-card-theme border border-border rounded shadow-lg z-10 animate-fadeIn",children:r.jsx("li",{children:r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-destructive hover:bg-hover-bg rounded transition-colors",disabled:b===t.id,onClick:()=>g(t.id),children:b===t.id?"Deleting...":"Delete"})})})]})]}),r.jsx(b3,{content:t.content,mentions:t.mentions||[],className:"mt-2 text-theme leading-relaxed"}),r.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-secondary",children:[r.jsxs("button",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 ${O?"text-red-500 bg-red-50 dark:bg-red-900/20":"hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"} ${E?"scale-105":""}`,onClick:z,disabled:x===t.id||E,"aria-pressed":O,children:[r.jsx($t,{className:`w-5 h-5 transition-all duration-300 ${O?"fill-current scale-110":""} ${E?"animate-ping-once":""}`,"aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:M}),r.jsx("span",{className:"sr-only",children:O?"Unlike comment":"Like comment"})]}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-secondary transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-accent",style:{color:"#3b82f6"},onClick:()=>T(xe=>!xe),children:[r.jsx(mn,{className:"w-5 h-5","aria-hidden":"true"}),r.jsx("span",{className:"font-medium",children:C?"Cancel":"Reply"})]}),((se=t._count)==null?void 0:se.replies)>0&&r.jsx("button",{className:"text-secondary hover:underline focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-secondary transition-colors font-medium",onClick:()=>S(xe=>!xe),children:j?"Hide Replies":`View Replies (${(ue=t._count)==null?void 0:ue.replies})`})]}),C&&r.jsx("div",{className:"mt-4 animate-fadeIn",children:r.jsx(x3,{commentId:t.id,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,onNewReply:I})}),j&&r.jsx("div",{className:"replies-section mt-4 pl-0",children:r.jsx(fH,{commentId:t.id,postId:e,imageId:n,videoId:s,chapterId:l,storyId:i,tweetId:u,recommendationId:d,likeComment:m,deleteComment:g,likeLoadingId:x,deletingId:b,contentOwnerId:y})})]})]})})}const am=p.forwardRef(({className:t,...e},n)=>r.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));am.displayName="Textarea";function mH({postId:t,imageId:e,videoId:n,chapterId:s,storyId:l,tweetId:i,recommendationId:u,onNewComment:d}){const[f,m]=p.useState(""),[g,x]=p.useState(!1),[b,y]=p.useState(""),N=Je(),{user:j}=Nt();async function S(C){if(C.preventDefault(),!!f.trim()){x(!0),y("");try{let T="";if(t)T=`https://fanhub-server.onrender.com/api/posts/${t}/comment`;else if(e)T=`https://fanhub-server.onrender.com/api/gallery/images/${e}/post-comment`;else if(n)T=`https://fanhub-server.onrender.com/api/gallery/videos/${n}/post-comment`;else if(s)T=`https://fanhub-server.onrender.com/api/stories/${l}/chapters/${s}/post-comment`;else if(i)T=`https://fanhub-server.onrender.com/api/tweets/${i}/comment`;else if(u)T=`https://fanhub-server.onrender.com/api/recommendations/${u}/comment`;else throw new Error("No valid ID provided");const k=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:f})}),_=await k.json();if(k.status===500){N("/error",{state:{message:_.message||"Process failed"}});return}else if(!k.ok){y(_.message);return}d(_.comment),m("");const E=await fetch(`https://fanhub-server.onrender.com/api/users/${j.id}/social/commentpoint`,{method:"POST",credentials:"include"});if(!E.ok){const L=await E.json();y(L.message||"Failed to update like points")}}catch{N("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{x(!1)}}}return r.jsxs("form",{onSubmit:S,className:"flex flex-col gap-3 w-full max-w-md p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900","aria-label":"Comment form",children:[r.jsx(g3,{value:f,onChange:m,placeholder:"Share your thoughts...",disabled:g}),r.jsx("button",{type:"submit",disabled:g,"aria-label":g?"Posting comment...":"Post your comment",className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-400 ${g?"bg-blue-300 cursor-not-allowed text-white":"bg-blue-400 hover:bg-blue-500 text-white active:scale-95"}`,children:g?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"Posting..."]}):"Comment"}),b&&r.jsx("p",{role:"alert",className:"text-red-500 text-sm mt-1","aria-live":"assertive",children:b})]})}function jl({postId:t,imageId:e,videoId:n,chapterId:s,storyId:l,tweetId:i,recommendationId:u,contentOwnerId:d}){const{user:f}=Nt(),m=Je(),[g,x]=p.useState([]),[b,y]=p.useState(1),[N,j]=p.useState(1),[S,C]=p.useState(!1),[T,k]=p.useState(null),[_,E]=p.useState(null),[L,O]=p.useState(""),[A,M]=p.useState(!1),B=10;p.useEffect(()=>{y(1)},[t,e,n,s,i,u]),p.useEffect(()=>{P()},[b,t,e,n,s,i,u]);async function P(){var G;try{C(!0);const $=new URLSearchParams({page:b,limit:B,...t&&{postId:t},...e&&{imageId:e},...n&&{videoId:n},...s&&{chapterId:s},...i&&{tweetId:i},...u&&{recommendationId:u}}),Y=await(await fetch(`https://fanhub-server.onrender.com/api/comments?${$.toString()}`,{credentials:"include"})).json();if(b===1)x(Y.comments||[]);else{const Z=(Y.comments||[]).filter(V=>!g.some(q=>q.id===V.id));x(V=>[...V,...Z])}j(((G=Y.pagination)==null?void 0:G.totalPages)||1)}catch($){m("/error",{state:{message:$.message}})}finally{C(!1)}}function U(G){x($=>$.some(Y=>Y.id===G.id)?$:[G,...$]),M(!1)}async function I(G){k(G),O("");try{let $="";if(t)$=`https://fanhub-server.onrender.com/api/posts/${t}/comments/${G}/like/love`;else if(e)$=`https://fanhub-server.onrender.com/api/gallery/images/${e}/comments/${G}/like/love`;else if(n)$=`https://fanhub-server.onrender.com/api/gallery/videos/${n}/comments/${G}/like/love`;else if(s)$=`https://fanhub-server.onrender.com/api/stories/${l}/chapters/${s}/comments/${G}/like/love`;else if(i)$=`https://fanhub-server.onrender.com/api/tweets/${i}/comments/${G}/like/love`;else if(u)$=`https://fanhub-server.onrender.com/api/recommendations/${u}/comments/${G}/like`;else throw new Error("No valid ID provided");const W=await fetch($,{method:"POST",credentials:"include"}),Y=await W.json();if(W.status===500){m("/error",{state:{message:Y.message||"Process failed"}});return}else if(!W.ok){O(Y.message);return}const Z=Y.message==="Liked!"||Y.message==="Comment liked!",V=Z?1:-1;if(x(q=>q.map(K=>{var te,se;return K.id!==G?K:{...K,_count:{...K._count,likes:(((te=K._count)==null?void 0:te.likes)||0)+V},likes:Z?[{id:((se=Y.like)==null?void 0:se.id)||Y.likeId,userId:f.id}]:[]}})),Z){const q=await fetch(`https://fanhub-server.onrender.com/api/users/${f.id}/social/likepoint`,{method:"POST",credentials:"include"});if(!q.ok){const K=await q.json();O(K.message||"Failed to update like points")}}}catch{m("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{k(null)}}async function z(G){if(window.confirm("Are you sure you want to delete this comment?")){E(G),O("");try{let $="";if(t)$=`https://fanhub-server.onrender.com/api/posts/${t}/comments/${G}`;else if(e)$=`https://fanhub-server.onrender.com/api/gallery/images/${e}/comments/${G}`;else if(n)$=`https://fanhub-server.onrender.com/api/gallery/videos/${n}/comments/${G}`;else if(s)$=`https://fanhub-server.onrender.com/api/stories/${l}/chapters/${s}/comments/${G}`;else if(i)$=`https://fanhub-server.onrender.com/api/tweets/${i}/comments/${G}`;else if(u)$=`https://fanhub-server.onrender.com/api/recommendations/${u}/comments/${G}`;else throw new Error("No valid ID provided");const W=await fetch($,{method:"DELETE",credentials:"include"}),Y=await W.json();if(W.status===500){m("/error",{state:{message:Y.message||"Process failed"}});return}else if(!W.ok){O(Y.message);return}x(Z=>Z.filter(V=>V.id!==G))}catch{m("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{E(null)}}}return r.jsxs("div",{className:"comments-container",children:[!A&&r.jsxs("button",{onClick:()=>M(!0),className:"btn flex items-center gap-2 mb-4",children:[r.jsx(mn,{className:"w-5 h-5"}),r.jsx("span",{children:"Write a Comment"})]}),A&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-theme",children:"Add a Comment"}),r.jsx("button",{onClick:()=>M(!1),className:"text-secondary hover:text-theme transition-colors text-sm",children:"Cancel"})]}),r.jsx(mH,{postId:t,imageId:e,videoId:n,chapterId:s,storyId:l,tweetId:i,recommendationId:u,onNewComment:U})]}),L&&r.jsx("p",{className:"error",children:L}),g.length===0&&!S&&r.jsx("p",{children:"No comments yet."}),g.map(G=>r.jsx(hH,{comment:G,postId:t,imageId:e,videoId:n,chapterId:s,storyId:l,tweetId:i,recommendationId:u,setComments:x,likeComment:I,deleteComment:z,likeLoadingId:T,deletingId:_,contentOwnerId:d},G.id)),S&&r.jsx("p",{children:"Loading comments..."}),!S&&b<N&&r.jsx("button",{onClick:()=>y(b+1),className:"show-more-btn",children:"Show more comments"})]})}async function Ss(t){const e=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),n=await e.json();if(console.log("date delete",n),!e.ok)throw new Error(n.message||"Failed to delete story");return n.message}function y3({url:t,single:e=!1}){var ur,zt,gr,Tn,Vn,pn;const[n,s]=p.useState([]),[l,i]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState(0),[g,x]=p.useState(!0),[b,y]=p.useState([]),[N,j]=p.useState(!1),[S,C]=p.useState(!0),[T,k]=p.useState(null),[_,E]=p.useState(""),[L,O]=p.useState("popular"),[A,M]=p.useState(!1),[B,P]=p.useState({}),[U,I]=p.useState(""),[z,G]=p.useState(!1),[$,W]=p.useState("7d"),[Y,Z]=p.useState(null),[V,q]=p.useState(null),[K,te]=p.useState(!1),{toast:se,showToast:ue,closeToast:xe}=Mn(),{confirm:ae,showConfirm:ge,closeConfirm:X}=fa(),[ne,ce]=p.useState(()=>{const me=localStorage.getItem("theme");return me?me==="dark":!1}),{id:oe}=ln(),{user:we}=Nt(),ke=Je(),je=p.useRef(null),[Ae,de]=CO();p.useEffect(()=>{document.documentElement.classList.toggle("dark",ne),localStorage.setItem("theme",ne?"dark":"light")},[ne]),p.useEffect(()=>{const me=Ae.get("tag")||"";E(me),m(0),x(!0),s([])},[Ae]),p.useEffect(()=>{s([]),m(0),x(!0)},[_,L,oe]),p.useEffect(()=>{let me=!1;async function Ue(){var Et;d(""),i(!0);try{const Yt=e?`${t}/${oe}/tweet`:`${t}?page=${f}&limit=10&sort=${L}${_?`&tag=${encodeURIComponent(_)}`:""}`,on=await fetch(Yt,{credentials:"include"}),en=await on.json();if(!on.ok)return d(en.message||"Failed to load tweets.");if(e){s([en.tweet||en]),x(!1);const qt=en.tweet||en;P({[qt.id]:((Et=qt.library)==null?void 0:Et.length)>0})}else{const qt=en.tweets||en;if(!me){s(Ut=>f===0?qt:[...Ut,...qt]);const bn={};qt.forEach(Ut=>{var cn;bn[Ut.id]=((cn=Ut.library)==null?void 0:cn.length)>0}),P(Ut=>({...Ut,...bn})),qt.length<10&&x(!1)}}}catch(Gt){ke("/error",{state:{message:Gt.message}})}finally{me||i(!1)}}return g&&Ue(),()=>me=!0},[f,_,L,oe]),p.useEffect(()=>{if(e)return;async function me(){j(!0);try{const Ue=await fetch(`https://fanhub-server.onrender.com/api/tweets/trending?limit=5&timeframe=${$}`,{credentials:"include"}),Et=await Ue.json();Ue.ok&&y(Et.topics.tweets||[])}catch(Ue){console.error("Trending fetch failed:",Ue)}finally{j(!1)}}me()},[e,$]),p.useEffect(()=>{if(l||e)return;const me=new IntersectionObserver(Et=>{Et[0].isIntersecting&&g&&m(Gt=>Gt+1)},{threshold:.2}),Ue=je.current;return Ue&&me.observe(Ue),()=>Ue&&me.unobserve(Ue)},[l,g,e]);function Re(me){q(me),te(!1),document.body.style.overflow="hidden"}function De(){q(null),te(!1),document.body.style.overflow="unset"}p.useEffect(()=>{function me(Ue){V&&Ue.key==="Escape"&&(Ue.preventDefault(),De())}return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[V]);async function rt(me,Ue,Et=!1){var Gt;me&&me.preventDefault(),Z(Ue);try{const Yt=await fetch(`https://fanhub-server.onrender.com/api/tweets/${Ue}/like/love`,{method:"POST",credentials:"include"}),on=await Yt.json();if(!Yt.ok){ue(on.message||"Failed to like tweet","error");return}const en=on.message==="Liked!",qt=en?1:-1;s(bn=>bn.map(Ut=>{var cn;return Ut.id===Ue?{...Ut,_count:{...Ut._count,likes:(((cn=Ut._count)==null?void 0:cn.likes)||0)+qt},likedByCurrentUser:en}:Ut})),Et&&(V==null?void 0:V.id)===Ue&&q({...V,_count:{...V._count,likes:(((Gt=V._count)==null?void 0:Gt.likes)||0)+qt},likedByCurrentUser:en})}finally{Z(null)}}function ut(me){const Ue=_===me?"":me;E(Ue),m(0),x(!0),s([]),de(Ue?{tag:Ue}:{}),window.scrollTo({top:0,behavior:"smooth"})}function yt(me){O(me),m(0),x(!0)}function Ct(me){W(me.target.value)}async function at(me){k(me);try{const Ue=await Ss(`https://fanhub-server.onrender.com/api/tweets/${me}`);s(Et=>Et.filter(Gt=>Number(Gt.id)!==Number(me))),(V==null?void 0:V.id)===me&&De(),ue(Ue||"Tweet deleted successfully!","success")}catch{ue("Failed to delete tweet. Please try again.","error")}finally{k(null)}}async function ze(me,Ue=!1){M(me);try{const Et=await fetch(`https://fanhub-server.onrender.com/api/tweets/${me}/library`,{method:"POST",credentials:"include"}),Gt=await Et.json();if(Et.ok){const Yt=!B[me];P(on=>({...on,[me]:Yt})),Ue&&(V==null?void 0:V.id)===me&&q({...V,library:Yt?[{id:1}]:[]}),ue(Yt?"Added to library!":"Removed from library","success")}else ue(Gt.message||"Failed to update library","error")}finally{M(null)}}async function mt(me){me.preventDefault(),G(!0);try{const Ue=await fetch(`https://fanhub-server.onrender.com/api/tweets/search?query=${U}`,{credentials:"include"}),Et=await Ue.json();Ue.ok&&s(Et.tweets)}finally{G(!1)}}async function pt(me){I(me),G(!0);try{const Ue=await fetch(`https://fanhub-server.onrender.com/api/tweets/search?query=${me}`,{credentials:"include"}),Et=await Ue.json();Ue.ok&&(s(Et.tweets),C(!1))}finally{G(!1)}}const Vt=(me,Ue)=>{ke(`/profile/${me}/${Ue}/about`)};return u&&n.length===0?r.jsxs("div",{children:[r.jsx(Jt,{user:we,darkMode:ne,setDarkMode:ce}),r.jsx("div",{className:"pt-20",children:r.jsx("p",{className:"text-red-500 text-center",children:u})})]}):r.jsxs("div",{className:"min-h-screen bg-background-color transition-colors duration-500",children:[r.jsx(Jt,{user:we,darkMode:ne,setDarkMode:ce}),r.jsx(Hn,{message:se.message,type:se.type,isOpen:se.isOpen,onClose:xe}),r.jsx(da,{isOpen:ae.isOpen,onClose:X,onConfirm:ae.onConfirm,title:ae.title,description:ae.description,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"}),r.jsxs("div",{className:"pt-20 flex gap-6 max-w-7xl mx-auto px-4",children:[r.jsxs("main",{className:"flex-1 max-w-3xl mx-auto lg:mx-0 space-y-6 py-6",children:[!e&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Community Feed"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsxs(Oe,{variant:"outline",className:"flex items-center gap-2 bg-card-theme border-theme","aria-label":"Filter by tag",children:[r.jsx(Xo,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:_||"All Tags"})]})}),r.jsxs(_a,{align:"end",className:"w-56 themed-select-content",children:[r.jsx(tE,{children:"Filter by Tag"}),r.jsx(_b,{}),m0.map(me=>r.jsxs(Ur,{onSelect:()=>ut(me),className:_===me?"bg-blue-500/10 text-blue-600 font-semibold":"",children:[me,_===me&&r.jsx("span",{className:"ml-auto text-blue-600",children:""})]},me)),_&&r.jsxs(r.Fragment,{children:[r.jsx(_b,{}),r.jsx(Ur,{onSelect:()=>ut(_),className:"text-red-500",children:" Clear Filter"})]})]})]}),r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsxs(Oe,{variant:"outline",className:"bg-card-theme border-theme","aria-label":"Sort options",children:[r.jsx(Dv,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline ml-2",children:L==="recent"?"Recent":"Popular"})]})}),r.jsxs(_a,{align:"end",className:"themed-select-content",children:[r.jsx(Ur,{onSelect:()=>yt("popular"),children:"Popular"}),r.jsx(Ur,{onSelect:()=>yt("recent"),children:"Recent"})]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(Rn,{type:"search",value:U,onChange:me=>I(me.target.value),onKeyDown:me=>me.key==="Enter"&&mt(me),placeholder:"Search tweets or authors...",className:"pl-10 bg-card-theme border-theme","aria-label":"Search tweets"})]}),r.jsx(Oe,{onClick:mt,disabled:z,className:"btn",children:z?"Searching...":"Search"})]}),_&&r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-theme bg-blue-500/5",children:[r.jsx(Xo,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-theme",children:["Filtered by: ",r.jsx("strong",{children:_})]}),r.jsx("button",{onClick:()=>ut(_),className:"ml-auto text-red-500 hover:text-red-600","aria-label":"Clear filter",children:r.jsx(On,{className:"w-4 h-4"})})]})]}),!e&&r.jsx("div",{className:"lg:hidden",children:r.jsxs(jt,{className:"border-theme bg-card-theme",children:[r.jsx(Br,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg text-theme",children:[r.jsx(tj,{className:"w-5 h-5 text-orange-500"}),"Trending Topics"]}),r.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>C(!S),"aria-expanded":S,children:S?"Hide":"Show"})]})}),S&&r.jsxs(Zt,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("label",{className:"text-sm text-theme",children:"Timeframe:"}),r.jsxs("select",{value:$,onChange:Ct,className:"border border-theme rounded-lg px-3 py-2 bg-card-theme text-sm",children:[r.jsx("option",{value:"24h",children:"Last 24h"}),r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"})]})]}),N?r.jsx("p",{className:"text-center text-secondary",children:"Loading trending..."}):b.length===0?r.jsx("p",{className:"text-center text-secondary",children:"No trending topics"}):r.jsx("ul",{className:"space-y-2",children:b.map((me,Ue)=>r.jsxs("li",{tabIndex:0,role:"button",onClick:()=>pt(me.title),className:"p-3 rounded-lg bg-theme hover:bg-blue-500/10 transition cursor-pointer border border-transparent hover:border-blue-500/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("strong",{className:"text-blue-600",children:["#",Ue+1]}),r.jsx("span",{className:"font-semibold text-theme",children:me.title})]}),r.jsxs("div",{className:"text-sm text-secondary flex gap-3",children:[r.jsxs("span",{children:[" ",me.likes]}),r.jsxs("span",{children:[" ",me.comments]}),r.jsxs("span",{children:[" ",me.library]})]})]},Ue))})]})]})}),r.jsxs("div",{className:"space-y-6",children:[n.length===0&&!l?r.jsx(jt,{className:"border-theme bg-card-theme p-8",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(Xo,{className:"w-16 h-16 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-theme",children:"No Tweets Found"}),r.jsx("p",{className:"text-secondary",children:_?`No tweets found with the tag "${_}". Try selecting a different tag or clear the filter.`:U?`No tweets match your search "${U}". Try a different search term.`:"No tweets available at the moment. Check back later!"}),(_||U)&&r.jsx(Oe,{onClick:()=>{E(""),I(""),de({}),m(0),x(!0),s([])},className:"btn mt-4",children:"Clear Filters"})]})}):n.map((me,Ue)=>{var Gt,Yt,on,en,qt,bn,Ut,cn,dr;const Et=(we==null?void 0:we.id)===me.userId;return r.jsxs(jt,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-theme bg-card-theme",role:"article","aria-label":`Tweet by ${(Gt=me.user)==null?void 0:Gt.username}: ${me.title}`,children:[r.jsxs(Br,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity group",onClick:()=>Vt(me.user.username,me.user.id),children:[r.jsxs("div",{className:"relative",children:[r.jsxs(or,{className:"w-10 h-10 ring-2 ring-transparent group-hover:ring-blue-500 transition-all",children:[r.jsx(ir,{src:(Yt=me.user)==null?void 0:Yt.avatar,alt:`${(on=me.user)==null?void 0:on.username}'s avatar`}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold",style:{backgroundColor:"#2563eb"},children:((qt=(en=me.user)==null?void 0:en.username)==null?void 0:qt.charAt(0).toUpperCase())||"U"})]}),r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-500 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-base text-theme group-hover:text-blue-600 transition-colors",children:((bn=me.user)==null?void 0:bn.username)||"Unknown"}),r.jsx("p",{className:"text-xs text-secondary",children:r.jsx("time",{dateTime:me.uploadedAt,children:new Date(me.uploadedAt).toLocaleDateString()})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Et&&r.jsxs(Oe,{size:"sm",variant:"ghost",onClick:()=>ke(`/update-tweet/${me.id}`),className:"h-8 px-3 text-blue-500 hover:text-blue-600 hover:bg-blue-500/10","aria-label":"Edit tweet",children:[r.jsx(Ld,{size:16,className:"mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-secondary hover:text-theme","aria-label":"Tweet options",children:r.jsx(Od,{size:18})})}),r.jsx(_a,{align:"end",className:"w-48 themed-select-content",children:Et&&r.jsxs(Ur,{onClick:()=>{ge("Delete Tweet","Are you sure you want to delete this tweet? This action cannot be undone.",()=>at(me.id))},disabled:T===me.id,className:"text-destructive",children:[r.jsx(Mr,{size:16,className:"mr-2"}),T===me.id?"Deleting...":"Delete"]})})]})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-theme leading-tight mt-4",children:me.title||"Untitled"})]}),r.jsxs(Zt,{className:"space-y-4",children:[r.jsx("div",{className:"ql-editor prose prose-sm sm:prose-base max-w-none",style:{padding:0,minHeight:"auto",color:"var(--foreground-color)"},dangerouslySetInnerHTML:{__html:me.content}}),me.media&&r.jsx("div",{className:"relative rounded-xl overflow-hidden border-2 border-theme shadow-lg bg-black/5",children:me.type==="video"?r.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>Re(me),children:[r.jsx("video",{src:me.media,poster:me.thumbnail,className:"w-full max-h-[500px] object-contain bg-black",preload:"metadata","aria-label":`Video: ${me.title}`}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600/80 flex items-center justify-center",children:r.jsx(Mv,{size:32,className:"text-white ml-1"})})})]}):r.jsx("img",{src:me.media,alt:me.title||"Tweet image",className:"w-full max-h-[500px] object-contain cursor-pointer",loading:"lazy",onClick:()=>Re(me)})}),me.tags&&me.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",role:"group","aria-label":"Tweet tags",children:me.tags.map(In=>r.jsxs("button",{onClick:()=>ut(In),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${_===In?"bg-blue-600 text-white shadow-lg":"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20 border border-blue-500/30"}`,"aria-label":`Filter by ${In}`,"aria-pressed":_===In,children:["#",In]},In))}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("button",{onClick:()=>Re(me),className:"action-btn comment","data-tooltip":"View Comments","aria-label":`View ${((Ut=me._count)==null?void 0:Ut.comments)||0} comments`,children:[r.jsx(mn,{size:18,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:((cn=me._count)==null?void 0:cn.comments)||0})]}),r.jsxs("button",{onClick:In=>rt(In,me.id),disabled:Y===me.id,className:`action-btn like ${me.likedByCurrentUser?"liked":""} ${Y===me.id?"loading":""}`,"data-tooltip":me.likedByCurrentUser?"Unlike":"Like","aria-label":me.likedByCurrentUser?"Unlike":"Like","aria-pressed":me.likedByCurrentUser,children:[r.jsx($t,{size:18,className:"icon-animate",fill:me.likedByCurrentUser?"currentColor":"none"}),r.jsx("span",{className:"count-number",children:((dr=me._count)==null?void 0:dr.likes)||0})]}),r.jsxs("button",{onClick:()=>ze(me.id),disabled:A===me.id,className:`action-btn library ${B[me.id]?"saved":""} ${A===me.id?"loading":""}`,"data-tooltip":B[me.id]?"Saved to Library":"Save to Library","aria-label":B[me.id]?"Remove from library":"Save to library","aria-pressed":B[me.id],children:[r.jsx(wc,{size:18,className:"icon-animate",fill:B[me.id]?"currentColor":"none"}),r.jsx("span",{className:"hidden sm:inline ml-1 text-sm",children:B[me.id]?"Saved":"Save"})]})]})]})]},me.id)}),!e&&r.jsx("div",{ref:je,style:{height:"1px"},"aria-hidden":"true"}),l&&r.jsx("div",{className:"text-center text-muted-foreground py-6",role:"status",children:"Loading more..."}),!g&&n.length>0&&r.jsx("p",{className:"text-center text-muted-foreground py-6",children:"You've reached the end!"})]})]}),!e&&r.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0 py-6 sticky top-24 h-fit",children:r.jsxs(jt,{className:"border-theme bg-card-theme",children:[r.jsx(Br,{className:"pb-3",children:r.jsxs("h3",{className:"flex items-center gap-2 font-bold text-lg text-theme",children:[r.jsx(tj,{className:"w-5 h-5 text-orange-500"}),"Trending Topics"]})}),r.jsxs(Zt,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("label",{className:"text-sm text-theme",children:"Timeframe:"}),r.jsxs("select",{value:$,onChange:Ct,className:"border border-theme rounded-lg px-3 py-1 bg-card-theme text-sm",children:[r.jsx("option",{value:"24h",children:"Last 24h"}),r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"})]})]}),N?r.jsx("p",{className:"text-center text-secondary py-4",children:"Loading trending..."}):b.length===0?r.jsx("p",{className:"text-center text-secondary py-4",children:"No trending topics"}):r.jsx("ul",{className:"space-y-2",children:b.map((me,Ue)=>r.jsxs("li",{tabIndex:0,role:"button",onClick:()=>pt(me.title),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),pt(me.title))},className:"p-3 rounded-lg bg-theme hover:bg-blue-500/10 transition cursor-pointer border border-transparent hover:border-blue-500/30","aria-label":`Search for trending topic: ${me.title}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("strong",{className:"text-blue-600",children:["#",Ue+1]}),r.jsx("span",{className:"font-semibold text-theme",children:me.title})]}),r.jsxs("div",{className:"text-sm text-secondary flex gap-3",children:[r.jsxs("span",{"aria-label":`${me.likes} likes`,children:[" ",me.likes]}),r.jsxs("span",{"aria-label":`${me.comments} comments`,children:[" ",me.comments]}),r.jsxs("span",{"aria-label":`${me.library} saves`,children:[" ",me.library]})]})]},Ue))})]})]})})]}),V&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-theme border-b border-theme",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity group",onClick:()=>Vt(V.user.username,V.user.id),children:[r.jsxs("div",{className:"relative",children:[r.jsxs(or,{className:"w-10 h-10 ring-2 ring-transparent group-hover:ring-blue-500 transition-all",children:[r.jsx(ir,{src:(ur=V.user)==null?void 0:ur.avatar}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold flex items-center justify-center",style:{backgroundColor:"#2563eb"},children:((gr=(zt=V.user)==null?void 0:zt.username)==null?void 0:gr.charAt(0).toUpperCase())||"U"})]}),r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-500 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-theme font-semibold text-base group-hover:text-blue-600 transition-colors",children:(Tn=V.user)==null?void 0:Tn.username}),r.jsx("span",{className:"text-secondary text-xs",children:r.jsx("time",{dateTime:V.uploadedAt,children:new Date(V.uploadedAt).toLocaleDateString()})})]})]}),r.jsx("button",{className:"text-secondary hover:text-theme transition-colors",onClick:De,"aria-label":"Close modal",children:r.jsx(On,{size:24})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-card-theme",children:[r.jsxs(jt,{className:"border-theme bg-card-theme mb-3",children:[r.jsx(Br,{className:"pb-3",children:r.jsx("h2",{className:"text-2xl font-bold text-theme",children:V.title})}),r.jsx(Zt,{className:"pt-0",children:r.jsx("div",{className:"ql-editor max-w-none",style:{padding:0,minHeight:"auto",color:"var(--foreground-color)",marginBottom:0},dangerouslySetInnerHTML:{__html:V.content}})})]}),V.media&&V.media!==""&&r.jsx(jt,{className:"border-theme bg-card-theme mb-3 overflow-hidden",children:r.jsx(Zt,{className:"p-0",children:r.jsx("div",{className:"relative",children:V.type==="video"?r.jsxs("video",{controls:!0,className:"w-full max-h-[60vh] object-contain bg-black",preload:"metadata",poster:V.thumbnail||"",children:[r.jsx("source",{src:V.media,type:"video/mp4"}),r.jsx("source",{src:V.media,type:"video/webm"}),r.jsx("source",{src:V.media,type:"video/ogg"}),"Your browser does not support the video tag."]},V.id):r.jsx("img",{src:V.media,alt:V.title||"Tweet image",className:"w-full max-h-[60vh] object-contain bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",loading:"eager"},V.id)})})}),V.tags&&V.tags.length>0&&r.jsx(jt,{className:"border-theme bg-card-theme mb-3",children:r.jsx(Zt,{className:"pt-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:V.tags.map(me=>r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-500/10 text-blue-600 border border-blue-500/30",children:["#",me]},me))})})}),K&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-theme",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 text-theme flex items-center gap-2",children:[r.jsx(mn,{size:20}),"Comments"]}),r.jsx(jl,{tweetId:V.id,contentOwnerId:V.userId})]})]}),r.jsxs("div",{className:"flex justify-around items-center p-4 border-t border-theme bg-card-theme shadow-lg",children:[r.jsxs("button",{onClick:()=>te(me=>!me),className:`action-btn comment ${K?"success-flash":""}`,"data-tooltip":K?"Hide Comments":"Show Comments","aria-label":K?"Hide comments":"Show comments",children:[r.jsx(mn,{size:22,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:((Vn=V._count)==null?void 0:Vn.comments)||0})]}),r.jsxs("button",{onClick:me=>rt(me,V.id,!0),disabled:Y===V.id,className:`action-btn like ${V.likedByCurrentUser?"liked":""} ${Y===V.id?"loading":""}`,"data-tooltip":V.likedByCurrentUser?"Unlike":"Like","aria-label":V.likedByCurrentUser?"Unlike":"Like","aria-pressed":V.likedByCurrentUser,children:[r.jsx($t,{size:22,className:"icon-animate",fill:V.likedByCurrentUser?"currentColor":"none"}),r.jsx("span",{className:"count-number",children:((pn=V._count)==null?void 0:pn.likes)||0})]}),r.jsx("button",{onClick:()=>ze(V.id,!0),disabled:A===V.id,className:`action-btn library ${B[V.id]?"saved":""} ${A===V.id?"loading":""}`,"data-tooltip":B[V.id]?"Saved to Library":"Save to Library","aria-label":B[V.id]?"Remove from library":"Save to library","aria-pressed":B[V.id],children:r.jsx(wc,{size:22,className:"icon-animate",fill:B[V.id]?"currentColor":"none"})})]})]})]})}function pH(){return r.jsxs("div",{children:[r.jsx("h2",{children:"All Tweets"}),r.jsx(y3,{url:"https://fanhub-server.onrender.com/api/tweets"})]})}function gH(){return r.jsxs("div",{children:[r.jsx("h2",{children:"Tweet"}),r.jsx(y3,{url:"https://fanhub-server.onrender.com/api/tweets",single:!0})]})}function xH(){const[t,e]=p.useState({email:""}),[n,s]=p.useState(""),[l,i]=p.useState(""),[u,d]=p.useState(!1),f=Je();function m(x){const{name:b,value:y}=x.target;e(N=>({...N,[b]:y}))}async function g(x){x.preventDefault(),s(""),d(!0);try{const b=await fetch("https://fanhub-server.onrender.com/api/auth/forget-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),y=await b.json();if(b.status===500){f("/error",{state:{message:y.message||"Process failed"}});return}if(!b.ok){s(y.message||"Something went wrong.");return}i(y.message)}catch{f("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}return r.jsx("main",{className:"flex items-center justify-center min-h-screen bg-theme px-6 py-10",role:"main",children:r.jsxs(jt,{className:"w-full max-w-md bg-card-theme border-theme shadow-lg rounded-2xl",children:[r.jsxs(Br,{className:"text-center",children:[r.jsx(ti,{className:"gradient-text text-2xl font-bold",children:"Forgot Password"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your registered email address"})]}),r.jsx(Zt,{children:l?r.jsx("p",{className:"text-center font-medium mt-2 text-[var(--primary)]","aria-live":"polite",children:l}):r.jsxs("form",{onSubmit:g,autoComplete:"off",className:"space-y-5","aria-label":"Forget password form",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"email",className:"block mb-1",children:"Email Address"}),r.jsx(Rn,{type:"email",name:"email",id:"email",value:t.email,onChange:m,required:!0,autoComplete:"email",className:"bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--primary)]","aria-required":"true"})]}),n&&r.jsx("p",{className:"text-red-500 text-sm font-medium text-center",role:"alert",children:n}),r.jsx(Oe,{type:"submit",disabled:u,className:"w-full bg-purple-500 hover:bg-purple-600 text-white focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:u?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"})," Sending..."]}):"Submit"})]})})]})})}function bH(){const[t,e]=p.useState({password:""}),[n,s]=p.useState(""),[l,i]=p.useState(!1),u=ca(),d=Je(),{showToast:f}=Mn(),m=new URLSearchParams(u.search).get("token");function g(y){const{name:N,value:j}=y.target;e(S=>({...S,[N]:j}))}async function x(y){y.preventDefault(),s(""),i(!0);try{const N=await fetch("https://fanhub-server.onrender.com/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,newPassword:t.password}),credentials:"include"}),j=await N.json();if(N.status===500){d("/error",{state:{message:j.message||"Process failed"}});return}if(!N.ok){s(j.message||"Something went wrong.");return}b(j),d("/")}catch{d("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}function b(y){f(y.message,"info")}return r.jsx("main",{className:"flex items-center justify-center min-h-screen bg-theme px-6 py-10",role:"main",children:r.jsxs(jt,{className:"w-full max-w-md bg-card-theme border-theme shadow-lg rounded-2xl",children:[r.jsxs(Br,{className:"text-center",children:[r.jsx(ti,{className:"gradient-text text-2xl font-bold",children:"Reset Your Password"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your new password below"})]}),r.jsx(Zt,{children:r.jsxs("form",{onSubmit:x,autoComplete:"off",className:"space-y-5","aria-label":"Reset password form",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"password",className:"block mb-1",children:"New Password"}),r.jsx(Rn,{type:"password",name:"password",id:"password",value:t.password,onChange:g,required:!0,autoComplete:"new-password",className:"bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)] focus:border-[var(--primary)]","aria-required":"true"})]}),n&&r.jsx("p",{className:"text-red-500 text-sm font-medium text-center",role:"alert",children:n}),r.jsx(Oe,{type:"submit",disabled:l,className:"w-full bg-purple-500 hover:bg-purple-600 text-white focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:l?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"})," Resetting..."]}):"Reset Password"})]})})]})})}function vH(){const t=ca(),{message:e}=t.state||{message:"An unexpected error occurred."},[n,s]=p.useState(()=>localStorage.getItem("darkMode")==="true");return p.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},[n]),r.jsxs("div",{className:"min-h-screen bg-theme text-theme",children:[r.jsx(Jt,{user:null,darkMode:n,setDarkMode:s}),r.jsx("div",{className:"pt-32 flex justify-center px-4",children:r.jsxs("div",{className:"card w-full max-w-lg text-center animate-fadeIn p-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(wm,{className:"w-12 h-12 text-red-500"})}),r.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-secondary mb-6",children:e}),r.jsx(mr,{to:"/",className:"btn w-full text-center",style:{textDecoration:"none"},children:"Go Back Home"})]})})]})}const bs={fantasy:["High Fantasy","Dark Fantasy","Urban Fantasy","Romantic Fantasy","Epic Fantasy","Historical Fantasy","Sword and Sorcery","Fairy Tale Retelling","Magical Realism","Mythic Fantasy","Portal Fantasy","Low Fantasy"],sciFi:["Cyberpunk","Space Opera","Dystopian","Utopian","Post-Apocalyptic","Time Travel","Mecha / Robot","Genetic Engineering","Hard Science Fiction","Military Sci-Fi","AI / Machine Uprising","Alternate Reality"],mystery:["Detective","Cozy Mystery","Police Procedural","Crime Mystery","Whodunit","Psychological Mystery","Historical Mystery","Amateur Sleuth","Forensic Mystery","Legal Mystery","Supernatural Mystery","Locked Room"],horror:["Psychological Horror","Gothic Horror","Paranormal Horror","Slasher","Survival Horror","Cosmic Horror","Monster Horror","Haunted House","Splatterpunk","Folk Horror","Thriller Horror","Zombie Apocalypse"],romance:["Contemporary Romance","Historical Romance","Fantasy Romance","Romantic Comedy","Dark Romance","Slow Burn","Enemies to Lovers","Friends to Lovers","Forbidden Love","LGBTQ+ Romance","Second Chance Romance","Tragic Romance"],historicalFiction:["War Fiction","Ancient Civilizations","Medieval","Regency / Victorian","Biographical Fiction","Historical Romance","Alternate History","Colonial Era","Renaissance","Industrial Era","Prehistoric Fiction","Western"],thriller:["Psychological Thriller","Political Thriller","Crime Thriller","Legal Thriller","Techno Thriller","Spy / Espionage","Conspiracy","Medical Thriller","Survival Thriller","Supernatural Thriller","Domestic Thriller","Action Thriller"],action:["Military Action","Martial Arts","Spy Action","Survival","Revenge","Heist","Heroic Action","Vigilante","Superhero","Post-Apocalyptic Action","Rescue Mission","War Adventure"],comedy:["Romantic Comedy","Satire","Parody","Dark Comedy","Absurdist","Slapstick","Situational Comedy","Workplace Comedy","Family Comedy","School Comedy","Political Comedy","Fantasy Comedy"],adventure:["Quest","Journey","Exploration","Expedition","Treasure Hunt","Survival","Lost World","Discovery","Island Adventure","Escape","Sea Voyage","Space Adventure"],drama:["Family Drama","Romantic Drama","Political Drama","Social Drama","Psychological Drama","Friendship Drama","School Drama","Medical Drama","Legal Drama","Tragedy","Coming-of-Age Drama","Melodrama"],crime:["Detective","Police Procedural","Mafia / Gangster","Heist","Noir","Courtroom Drama","Vigilante Crime","Political Crime","Organized Crime","Cybercrime","Serial Killer","Kidnapping"],sliceOfLife:["School Life","Family Life","Friendship","Work Life","Romance","Daily Struggles","City Life","Small Town Life","Growing Up","Cultural Slice","Parenthood","Self-Discovery"],paranormal:["Ghosts","Vampires","Werewolves","Witches","Reincarnation","Angels and Demons","Psychic Powers","Necromancy","Curses","Exorcism","Reapers","Haunted Objects"],literary:["Realist Fiction","Experimental","Psychological","Symbolic / Allegorical","Philosophical","Social Commentary","Stream of Consciousness","Metafiction","Minimalist","Modernist","Postmodern","Speculative Literary"]};function sv(t,[e,n]){return Math.min(n,Math.max(e,t))}function yH(t){const e=wH(t),n=p.forwardRef((s,l)=>{const{children:i,...u}=s,d=p.Children.toArray(i),f=d.find(jH);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return r.jsx(e,{...u,ref:l,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return r.jsx(e,{...u,ref:l,children:i})});return n.displayName=`${t}.Slot`,n}function wH(t){const e=p.forwardRef((n,s)=>{const{children:l,...i}=n;if(p.isValidElement(l)){const u=CH(l),d=SH(i,l.props);return l.type!==p.Fragment&&(d.ref=s?Cl(s,u):u),p.cloneElement(l,d)}return p.Children.count(l)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NH=Symbol("radix.slottable");function jH(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NH}function SH(t,e){const n={...e};for(const s in e){const l=t[s],i=e[s];/^on[A-Z]/.test(s)?l&&i?n[s]=(...d)=>{const f=i(...d);return l(...d),f}:l&&(n[s]=l):s==="style"?n[s]={...l,...i}:s==="className"&&(n[s]=[l,i].filter(Boolean).join(" "))}return{...t,...n}}function CH(t){var s,l;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function EH(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kH="VisuallyHidden",TH=p.forwardRef((t,e)=>r.jsx(xt.span,{...t,ref:e,style:{...w3,...t.style}}));TH.displayName=kH;var AH=[" ","Enter","ArrowUp","ArrowDown"],RH=[" ","Enter"],ii="Select",[Qm,Jm,OH]=Kv(ii),[Fc]=Sl(ii,[OH,Um]),ep=Um(),[MH,Co]=Fc(ii),[LH,_H]=Fc(ii),N3=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:l,onOpenChange:i,value:u,defaultValue:d,onValueChange:f,dir:m,name:g,autoComplete:x,disabled:b,required:y,form:N}=t,j=ep(e),[S,C]=p.useState(null),[T,k]=p.useState(null),[_,E]=p.useState(!1),L=Dm(m),[O,A]=dd({prop:s,defaultProp:l??!1,onChange:i,caller:ii}),[M,B]=dd({prop:u,defaultProp:d,onChange:f,caller:ii}),P=p.useRef(null),U=S?N||!!S.closest("form"):!0,[I,z]=p.useState(new Set),G=Array.from(I).map($=>$.props.value).join(";");return r.jsx(Q5,{...j,children:r.jsxs(MH,{required:y,scope:e,trigger:S,onTriggerChange:C,valueNode:T,onValueNodeChange:k,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:ml(),value:M,onValueChange:B,open:O,onOpenChange:A,dir:L,triggerPointerDownPosRef:P,disabled:b,children:[r.jsx(Qm.Provider,{scope:e,children:r.jsx(LH,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{z(W=>new Set(W).add($))},[]),onNativeOptionRemove:p.useCallback($=>{z(W=>{const Y=new Set(W);return Y.delete($),Y})},[]),children:n})}),U?r.jsxs(Y3,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:x,value:M,onChange:$=>B($.target.value),disabled:b,form:N,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(I)]},G):null]})})};N3.displayName=ii;var j3="SelectTrigger",S3=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...l}=t,i=ep(n),u=Co(j3,n),d=u.disabled||s,f=Bt(e,u.onTriggerChange),m=Jm(n),g=p.useRef("touch"),[x,b,y]=K3(j=>{const S=m().filter(k=>!k.disabled),C=S.find(k=>k.value===u.value),T=X3(S,j,C);T!==void 0&&u.onValueChange(T.value)}),N=j=>{d||(u.onOpenChange(!0),y()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(J5,{asChild:!0,...i,children:r.jsx(xt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":W3(u.value)?"":void 0,...l,ref:f,onClick:Ye(l.onClick,j=>{j.currentTarget.focus(),g.current!=="mouse"&&N(j)}),onPointerDown:Ye(l.onPointerDown,j=>{g.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:Ye(l.onKeyDown,j=>{const S=x.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&b(j.key),!(S&&j.key===" ")&&AH.includes(j.key)&&(N(),j.preventDefault())})})})});S3.displayName=j3;var C3="SelectValue",E3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:l,children:i,placeholder:u="",...d}=t,f=Co(C3,n),{onValueNodeHasChildrenChange:m}=f,g=i!==void 0,x=Bt(e,f.onValueNodeChange);return Qn(()=>{m(g)},[m,g]),r.jsx(xt.span,{...d,ref:x,style:{pointerEvents:"none"},children:W3(f.value)?r.jsx(r.Fragment,{children:u}):i})});E3.displayName=C3;var DH="SelectIcon",k3=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...l}=t;return r.jsx(xt.span,{"aria-hidden":!0,...l,ref:e,children:s||""})});k3.displayName=DH;var PH="SelectPortal",T3=t=>r.jsx(km,{asChild:!0,...t});T3.displayName=PH;var ci="SelectContent",A3=p.forwardRef((t,e)=>{const n=Co(ci,t.__scopeSelect),[s,l]=p.useState();if(Qn(()=>{l(new DocumentFragment)},[]),!n.open){const i=s;return i?fi.createPortal(r.jsx(R3,{scope:t.__scopeSelect,children:r.jsx(Qm.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),i):null}return r.jsx(O3,{...t,ref:e})});A3.displayName=ci;var Js=10,[R3,Eo]=Fc(ci),$H="SelectContentImpl",IH=yH("SelectContent.RemoveScroll"),O3=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:i,onPointerDownOutside:u,side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:y,sticky:N,hideWhenDetached:j,avoidCollisions:S,...C}=t,T=Co(ci,n),[k,_]=p.useState(null),[E,L]=p.useState(null),O=Bt(e,ae=>_(ae)),[A,M]=p.useState(null),[B,P]=p.useState(null),U=Jm(n),[I,z]=p.useState(!1),G=p.useRef(!1);p.useEffect(()=>{if(k)return Hv(k)},[k]),Fv();const $=p.useCallback(ae=>{const[ge,...X]=U().map(oe=>oe.ref.current),[ne]=X.slice(-1),ce=document.activeElement;for(const oe of ae)if(oe===ce||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ge&&E&&(E.scrollTop=0),oe===ne&&E&&(E.scrollTop=E.scrollHeight),oe==null||oe.focus(),document.activeElement!==ce))return},[U,E]),W=p.useCallback(()=>$([A,k]),[$,A,k]);p.useEffect(()=>{I&&W()},[I,W]);const{onOpenChange:Y,triggerPointerDownPosRef:Z}=T;p.useEffect(()=>{if(k){let ae={x:0,y:0};const ge=ne=>{var ce,oe;ae={x:Math.abs(Math.round(ne.pageX)-(((ce=Z.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((oe=Z.current)==null?void 0:oe.y)??0))}},X=ne=>{ae.x<=10&&ae.y<=10?ne.preventDefault():k.contains(ne.target)||Y(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",X,{capture:!0})}}},[k,Y,Z]),p.useEffect(()=>{const ae=()=>Y(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[Y]);const[V,q]=K3(ae=>{const ge=U().filter(ce=>!ce.disabled),X=ge.find(ce=>ce.ref.current===document.activeElement),ne=X3(ge,ae,X);ne&&setTimeout(()=>ne.ref.current.focus())}),K=p.useCallback((ae,ge,X)=>{const ne=!G.current&&!X;(T.value!==void 0&&T.value===ge||ne)&&(M(ae),ne&&(G.current=!0))},[T.value]),te=p.useCallback(()=>k==null?void 0:k.focus(),[k]),se=p.useCallback((ae,ge,X)=>{const ne=!G.current&&!X;(T.value!==void 0&&T.value===ge||ne)&&P(ae)},[T.value]),ue=s==="popper"?av:M3,xe=ue===av?{side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:y,sticky:N,hideWhenDetached:j,avoidCollisions:S}:{};return r.jsx(R3,{scope:n,content:k,viewport:E,onViewportChange:L,itemRefCallback:K,selectedItem:A,onItemLeave:te,itemTextRefCallback:se,focusSelectedItem:W,selectedItemText:B,position:s,isPositioned:I,searchRef:V,children:r.jsx(Am,{as:IH,allowPinchZoom:!0,children:r.jsx(Em,{asChild:!0,trapped:T.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ye(l,ae=>{var ge;(ge=T.trigger)==null||ge.focus({preventScroll:!0}),ae.preventDefault()}),children:r.jsx(Cm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:r.jsx(ue,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ae=>ae.preventDefault(),...C,...xe,onPlaced:()=>z(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ye(C.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&q(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ne=U().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ce=ae.target,oe=ne.indexOf(ce);ne=ne.slice(oe+1)}setTimeout(()=>$(ne)),ae.preventDefault()}})})})})})})});O3.displayName=$H;var zH="SelectItemAlignedPosition",M3=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...l}=t,i=Co(ci,n),u=Eo(ci,n),[d,f]=p.useState(null),[m,g]=p.useState(null),x=Bt(e,O=>g(O)),b=Jm(n),y=p.useRef(!1),N=p.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:C,focusSelectedItem:T}=u,k=p.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&m&&j&&S&&C){const O=i.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),B=C.getBoundingClientRect();if(i.dir!=="rtl"){const ce=B.left-A.left,oe=M.left-ce,we=O.left-oe,ke=O.width+we,je=Math.max(ke,A.width),Ae=window.innerWidth-Js,de=sv(oe,[Js,Math.max(Js,Ae-je)]);d.style.minWidth=ke+"px",d.style.left=de+"px"}else{const ce=A.right-B.right,oe=window.innerWidth-M.right-ce,we=window.innerWidth-O.right-oe,ke=O.width+we,je=Math.max(ke,A.width),Ae=window.innerWidth-Js,de=sv(oe,[Js,Math.max(Js,Ae-je)]);d.style.minWidth=ke+"px",d.style.right=de+"px"}const P=b(),U=window.innerHeight-Js*2,I=j.scrollHeight,z=window.getComputedStyle(m),G=parseInt(z.borderTopWidth,10),$=parseInt(z.paddingTop,10),W=parseInt(z.borderBottomWidth,10),Y=parseInt(z.paddingBottom,10),Z=G+$+I+Y+W,V=Math.min(S.offsetHeight*5,Z),q=window.getComputedStyle(j),K=parseInt(q.paddingTop,10),te=parseInt(q.paddingBottom,10),se=O.top+O.height/2-Js,ue=U-se,xe=S.offsetHeight/2,ae=S.offsetTop+xe,ge=G+$+ae,X=Z-ge;if(ge<=se){const ce=P.length>0&&S===P[P.length-1].ref.current;d.style.bottom="0px";const oe=m.clientHeight-j.offsetTop-j.offsetHeight,we=Math.max(ue,xe+(ce?te:0)+oe+W),ke=ge+we;d.style.height=ke+"px"}else{const ce=P.length>0&&S===P[0].ref.current;d.style.top="0px";const we=Math.max(se,G+j.offsetTop+(ce?K:0)+xe)+X;d.style.height=we+"px",j.scrollTop=ge-se+j.offsetTop}d.style.margin=`${Js}px 0`,d.style.minHeight=V+"px",d.style.maxHeight=U+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[b,i.trigger,i.valueNode,d,m,j,S,C,i.dir,s]);Qn(()=>k(),[k]);const[_,E]=p.useState();Qn(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const L=p.useCallback(O=>{O&&N.current===!0&&(k(),T==null||T(),N.current=!1)},[k,T]);return r.jsx(BH,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:r.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(xt.div,{...l,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});M3.displayName=zH;var UH="SelectPopperPosition",av=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:l=Js,...i}=t,u=ep(n);return r.jsx(e4,{...u,...i,ref:e,align:s,collisionPadding:l,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});av.displayName=UH;var[BH,_0]=Fc(ci,{}),lv="SelectViewport",L3=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...l}=t,i=Eo(lv,n),u=_0(lv,n),d=Bt(e,i.onViewportChange),f=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Qm.Slot,{scope:n,children:r.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ye(l.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&x){const y=Math.abs(f.current-g.scrollTop);if(y>0){const N=window.innerHeight-Js*2,j=parseFloat(x.style.minHeight),S=parseFloat(x.style.height),C=Math.max(j,S);if(C<N){const T=C+y,k=Math.min(N,T),_=T-k;x.style.height=k+"px",x.style.bottom==="0px"&&(g.scrollTop=_>0?_:0,x.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});L3.displayName=lv;var _3="SelectGroup",[qH,FH]=Fc(_3),D3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,l=ml();return r.jsx(qH,{scope:n,id:l,children:r.jsx(xt.div,{role:"group","aria-labelledby":l,...s,ref:e})})});D3.displayName=_3;var P3="SelectLabel",$3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,l=FH(P3,n);return r.jsx(xt.div,{id:l.id,...s,ref:e})});$3.displayName=P3;var lm="SelectItem",[HH,I3]=Fc(lm),z3=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:l=!1,textValue:i,...u}=t,d=Co(lm,n),f=Eo(lm,n),m=d.value===s,[g,x]=p.useState(i??""),[b,y]=p.useState(!1),N=Bt(e,T=>{var k;return(k=f.itemRefCallback)==null?void 0:k.call(f,T,s,l)}),j=ml(),S=p.useRef("touch"),C=()=>{l||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(HH,{scope:n,value:s,disabled:l,textId:j,isSelected:m,onItemTextChange:p.useCallback(T=>{x(k=>k||((T==null?void 0:T.textContent)??"").trim())},[]),children:r.jsx(Qm.ItemSlot,{scope:n,value:s,disabled:l,textValue:g,children:r.jsx(xt.div,{role:"option","aria-labelledby":j,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:N,onFocus:Ye(u.onFocus,()=>y(!0)),onBlur:Ye(u.onBlur,()=>y(!1)),onClick:Ye(u.onClick,()=>{S.current!=="mouse"&&C()}),onPointerUp:Ye(u.onPointerUp,()=>{S.current==="mouse"&&C()}),onPointerDown:Ye(u.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:Ye(u.onPointerMove,T=>{var k;S.current=T.pointerType,l?(k=f.onItemLeave)==null||k.call(f):S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(u.onPointerLeave,T=>{var k;T.currentTarget===document.activeElement&&((k=f.onItemLeave)==null||k.call(f))}),onKeyDown:Ye(u.onKeyDown,T=>{var _;((_=f.searchRef)==null?void 0:_.current)!==""&&T.key===" "||(RH.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});z3.displayName=lm;var Zu="SelectItemText",U3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:l,...i}=t,u=Co(Zu,n),d=Eo(Zu,n),f=I3(Zu,n),m=_H(Zu,n),[g,x]=p.useState(null),b=Bt(e,C=>x(C),f.onItemTextChange,C=>{var T;return(T=d.itemTextRefCallback)==null?void 0:T.call(d,C,f.value,f.disabled)}),y=g==null?void 0:g.textContent,N=p.useMemo(()=>r.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=m;return Qn(()=>(j(N),()=>S(N)),[j,S,N]),r.jsxs(r.Fragment,{children:[r.jsx(xt.span,{id:f.textId,...i,ref:b}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?fi.createPortal(i.children,u.valueNode):null]})});U3.displayName=Zu;var B3="SelectItemIndicator",q3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return I3(B3,n).isSelected?r.jsx(xt.span,{"aria-hidden":!0,...s,ref:e}):null});q3.displayName=B3;var ov="SelectScrollUpButton",F3=p.forwardRef((t,e)=>{const n=Eo(ov,t.__scopeSelect),s=_0(ov,t.__scopeSelect),[l,i]=p.useState(!1),u=Bt(e,s.onScrollButtonChange);return Qn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollTop>0;i(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),l?r.jsx(V3,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});F3.displayName=ov;var iv="SelectScrollDownButton",H3=p.forwardRef((t,e)=>{const n=Eo(iv,t.__scopeSelect),s=_0(iv,t.__scopeSelect),[l,i]=p.useState(!1),u=Bt(e,s.onScrollButtonChange);return Qn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;i(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),l?r.jsx(V3,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});H3.displayName=iv;var V3=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...l}=t,i=Eo("SelectScrollButton",n),u=p.useRef(null),d=Jm(n),f=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),Qn(()=>{var g;const m=d().find(x=>x.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),r.jsx(xt.div,{"aria-hidden":!0,...l,ref:e,style:{flexShrink:0,...l.style},onPointerDown:Ye(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:Ye(l.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:Ye(l.onPointerLeave,()=>{f()})})}),VH="SelectSeparator",G3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return r.jsx(xt.div,{"aria-hidden":!0,...s,ref:e})});G3.displayName=VH;var cv="SelectArrow",GH=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,l=ep(n),i=Co(cv,n),u=Eo(cv,n);return i.open&&u.position==="popper"?r.jsx(t4,{...l,...s,ref:e}):null});GH.displayName=cv;var YH="SelectBubbleInput",Y3=p.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const l=p.useRef(null),i=Bt(s,l),u=EH(e);return p.useEffect(()=>{const d=l.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const x=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(x)}},[u,e]),r.jsx(xt.select,{...n,style:{...w3,...n.style},ref:i,defaultValue:e})});Y3.displayName=YH;function W3(t){return t===""||t===void 0}function K3(t){const e=pr(t),n=p.useRef(""),s=p.useRef(0),l=p.useCallback(u=>{const d=n.current+u;e(d),(function f(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,l,i]}function X3(t,e,n){const l=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let u=WH(t,Math.max(i,0));l.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.textValue.toLowerCase().startsWith(l.toLowerCase()));return f!==n?f:void 0}function WH(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var KH=N3,Z3=S3,XH=E3,ZH=k3,QH=T3,Q3=A3,JH=L3,eV=D3,J3=$3,ek=z3,tV=U3,nV=q3,tk=F3,nk=H3,rk=G3;const fl=KH,rV=eV,hl=XH,Ea=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(Z3,{ref:s,className:ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,r.jsx(ZH,{asChild:!0,children:r.jsx(Rv,{className:"h-4 w-4 opacity-50"})})]}));Ea.displayName=Z3.displayName;const sk=p.forwardRef(({className:t,...e},n)=>r.jsx(tk,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(sM,{className:"h-4 w-4"})}));sk.displayName=tk.displayName;const ak=p.forwardRef(({className:t,...e},n)=>r.jsx(nk,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Rv,{className:"h-4 w-4"})}));ak.displayName=nk.displayName;const ka=p.forwardRef(({className:t,children:e,position:n="popper",...s},l)=>r.jsx(QH,{children:r.jsxs(Q3,{ref:l,className:ht("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[r.jsx(sk,{}),r.jsx(JH,{className:ht("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(ak,{})]})}));ka.displayName=Q3.displayName;const sV=p.forwardRef(({className:t,...e},n)=>r.jsx(J3,{ref:n,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sV.displayName=J3.displayName;const qn=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(ek,{ref:s,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(nV,{children:r.jsx(Av,{className:"h-4 w-4"})})}),r.jsx(tV,{children:e})]}));qn.displayName=ek.displayName;const aV=p.forwardRef(({className:t,...e},n)=>r.jsx(rk,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",t),...e}));aV.displayName=rk.displayName;function lk({storyFilters:t,setStoryFilters:e}){const[n,s]=p.useState([{genre:"Romance",subgenres:[]},{genre:"Mystery",subgenres:[]}]);p.useEffect(()=>{s(u=>u.map(d=>({...d,subgenres:bs[d.genre]||[]})))},[]);const l=(u,d)=>{const f=[...n];f[u]={genre:d,subgenres:bs[d]||[]},s(f);const m=["primarygenre","secondarygenre"];e(g=>({...g,[m[u]]:d}))},i=(u,d)=>{const f=["primarysubgenre","secondarysubgenre"];e(m=>({...m,[f[u]]:d}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",style:{borderColor:"var(--border-color)"},children:[r.jsx(Xo,{className:"w-5 h-5",style:{color:"var(--accent-color)"},"aria-hidden":"true"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Filter Stories"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Qt,{className:"w-4 h-4",style:{color:"var(--accent-color)"},"aria-hidden":"true"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--secondary-text)"},children:"Genres & Subgenres"})]}),n.map((u,d)=>r.jsxs("div",{className:"p-4 rounded-xl space-y-3 transition-all",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(_v,{className:"w-3.5 h-3.5",style:{color:d===0?"#3b82f6":"#8b5cf6"},"aria-hidden":"true"}),r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--secondary-text)"},children:d===0?"Primary Genre":"Secondary Genre"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:`genre-${d}`,className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Genre"}),r.jsxs(fl,{value:u.genre,onValueChange:f=>l(d,f),children:[r.jsx(Ea,{id:`genre-${d}`,className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},"aria-label":`Select ${d===0?"primary":"secondary"} genre`,children:r.jsx(hl,{placeholder:"Select a genre"})}),r.jsx(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:Object.keys(bs).map(f=>r.jsx(qn,{value:f,className:"themed-select-item",style:{color:"var(--foreground-color)"},children:f},f))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:`subgenre-${d}`,className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Subgenre"}),r.jsxs(fl,{onValueChange:f=>i(d,f),children:[r.jsx(Ea,{id:`subgenre-${d}`,className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},"aria-label":`Select ${d===0?"primary":"secondary"} subgenre`,children:r.jsx(hl,{placeholder:"Select a subgenre"})}),r.jsx(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:u.subgenres.map(f=>r.jsx(qn,{value:f,className:"themed-select-item",style:{color:"var(--foreground-color)"},children:f},f))})]})]})]},d))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vh,{className:"w-4 h-4",style:{color:"var(--accent-color)"},"aria-hidden":"true"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--secondary-text)"},children:"Audience & Demographics"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"audience-select",className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Target Audience"}),r.jsxs(fl,{value:t.audience,onValueChange:u=>e(d=>({...d,audience:u})),children:[r.jsx(Ea,{id:"audience-select",className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},children:r.jsx(hl,{placeholder:"Select audience"})}),r.jsxs(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:[r.jsx(qn,{value:"general",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"General"}),r.jsx(qn,{value:"male",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Male"}),r.jsx(qn,{value:"female",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Female"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"age-select",className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Age Group"}),r.jsxs(fl,{value:t.age,onValueChange:u=>e(d=>({...d,age:u})),children:[r.jsx(Ea,{id:"age-select",className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},children:r.jsx(hl,{placeholder:"Select age group"})}),r.jsxs(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:[r.jsx(qn,{value:"kids",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Kids (6-12)"}),r.jsx(qn,{value:"teen",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Teen (13-17)"}),r.jsx(qn,{value:"young adult",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Young Adult (18-25)"}),r.jsx(qn,{value:"adult",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:"Adult (26+)"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zo,{className:"w-4 h-4",style:{color:"var(--accent-color)"},"aria-hidden":"true"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--secondary-text)"},children:"Status & Sorting"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"status-select",className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Story Status"}),r.jsxs(fl,{value:t.status,onValueChange:u=>e(d=>({...d,status:u})),children:[r.jsx(Ea,{id:"status-select",className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},children:r.jsx(hl,{placeholder:"Select status"})}),r.jsxs(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:[r.jsx(qn,{value:"ongoing",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Ongoing"]})}),r.jsx(qn,{value:"completed",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Completed"]})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"sort-select",className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:"Sort By"}),r.jsxs(fl,{value:t.sort,onValueChange:u=>e(d=>({...d,sort:u})),children:[r.jsx(Ea,{id:"sort-select",className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",borderColor:"var(--border-color)"},children:r.jsx(hl,{placeholder:"Sort by"})}),r.jsxs(ka,{className:"themed-select-content",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)"},children:[r.jsx(qn,{value:"recent",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zo,{className:"w-3.5 h-3.5"}),"Recently Updated"]})}),r.jsx(qn,{value:"popular",className:"themed-select-item",style:{color:"var(--foreground-color)"},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dv,{className:"w-3.5 h-3.5"}),"Most Popular"]})})]})]})]})]})]}),r.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-color)"},children:r.jsx("button",{onClick:()=>{e({primarygenre:"romance",secondarygenre:"",primarysubgenre:"mystery",secondarysubgenre:"",age:"young adult",audience:"general",status:"ongoing",type:"novel",sort:"recent"}),s([{genre:"Romance",subgenres:bs.Romance||[]},{genre:"Mystery",subgenres:bs.Mystery||[]}])},className:"w-full py-2.5 px-4 rounded-lg font-medium transition-all hover:opacity-90",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)",border:"1px solid var(--border-color)"},"aria-label":"Reset all filters",children:"Reset Filters"})})]})}function lV(){const t=Je(),{user:e}=Nt(),[n,s]=p.useState(!1),[l,i]=p.useState(""),[u,d]=p.useState([]),[f,m]=p.useState(1),[g,x]=p.useState(!0),[b,y]=p.useState(""),[N,j]=p.useState(!1),S=p.useRef(null),[C,T]=p.useState({primarygenre:"romance",secondarygenre:"",primarysubgenre:"mystery",secondarysubgenre:"",age:"young adult",audience:"general",status:"ongoing",type:"novel",sort:"recent"}),k={novel:Qt,"short story":mC,"Flash story":zL},_=k[C.type]||Qt;p.useEffect(()=>{d([]),m(1),x(!0)},[C]),p.useEffect(()=>{async function M(){var B;i(""),s(!0);try{const P=new URLSearchParams({page:f,limit:12,...C}),U=await fetch(`https://fanhub-server.onrender.com/api/home/stories?${P.toString()}`,{method:"GET",credentials:"include"}),I=await U.json();if(!U.ok){U.status===500?t("/error",{state:{message:I.message||"Process failed"}}):i(I.message);return}const z=I.stories||[];d(G=>{const $=z.filter(W=>!G.some(Y=>Y.id===W.id));return[...G,...$]}),f>=(((B=I.pagination)==null?void 0:B.totalPages)||1)&&x(!1)}catch(P){t("/error",{state:{message:P.message}})}finally{s(!1)}}M()},[f,C,t]),p.useEffect(()=>{if(n)return;const M=new IntersectionObserver(P=>{P[0].isIntersecting&&g&&m(U=>U+1)},{threshold:.2}),B=S.current;return B&&M.observe(B),()=>B&&M.unobserve(B)},[n,g]);async function E(M){M.preventDefault(),j(!0),i("");try{const B=new URLSearchParams({query:b,page:1,limit:12}),P=await fetch(`https://fanhub-server.onrender.com/api/home/stories/search?${B.toString()}`,{method:"GET",credentials:"include"}),U=await P.json();if(!P.ok){P.status===500?t("/error",{state:{message:U.message||"Process failed"}}):i(U.message);return}d(U.stories),x(!1)}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{j(!1)}}async function L(M){try{await fetch(`https://fanhub-server.onrender.com/api/stories/${M}/view`,{method:"POST",credentials:"include"}),await fetch(`https://fanhub-server.onrender.com/api/users/${e.id}/social/readingpoint`,{method:"POST",credentials:"include"}),await fetch(`https://fanhub-server.onrender.com/api/users/${e.id}/readingStreak`,{method:"POST",credentials:"include"})}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}}const O=M=>{L(M),t(`/stories/${M}`)},A=async()=>{y(""),d([]),m(1),x(!0);try{s(!0);const M=new URLSearchParams({page:1,limit:12,...C}),B=await fetch(`https://fanhub-server.onrender.com/api/home/stories?${M.toString()}`,{method:"GET",credentials:"include"}),P=await B.json();B.ok?d(P.stories||[]):i(P.message||"Failed to load stories")}catch{i("Network error. Please check your connection.")}finally{s(!1)}};return p.useEffect(()=>{b===""&&A()},[b]),r.jsx("main",{className:"min-h-screen",role:"main",style:{backgroundColor:"var(--background-color)"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[l&&r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-xl p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:l})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("form",{onSubmit:E,className:"relative mb-8 px-4 sm:px-6 lg:px-0",role:"search","aria-label":"Search stories",children:r.jsx("div",{className:"relative max-w-4xl mx-auto w-full",children:r.jsxs("div",{className:"relative flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(qr,{className:"absolute left-5 sm:left-6 top-1/2 transform -translate-y-1/2 w-5 sm:w-6 h-5 sm:h-6 transition-all duration-300",style:{color:b?"var(--accent-color)":"var(--secondary-text)",opacity:b?1:.5}}),r.jsx(Rn,{id:"storySearch",type:"text",value:b,onChange:M=>y(M.target.value),placeholder:"What story are you looking for today?",className:"pl-14 sm:pl-16 pr-12 sm:pr-14 py-4 sm:py-8 w-full rounded-2xl text-base sm:text-lg font-medium shadow-2xl border-0 focus:ring-4 focus:ring-offset-0 transition-all duration-300 placeholder:text-sm sm:placeholder:text-base",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"}}),b&&r.jsx("button",{type:"button",onClick:A,className:"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 p-1.5 sm:p-2 rounded-full transition-all duration-200 hover:scale-110 active:scale-95",style:{backgroundColor:"var(--accent-color)15"},"aria-label":"Clear search",children:r.jsx(On,{className:"w-4 sm:w-5 h-4 sm:h-5",style:{color:"var(--accent-color)"}})})]}),r.jsx(Oe,{type:"submit",disabled:N||!b,className:"w-full sm:w-auto px-6 sm:px-10 py-4 sm:py-8 rounded-2xl font-bold text-base sm:text-lg transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 shadow-2xl border-0",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:N?r.jsx(vt,{className:"w-5 sm:w-6 h-5 sm:h-6 animate-spin"}):"Search"})]})})}),r.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-center max-w-4xl mx-auto mb-8 px-4 sm:px-6",children:[r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsxs("button",{className:"px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold text-sm sm:text-base transition-all duration-300 hover:scale-105 active:scale-95 flex items-center gap-2 border-0",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[r.jsx(Xo,{className:"w-4 h-4"}),"Filters"]})}),r.jsx(_a,{className:"p-3 sm:p-4 w-64 sm:w-80 shadow-2xl rounded-xl",style:{backgroundColor:"var(--card-bg)",boxShadow:"0 20px 50px rgba(0,0,0,0.15)"},"aria-label":"Filter options",children:r.jsx(lk,{storyFilters:C,setStoryFilters:T})})]}),r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsxs("button",{className:"px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold text-sm sm:text-base transition-all duration-300 hover:scale-105 active:scale-95 flex items-center gap-2 capitalize border-0",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[r.jsx(_,{className:"w-4 h-4"}),C.type,r.jsx(Rv,{className:"w-4 h-4"})]})}),r.jsx(_a,{className:"p-3 w-48 sm:w-52 rounded-xl shadow-2xl",style:{backgroundColor:"var(--card-bg)",boxShadow:"0 20px 50px rgba(0,0,0,0.15)"},children:["novel","short story","Flash story"].map(M=>{const B=k[M];return r.jsxs("button",{onClick:()=>T(P=>({...P,type:M})),className:"w-full text-left px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 flex items-center gap-3 capitalize font-medium",style:{color:C.type===M?"var(--accent-color)":"var(--foreground-color)",backgroundColor:C.type===M?"var(--accent-color)15":"transparent"},children:[r.jsx(B,{className:"w-4 h-4"}),M]},M)})})]})]})]}),r.jsx("section",{"aria-label":"Story list",children:u.length===0&&!n?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--card-bg)"},children:r.jsx(qr,{className:"w-12 h-12",style:{color:"var(--secondary-text)"}})}),r.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--foreground-color)"},children:"No stories found"}),r.jsx("p",{style:{color:"var(--secondary-text)"},children:"Try adjusting your filters or search terms"})]}):r.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:u.map((M,B)=>r.jsxs("article",{onClick:()=>O(M.id),className:"group cursor-pointer rounded-xl overflow-hidden transition-all hover:scale-105 active:scale-95 focus-within:ring-2 focus-within:ring-blue-500",style:{backgroundColor:"var(--card-bg)"},tabIndex:0,role:"button",onKeyPress:P=>{(P.key==="Enter"||P.key===" ")&&O(M.id)},"aria-label":`Read ${M.title}`,children:[r.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden rounded-xl shadow-md",children:[r.jsx("img",{src:M.imgUrl,alt:`Cover for ${M.title}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 translate-y-full group-hover:translate-y-0 transition-transform",children:r.jsxs("div",{className:"flex items-center justify-between text-white text-xs",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Cr,{className:"w-3 h-3 text-blue-400"}),M._count.views]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-3 h-3 text-red-400"}),M._count.likes]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""}),M._count.reviews]})]})})]}),r.jsx("div",{className:"p-2",children:r.jsx("h2",{className:"font-semibold text-sm line-clamp-2 leading-tight",style:{color:"var(--foreground-color)"},children:M.title})}),B===u.length-1&&r.jsx("div",{ref:S,className:"h-1","aria-hidden":"true"})]},M.id))})}),n&&r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(vt,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--accent-color)"}}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--secondary-text)"},children:"Loading more stories..."})]})})]})})}function oV(){const t=Je(),{user:e}=Nt(),[n,s]=p.useState(!1),[l,i]=p.useState(""),[u,d]=p.useState([]),[f,m]=p.useState(1),[g,x]=p.useState(!0),[b,y]=p.useState(""),[N,j]=p.useState(!1),S=p.useRef(null),[C,T]=p.useState({primarygenre:"mystery",secondarygenre:"",primarysubgenre:"romance",secondarysubgenre:"",age:"young adult",audience:"general",status:"ongoing",sort:"recent"});p.useEffect(()=>{d([]),m(1),x(!0)},[C]),p.useEffect(()=>{async function L(){i(""),s(!0);try{const O=new URLSearchParams({page:f,limit:12,...C}),A=await fetch(`https://fanhub-server.onrender.com/api/home/collections?${O.toString()}`,{method:"GET",credentials:"include"}),M=await A.json();if(A.status===500){t("/error",{state:{message:M.message||"Process failed"}});return}else if(!A.ok){i(M.message);return}d(B=>{const P=M.collections.filter(U=>!B.some(I=>I.id===U.id));return[...B,...P]}),f>=M.pagination.totalPages&&x(!1)}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{s(!1)}}L()},[f,C,t]),p.useEffect(()=>{if(n)return;const L=new IntersectionObserver(A=>{A[0].isIntersecting&&g&&m(M=>M+1)},{threshold:.2}),O=S.current;return O&&L.observe(O),()=>O&&L.unobserve(O)},[n,g]);async function k(L){L.preventDefault(),j(!0),i("");try{const O=new URLSearchParams({query:b,page:1,limit:12}),A=await fetch(`https://fanhub-server.onrender.com/api/home/collections/search?${O.toString()}`,{method:"GET",credentials:"include"}),M=await A.json();if(!A.ok){i(M.message||"Failed to search collections");return}d(M.collections),x(!1)}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{j(!1)}}async function _(L){try{await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${L}/view`,{method:"POST",credentials:"include"}),t(`/gallery/${L}`)}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}}const E=async()=>{y(""),d([]),m(1),x(!0)};return r.jsx("main",{className:"min-h-screen",role:"main",style:{backgroundColor:"var(--background-color)"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[l&&r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-xl p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:l})}),r.jsxs("form",{onSubmit:k,className:"relative max-w-4xl mx-auto w-full flex items-center gap-3 mb-8",role:"search",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(qr,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(Rn,{type:"text",value:b,onChange:L=>y(L.target.value),placeholder:"Search collections...",className:"pl-12 pr-12 py-3 w-full rounded-2xl shadow-lg border-0 focus:ring-2 focus:ring-primary transition-all",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)"}}),b&&r.jsx("button",{type:"button",onClick:E,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 rounded-full hover:bg-gray-200/50","aria-label":"Clear search",children:r.jsx(On,{className:"w-4 h-4 text-gray-600"})})]}),r.jsx(Oe,{type:"submit",disabled:N||!b,className:"px-6 py-3 rounded-2xl font-bold shadow-lg",children:N?r.jsx(vt,{className:"w-5 h-5 animate-spin"}):"Search"})]}),r.jsx("div",{className:"flex flex-wrap gap-3 justify-center max-w-4xl mx-auto mb-8",children:r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsxs("button",{className:"px-4 py-2 rounded-full font-semibold flex items-center gap-2 shadow-md",children:[r.jsx(Xo,{className:"w-4 h-4"})," Filters"]})}),r.jsx(_a,{className:"p-4 w-64 sm:w-80 rounded-xl shadow-2xl",children:r.jsx(lk,{storyFilters:C,setStoryFilters:T})})]})}),r.jsx("section",{"aria-label":"Collection list",children:u.length===0&&!n?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center bg-gray-200",children:r.jsx(qr,{className:"w-12 h-12 text-gray-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"No collections found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search terms"})]}):r.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:u.map((L,O)=>r.jsxs("article",{onClick:()=>_(L.id),className:"group cursor-pointer rounded-xl overflow-hidden transition-all hover:scale-105 active:scale-95 focus-within:ring-2 focus-within:ring-blue-500",tabIndex:0,role:"button","aria-label":`View ${L.name}`,onKeyPress:A=>{(A.key==="Enter"||A.key===" ")&&_(L.id)},children:[r.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden rounded-xl shadow-md",children:[r.jsx("img",{src:L.img,alt:`Cover for ${L.name}`,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 translate-y-full group-hover:translate-y-0 transition-transform",children:r.jsxs("div",{className:"flex items-center justify-between text-white text-xs",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Cr,{className:"w-3 h-3 text-blue-400"})," ",L._count.views]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-3 h-3 text-red-400"})," ",L._count.likes]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""})," ",L._count.review]})]})})]}),r.jsx("div",{className:"p-2",children:r.jsx("h2",{className:"font-semibold text-sm line-clamp-2 leading-tight",style:{color:"var(--foreground-color)"},children:L.name})}),O===u.length-1&&r.jsx("div",{ref:S,className:"h-1","aria-hidden":"true"})]},L.id))})}),n&&r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(vt,{className:"w-12 h-12 animate-spin text-accent-color"})})]})})}function iV(){const{id:t}=ln(),{user:e}=Nt(),[n,s]=p.useState(""),[l,i]=p.useState(!1),u=Je(),[d,f]=p.useState(null),[m,g]=p.useState(!1),[x,b]=p.useState(()=>{const j=localStorage.getItem("theme");return j?j==="dark":!1});p.useEffect(()=>{document.documentElement.classList.toggle("dark",x),localStorage.setItem("theme",x?"dark":"light")},[x]),p.useEffect(()=>{i(!0),s("");async function j(){try{const S=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${t}`,{method:"GET",credentials:"include"}),C=await S.json();if(S.status===500){u("/error",{state:{message:C.message||"Process failed"}});return}if(!S.ok){s(C.message);return}f(C.recommendation)}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}j()},[t,u]);async function y(j){if(j.preventDefault(),!m){s(""),g(!0);try{const S=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${t}/like`,{method:"POST",credentials:"include"}),C=await S.json();if(S.status===500){u("/error",{state:{message:C.message||"Process failed"}});return}if(!S.ok){s(C.message);return}f(T=>{const k=C.message==="Liked!"?1:-1,_=C.message==="Liked!";return{...T,_count:{...T._count,likes:T._count.likes+k},likes:_?[{id:C.likeId,userId:e.id}]:[]}}),C.message==="Liked!"&&await fetch(`https://fanhub-server.onrender.com/api/users/${e.id}/social/likepoint`,{method:"POST",credentials:"include"})}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{g(!1)}}}if(l)return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:x,setDarkMode:b}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading recommendation..."})]})})]});if(!d)return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:x,setDarkMode:b}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsx("p",{style:{color:"var(--foreground-color)"},children:"Recommendation list not found"})})]});const N=d.likes&&d.likes.length>0;return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:x,setDarkMode:b}),r.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:[n&&r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 mb-4 mt-4",children:r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:n})})}),r.jsxs("article",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-2 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>u("/recommendations"),className:"hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-colors",style:{color:"var(--accent-color)"},children:"Recommendations"})}),r.jsx("li",{"aria-hidden":"true",children:"/"}),r.jsx("li",{children:r.jsx("span",{className:"font-medium",style:{color:"var(--foreground-color)"},children:d.title})})]})}),r.jsx("header",{className:"mb-12",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.coverImage&&r.jsx("div",{className:"lg:w-1/3 flex-shrink-0",children:r.jsx("img",{src:d.coverImage,alt:d.title,className:"w-full rounded-2xl shadow-2xl object-cover",style:{height:"450px",border:"3px solid var(--border-color)"}})}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight",style:{color:"var(--foreground-color)"},children:d.title}),r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>u(`/profile/${d.user.username}/${d.userId}/about`),children:[d.user.img?r.jsx("img",{src:d.user.img,alt:d.user.username,className:"w-12 h-12 rounded-full object-cover border-2",style:{borderColor:"var(--border-color)"}}):r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold",style:{backgroundColor:"var(--card-bg)",color:"var(--accent-color)",border:"2px solid var(--border-color)"},children:d.user.username[0].toUpperCase()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"Curated by"}),r.jsxs("p",{className:"font-semibold",style:{color:"var(--accent-color)"},children:["@",d.user.username]})]})]}),d.description&&r.jsx("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:r.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--foreground-color)"},children:d.description})}),r.jsxs("div",{className:"flex items-center gap-6 flex-wrap text-sm",style:{color:"var(--secondary-text)"},children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:d._count.stories||0})," Stories"]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(mn,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:d._count.comments||0})," Comments"]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Rd,{className:"w-5 h-5"}),new Date(d.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("div",{className:"flex items-center gap-4 pt-4",children:r.jsxs("button",{onClick:y,disabled:m,className:`flex items-center gap-2 px-6 py-3 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${N?"ring-2":""}`,style:{backgroundColor:N?"#ef4444":"var(--button-bg)",color:"white"},"aria-label":N?"Unlike this list":"Like this list",children:[r.jsx($t,{className:`w-5 h-5 transition-all ${N?"fill-current":""}`}),r.jsxs("span",{className:"font-semibold",children:[N?"Liked":"Like"," (",d._count.likes||0,")"]})]})})]})]})}),r.jsxs("section",{className:"mb-16","aria-labelledby":"stories-heading",children:[r.jsxs("h2",{id:"stories-heading",className:"text-2xl sm:text-3xl font-bold mb-6",style:{color:"var(--foreground-color)"},children:["Stories in this List (",d._count.stories||0,")"]}),d.stories&&d.stories.length===0?r.jsxs("div",{className:"text-center py-16 rounded-2xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--secondary-text)"}}),r.jsx("p",{style:{color:"var(--secondary-text)"},children:"No stories in this list yet."})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:d.stories.map(({story:j})=>r.jsxs("div",{onClick:()=>u(`/stories/${j.id}`),className:"group cursor-pointer rounded-2xl overflow-hidden shadow-lg transition-all hover:scale-105 hover:shadow-2xl",style:{backgroundColor:"var(--card-bg)",border:"2px solid var(--border-color)"},children:[j.imgUrl&&r.jsxs("div",{className:"relative overflow-hidden aspect-[2/3]",children:[r.jsx("img",{src:j.imgUrl,alt:j.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),j.status&&r.jsx("span",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold shadow-lg",style:{backgroundColor:j.status==="Completed"?"#10b981":"#f59e0b",color:"white"},children:j.status})]}),r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx("h3",{className:"font-bold text-base line-clamp-2 group-hover:underline",style:{color:"var(--foreground-color)"},children:j.title}),j.user&&r.jsxs("p",{className:"text-xs flex items-center gap-1",style:{color:"var(--secondary-text)"},children:[r.jsx(hi,{className:"w-3 h-3"}),j.user.username]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:j.primarygenre&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--accent-color)",color:"white"},children:j.primarygenre})})]})]},j.id))})]}),r.jsxs("section",{className:"p-6 sm:p-8 rounded-2xl shadow-lg",style:{backgroundColor:"var(--card-bg)",border:"2px solid var(--border-color)"},"aria-labelledby":"comments-heading",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(mn,{className:"w-6 h-6",style:{color:"var(--accent-color)"}}),r.jsxs("h2",{id:"comments-heading",className:"text-2xl sm:text-3xl font-bold",style:{color:"var(--foreground-color)"},children:["Reader Comments (",d._count.comments||0,")"]})]}),r.jsx(jl,{recommendationId:d.id,contentOwnerId:d.userId})]})]})]})]})}function cV(){var _,E,L;const{user:t}=Nt(),{reviewId:e,name:n,id:s}=ln(),l=Je(),[i,u]=p.useState(""),[d,f]=p.useState(!1),[m,g]=p.useState(null),[x,b]=p.useState(!1),[y,N]=p.useState(!1),[j,S]=p.useState(()=>{const O=localStorage.getItem("theme");return O?O==="dark":!1});p.useEffect(()=>{async function O(){f(!0),u("");try{const A=await fetch(`https://fanhub-server.onrender.com/api/review/${e}`,{method:"GET",credentials:"include"}),M=await A.json();if(A.status===500){l("/error",{state:{message:M.message||"Process failed"}});return}else if(A.status===404){u("Review not found");return}else if(!A.ok&&A.status!==500){u(M.message);return}g(M.review)}catch{l("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{f(!1)}}O()},[e,l]);async function C(O){O.preventDefault(),u(""),b(!0);try{const A=n==="stories"?`https://fanhub-server.onrender.com/api/${n}/${s}/reviews/${e}/like/love`:`https://fanhub-server.onrender.com/api/gallery/${n}/${s}/reviews/${e}/like/love`,M=await fetch(A,{method:"POST",credentials:"include"}),B=await M.json();if(M.status===500){l("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok&&M.status!==500){u(B.message);return}g(P=>{const U=B.message==="Liked!"?1:-1;return{...P,_count:{...P._count,likes:P._count.likes+U},likedByCurrentUser:B.message==="Liked!"}}),B.message==="Liked!"&&await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/social/likepoint`,{method:"POST",credentials:"include"})}catch{l("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{b(!1)}}async function T(){N(!0);try{const O=n==="stories"?await Ss(`https://fanhub-server.onrender.com/api/stories/${s}/reviews/${e}`):await Ss(`https://fanhub-server.onrender.com/api/gallery/collections/${s}/reviews/${e}`);l(n==="stories"?`/stories/${s}`:`/gallery/${s}`)}catch{l("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{N(!1)}}const k=O=>r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(A=>r.jsx(qs,{className:`w-5 h-5 transition-colors ${A<=O?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},A))});return d?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:j,setDarkMode:S}),r.jsx("div",{className:"h-10"}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading review..."})]})})]}):!m&&!d?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:j,setDarkMode:S}),r.jsx("div",{className:"h-10"}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(qs,{className:"w-16 h-16 mx-auto opacity-20",style:{color:"var(--secondary-text)"}}),r.jsx("p",{className:"text-xl font-medium",style:{color:"var(--foreground-color)"},children:"Review not found"}),r.jsx(Oe,{onClick:()=>l(-1),className:"mt-4",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:"Go Back"})]})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:j,setDarkMode:S}),r.jsx("div",{className:"h-10"}),r.jsx("div",{className:"min-h-screen py-8 px-4",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("button",{onClick:()=>l(`/stories/${m.storyId}`),className:"flex items-center gap-2 mb-6 px-4 py-2 rounded-lg transition-all hover:scale-105 active:scale-95",style:{color:"var(--accent-color)",backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx($c,{className:"w-5 h-5"}),r.jsx("span",{children:"Back"})]}),i&&r.jsx("div",{className:"mb-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4 animate-fadeIn",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:i})}),m&&r.jsxs("article",{className:"rounded-2xl shadow-lg p-6 sm:p-8 animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"flex-shrink-0",children:(_=m.user)!=null&&_.img?r.jsx("img",{src:m.user.img,alt:m.user.username,className:"w-14 h-14 rounded-full object-cover border-2",style:{borderColor:"var(--border-color)"}}):r.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center border-2",style:{backgroundColor:"var(--accent-color)",borderColor:"var(--border-color)"},children:r.jsx(Ov,{className:"w-10 h-10 text-white"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",style:{color:"var(--foreground-color)"},children:m.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("span",{className:"font-medium text-base",style:{color:"var(--accent-color)"},onClick:()=>l(`/profile/${m.user.username}/${m.userId}/about`),children:((E=m.user)==null?void 0:E.username)||"Anonymous User"}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1.5",children:[r.jsx(Zo,{className:"w-4 h-4"}),new Date(m.uploadedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]})]}),r.jsxs("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:"rgba(37, 99, 235, 0.05)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-base font-semibold",style:{color:"var(--foreground-color)"},children:"Overall Rating"}),r.jsxs("div",{className:"flex items-center gap-3",children:[k(m.overallrate),r.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--accent-color)"},children:[m.overallrate,"/5"]})]})]}),n==="stories"&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4 border-t",style:{borderColor:"var(--border-color)"},children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx(Qt,{className:"w-4 h-4"}),"Plot"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[k(m.plotrate),r.jsxs("span",{className:"text-sm font-bold",style:{color:"var(--foreground-color)"},children:[m.plotrate,"/5"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--secondary-text)"},children:"Writing Style"}),r.jsxs("div",{className:"flex items-center gap-2",children:[k(m.writingstylerate),r.jsxs("span",{className:"text-sm font-bold",style:{color:"var(--foreground-color)"},children:[m.writingstylerate,"/5"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--secondary-text)"},children:"Grammar"}),r.jsxs("div",{className:"flex items-center gap-2",children:[k(m.grammarrate),r.jsxs("span",{className:"text-sm font-bold",style:{color:"var(--foreground-color)"},children:[m.grammarrate,"/5"]})]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--foreground-color)"},children:"Review"}),r.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",style:{color:"var(--foreground-color)"},children:m.content})]}),r.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",style:{borderColor:"var(--border-color)"},children:[r.jsxs(Oe,{onClick:C,disabled:x,className:`flex items-center gap-2 px-6 py-3 rounded-full transition-all hover:scale-105 active:scale-95 ${m.likedByCurrentUser?"bg-red-500 hover:bg-red-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,style:m.likedByCurrentUser?{}:{color:"var(--foreground-color)"},children:[r.jsx($t,{className:`w-5 h-5 transition-all ${m.likedByCurrentUser?"fill-current animate-ping-once":""} ${x?"animate-pulse":""}`}),r.jsx("span",{className:"font-medium",children:((L=m._count)==null?void 0:L.likes)||0})]}),(t==null?void 0:t.id)===m.userId&&r.jsx(Oe,{disabled:y,onClick:()=>{window.confirm("Are you sure you want to delete this review?")&&T()},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 transition-all hover:scale-105 active:scale-95",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-t-red-600 border-red-300 rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Review"})]})})]})]})]})})]})}const uV=()=>{const{user:t}=Nt(),e=Je(),[n,s]=p.useState(localStorage.getItem("theme")==="dark"),[l,i]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(1),[g,x]=p.useState(1),[b,y]=p.useState(""),[N,j]=p.useState("createdAt"),[S,C]=p.useState("desc"),[T,k]=p.useState(!1);p.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),p.useEffect(()=>{_()},[f,N,S]);const _=async()=>{var O;d(!0);try{const A=await fetch(`https://fanhub-server.onrender.com/api/recommendations/featured?page=${f}&limit=12&sortBy=${N}&sortOrder=${S}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),M=await A.json();A.ok?(i(M.recommendations||[]),x(((O=M.pagination)==null?void 0:O.totalPages)||1)):console.error("Failed to fetch recommendations:",M.message)}catch(A){console.error("Failed to fetch recommendations:",A)}finally{d(!1)}},E=l.filter(O=>{var A,M;return O.title.toLowerCase().includes(b.toLowerCase())||((A=O.description)==null?void 0:A.toLowerCase().includes(b.toLowerCase()))||((M=O.user)==null?void 0:M.username.toLowerCase().includes(b.toLowerCase()))}),L=O=>{const[A,M]=O.split("-");j(A),C(M),m(1)};return r.jsxs("div",{className:"min-h-screen transition-colors duration-500",style:{backgroundColor:"var(--background-color)",color:"var(--foreground-color)"},children:[r.jsx(Jt,{user:t,darkMode:n,setDarkMode:s}),r.jsx("div",{className:"h-6"}),r.jsxs("main",{className:"px-4 py-10 md:px-8 pt-32 md:pt-36 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Reading Lists "}),r.jsx("p",{className:"text-lg opacity-80",children:"Discover curated collections of stories from our community"})]}),r.jsxs("div",{className:"mb-8 space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-3 rounded-lg transition-all",style:{backgroundColor:"var(--input-bg)",border:"1px solid var(--border-color)"},children:[r.jsx(qr,{size:20,style:{color:"var(--secondary-text)"}}),r.jsx("input",{type:"text",placeholder:"Search reading lists...",value:b,onChange:O=>y(O.target.value),className:"flex-1 bg-transparent outline-none",style:{color:"var(--foreground-color)"}}),b&&r.jsx("button",{onClick:()=>y(""),className:"p-1 hover:opacity-70 transition-opacity",children:r.jsx(On,{size:18,style:{color:"var(--secondary-text)"}})})]}),r.jsx("button",{onClick:()=>k(!T),className:"sm:hidden px-4 py-3 rounded-lg font-medium transition-all",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:r.jsx(Xo,{size:20})}),r.jsx("div",{className:"hidden sm:block min-w-[200px]",children:r.jsxs(fl,{value:`${N}-${S}`,onValueChange:L,children:[r.jsx(Ea,{className:"themed-select-trigger",style:{backgroundColor:"var(--input-bg)",borderColor:"var(--border-color)",color:"var(--foreground-color)"},children:r.jsx(hl,{placeholder:"Sort by..."})}),r.jsxs(ka,{className:"themed-select-content",children:[r.jsx(qn,{value:"createdAt-desc",className:"themed-select-item",children:"Newest First"}),r.jsx(qn,{value:"createdAt-asc",className:"themed-select-item",children:"Oldest First"}),r.jsx(qn,{value:"updatedAt-desc",className:"themed-select-item",children:"Recently Updated"})]})]})})]}),T&&r.jsx("div",{className:"sm:hidden",children:r.jsxs(fl,{value:`${N}-${S}`,onValueChange:L,children:[r.jsx(Ea,{className:"themed-select-trigger w-full",style:{backgroundColor:"var(--input-bg)",borderColor:"var(--border-color)",color:"var(--foreground-color)"},children:r.jsx(hl,{placeholder:"Sort by..."})}),r.jsxs(ka,{className:"themed-select-content",children:[r.jsx(qn,{value:"createdAt-desc",className:"themed-select-item",children:"Newest First"}),r.jsx(qn,{value:"createdAt-asc",className:"themed-select-item",children:"Oldest First"}),r.jsx(qn,{value:"updatedAt-desc",className:"themed-select-item",children:"Recently Updated"})]})]})})]}),u&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((O,A)=>r.jsxs("div",{className:"rounded-lg overflow-hidden animate-pulse",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("div",{className:"h-40",style:{backgroundColor:"var(--border-color)"}}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("div",{className:"h-4 rounded",style:{backgroundColor:"var(--border-color)"}}),r.jsx("div",{className:"h-3 rounded w-2/3",style:{backgroundColor:"var(--border-color)"}})]})]},A))}),!u&&E.length>0&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:E.map(O=>r.jsx(dV,{recommendation:O,darkMode:n,navigate:e},O.id))}),!u&&E.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Qt,{size:64,className:"mx-auto mb-4 opacity-30",style:{color:"var(--secondary-text)"}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No reading lists found"}),r.jsx("p",{className:"opacity-70",children:b?"Try adjusting your search terms":"Be the first to create a reading list!"})]}),!u&&E.length>0&&g>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>m(O=>Math.max(1,O-1)),disabled:f===1,className:"px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:"Previous"}),r.jsx("div",{className:"flex items-center gap-2",children:[...Array(Math.min(5,g))].map((O,A)=>{let M;return g<=5||f<=3?M=A+1:f>=g-2?M=g-4+A:M=f-2+A,r.jsx("button",{onClick:()=>m(M),className:"w-10 h-10 rounded-lg font-medium transition-all",style:{backgroundColor:f===M?"var(--button-bg)":"var(--card-bg)",color:f===M?"var(--button-text)":"var(--foreground-color)",border:"1px solid var(--border-color)"},children:M},A)})}),r.jsx("button",{onClick:()=>m(O=>Math.min(g,O+1)),disabled:f===g,className:"px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:"Next"})]})]})]})};function dV({recommendation:t,darkMode:e,navigate:n}){var l,i,u,d,f,m,g,x,b,y,N;const s=((l=t.likes)==null?void 0:l.length)>0;return r.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:shadow-xl cursor-pointer group h-full flex flex-col",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},onClick:()=>n(`/recommendation/${t.id}`),children:[r.jsxs("div",{className:"relative h-40 overflow-hidden flex-shrink-0",children:[t.coverImage?r.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:e?"linear-gradient(135deg, #1e293b, #334155)":"linear-gradient(135deg, #dbeafe, #e0e7ff)"},children:r.jsx(Qt,{size:48,style:{color:e?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.2)"}})}),r.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-semibold backdrop-blur-sm",style:{backgroundColor:e?"rgba(0,0,0,0.6)":"rgba(255,255,255,0.9)",color:e?"#fff":"#000"},children:[((i=t._count)==null?void 0:i.stories)||0," stories"]})]}),r.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2 group-hover:underline",style:{color:"var(--card-text)"},children:t.title}),t.description&&r.jsx("p",{className:"text-sm opacity-70 mb-3 line-clamp-2 flex-1",children:t.description}),((u=t.stories)==null?void 0:u.length)>0&&r.jsx("div",{className:"flex gap-1 mb-3 overflow-hidden",children:t.stories.slice(0,4).map(j=>r.jsx("div",{className:"w-12 h-16 rounded flex-shrink-0",style:{backgroundImage:j.story.imgUrl?`url(${j.story.imgUrl})`:"none",backgroundColor:j.story.imgUrl?"transparent":"var(--border-color)",backgroundSize:"cover",backgroundPosition:"center"},title:j.story.title},j.story.id))}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-auto",style:{borderColor:"var(--border-color)"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(or,{className:"h-6 w-6",children:[r.jsx(ir,{src:(d=t.user)==null?void 0:d.img,alt:(f=t.user)==null?void 0:f.username}),r.jsx(cr,{className:"text-xs",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:(x=(g=(m=t.user)==null?void 0:m.username)==null?void 0:g[0])==null?void 0:x.toUpperCase()})]}),r.jsx("span",{className:"text-xs font-medium opacity-80",children:(b=t.user)==null?void 0:b.username})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs opacity-70",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($t,{size:14,fill:s?"currentColor":"none",style:{color:s?"#ef4444":"currentColor"}}),r.jsx("span",{children:((y=t._count)==null?void 0:y.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jr,{size:14}),r.jsx("span",{children:((N=t._count)==null?void 0:N.comments)||0})]})]})]})]})]})}const tp=["Violence","Gore / Graphic Descriptions","Death / Loss","Abuse (Physical / Emotional)","Sexual Content","Strong Language / Profanity","Drug or Alcohol Use","Mental Health / Depression / Suicide","Discrimination / Racism / Sexism","Self-harm","Horror / Frightening Scenes","Sensitive Religious Themes","War / Torture","Child Abuse / Neglect"];function ui(t){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(t)}function fV(t,e){if(ui(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ui(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ok(t){var e=fV(t,"string");return ui(e)=="symbol"?e:e+""}function Qu(t,e,n){return(e=ok(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,s)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(s){Qu(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function hV(t){if(Array.isArray(t))return t}function mV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,l,i,u,d=[],f=!0,m=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(s=i.call(n)).done)&&(d.push(s.value),d.length!==e);f=!0);}catch(g){m=!0,l=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw l}}return d}}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function ik(t,e){if(t){if(typeof t=="string")return uv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(t,e):void 0}}function pV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xl(t,e){return hV(t)||mV(t,e)||ik(t,e)||pV()}function gV(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}function Tl(t,e){if(t==null)return{};var n,s,l=gV(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var xV=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bV(t){var e=t.defaultInputValue,n=e===void 0?"":e,s=t.defaultMenuIsOpen,l=s===void 0?!1:s,i=t.defaultValue,u=i===void 0?null:i,d=t.inputValue,f=t.menuIsOpen,m=t.onChange,g=t.onInputChange,x=t.onMenuClose,b=t.onMenuOpen,y=t.value,N=Tl(t,xV),j=p.useState(d!==void 0?d:n),S=xl(j,2),C=S[0],T=S[1],k=p.useState(f!==void 0?f:l),_=xl(k,2),E=_[0],L=_[1],O=p.useState(y!==void 0?y:u),A=xl(O,2),M=A[0],B=A[1],P=p.useCallback(function(Y,Z){typeof m=="function"&&m(Y,Z),B(Y)},[m]),U=p.useCallback(function(Y,Z){var V;typeof g=="function"&&(V=g(Y,Z)),T(V!==void 0?V:Y)},[g]),I=p.useCallback(function(){typeof b=="function"&&b(),L(!0)},[b]),z=p.useCallback(function(){typeof x=="function"&&x(),L(!1)},[x]),G=d!==void 0?d:C,$=f!==void 0?f:E,W=y!==void 0?y:M;return lt(lt({},N),{},{inputValue:G,menuIsOpen:$,onChange:P,onInputChange:U,onMenuClose:z,onMenuOpen:I,value:W})}function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ct.apply(null,arguments)}function vV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ok(s.key),s)}}function yV(t,e,n){return e&&K2(t.prototype,e),n&&K2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dv(t,e)}function wV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},om(t)}function ck(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ck=function(){return!!t})()}function NV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jV(t,e){if(e&&(ui(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NV(t)}function SV(t){var e=ck();return function(){var n,s=om(t);if(e){var l=om(this).constructor;n=Reflect.construct(s,arguments,l)}else n=s.apply(this,arguments);return jV(this,n)}}function CV(t){if(Array.isArray(t))return uv(t)}function EV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0(t){return CV(t)||EV(t)||ik(t)||kV()}function TV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RV=(function(){function t(n){var s=this;this._insertTag=function(l){var i;s.tags.length===0?s.insertionPoint?i=s.insertionPoint.nextSibling:s.prepend?i=s.container.firstChild:i=s.before:i=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(l,i),s.tags.push(l)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(s){s.forEach(this._insertTag)},e.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AV(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var i=TV(l);try{i.insertRule(s,i.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(s));this.ctr++},e.flush=function(){this.tags.forEach(function(s){var l;return(l=s.parentNode)==null?void 0:l.removeChild(s)}),this.tags=[],this.ctr=0},t})(),Rr="-ms-",im="-moz-",Kt="-webkit-",uk="comm",P0="rule",$0="decl",OV="@import",dk="@keyframes",MV="@layer",LV=Math.abs,np=String.fromCharCode,_V=Object.assign;function DV(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function fk(t){return t.trim()}function PV(t,e){return(t=e.exec(t))?t[0]:t}function Xt(t,e,n){return t.replace(e,n)}function fv(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function jd(t,e,n){return t.slice(e,n)}function Ta(t){return t.length}function I0(t){return t.length}function yh(t,e){return e.push(t),t}function $V(t,e){return t.map(e).join("")}var rp=1,_c=1,hk=0,rs=0,Zn=0,Hc="";function sp(t,e,n,s,l,i,u){return{value:t,root:e,parent:n,type:s,props:l,children:i,line:rp,column:_c,length:u,return:""}}function zu(t,e){return _V(sp("",null,null,"",null,null,0),t,{length:-t.length},e)}function IV(){return Zn}function zV(){return Zn=rs>0?Nr(Hc,--rs):0,_c--,Zn===10&&(_c=1,rp--),Zn}function js(){return Zn=rs<hk?Nr(Hc,rs++):0,_c++,Zn===10&&(_c=1,rp++),Zn}function $a(){return Nr(Hc,rs)}function Ph(){return rs}function Hd(t,e){return jd(Hc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mk(t){return rp=_c=1,hk=Ta(Hc=t),rs=0,[]}function pk(t){return Hc="",t}function $h(t){return fk(Hd(rs-1,hv(t===91?t+2:t===40?t+1:t)))}function UV(t){for(;(Zn=$a())&&Zn<33;)js();return Sd(t)>2||Sd(Zn)>3?"":" "}function BV(t,e){for(;--e&&js()&&!(Zn<48||Zn>102||Zn>57&&Zn<65||Zn>70&&Zn<97););return Hd(t,Ph()+(e<6&&$a()==32&&js()==32))}function hv(t){for(;js();)switch(Zn){case t:return rs;case 34:case 39:t!==34&&t!==39&&hv(Zn);break;case 40:t===41&&hv(t);break;case 92:js();break}return rs}function qV(t,e){for(;js()&&t+Zn!==57;)if(t+Zn===84&&$a()===47)break;return"/*"+Hd(e,rs-1)+"*"+np(t===47?t:js())}function FV(t){for(;!Sd($a());)js();return Hd(t,rs)}function HV(t){return pk(Ih("",null,null,null,[""],t=mk(t),0,[0],t))}function Ih(t,e,n,s,l,i,u,d,f){for(var m=0,g=0,x=u,b=0,y=0,N=0,j=1,S=1,C=1,T=0,k="",_=l,E=i,L=s,O=k;S;)switch(N=T,T=js()){case 40:if(N!=108&&Nr(O,x-1)==58){fv(O+=Xt($h(T),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:O+=$h(T);break;case 9:case 10:case 13:case 32:O+=UV(N);break;case 92:O+=BV(Ph()-1,7);continue;case 47:switch($a()){case 42:case 47:yh(VV(qV(js(),Ph()),e,n),f);break;default:O+="/"}break;case 123*j:d[m++]=Ta(O)*C;case 125*j:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:C==-1&&(O=Xt(O,/\f/g,"")),y>0&&Ta(O)-x&&yh(y>32?Z2(O+";",s,n,x-1):Z2(Xt(O," ","")+";",s,n,x-2),f);break;case 59:O+=";";default:if(yh(L=X2(O,e,n,m,g,l,d,k,_=[],E=[],x),i),T===123)if(g===0)Ih(O,e,L,L,_,i,x,d,E);else switch(b===99&&Nr(O,3)===110?100:b){case 100:case 108:case 109:case 115:Ih(t,L,L,s&&yh(X2(t,L,L,0,0,l,d,k,l,_=[],x),E),l,E,x,d,s?_:E);break;default:Ih(O,L,L,L,[""],E,0,d,E)}}m=g=y=0,j=C=1,k=O="",x=u;break;case 58:x=1+Ta(O),y=N;default:if(j<1){if(T==123)--j;else if(T==125&&j++==0&&zV()==125)continue}switch(O+=np(T),T*j){case 38:C=g>0?1:(O+="\f",-1);break;case 44:d[m++]=(Ta(O)-1)*C,C=1;break;case 64:$a()===45&&(O+=$h(js())),b=$a(),g=x=Ta(k=O+=FV(Ph())),T++;break;case 45:N===45&&Ta(O)==2&&(j=0)}}return i}function X2(t,e,n,s,l,i,u,d,f,m,g){for(var x=l-1,b=l===0?i:[""],y=I0(b),N=0,j=0,S=0;N<s;++N)for(var C=0,T=jd(t,x+1,x=LV(j=u[N])),k=t;C<y;++C)(k=fk(j>0?b[C]+" "+T:Xt(T,/&\f/g,b[C])))&&(f[S++]=k);return sp(t,e,n,l===0?P0:d,f,m,g)}function VV(t,e,n){return sp(t,e,n,uk,np(IV()),jd(t,2,-2),0)}function Z2(t,e,n,s){return sp(t,e,n,$0,jd(t,0,s),jd(t,s+1,-1),s)}function yc(t,e){for(var n="",s=I0(t),l=0;l<s;l++)n+=e(t[l],l,t,e)||"";return n}function GV(t,e,n,s){switch(t.type){case MV:if(t.children.length)break;case OV:case $0:return t.return=t.return||t.value;case uk:return"";case dk:return t.return=t.value+"{"+yc(t.children,s)+"}";case P0:t.value=t.props.join(",")}return Ta(n=yc(t.children,s))?t.return=t.value+"{"+n+"}":""}function YV(t){var e=I0(t);return function(n,s,l,i){for(var u="",d=0;d<e;d++)u+=t[d](n,s,l,i)||"";return u}}function WV(t){return function(e){e.root||(e=e.return)&&t(e)}}function KV(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var XV=function(e,n,s){for(var l=0,i=0;l=i,i=$a(),l===38&&i===12&&(n[s]=1),!Sd(i);)js();return Hd(e,rs)},ZV=function(e,n){var s=-1,l=44;do switch(Sd(l)){case 0:l===38&&$a()===12&&(n[s]=1),e[s]+=XV(rs-1,n,s);break;case 2:e[s]+=$h(l);break;case 4:if(l===44){e[++s]=$a()===58?"&\f":"",n[s]=e[s].length;break}default:e[s]+=np(l)}while(l=js());return e},QV=function(e,n){return pk(ZV(mk(e),n))},Q2=new WeakMap,JV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,s=e.parent,l=e.column===s.column&&e.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Q2.get(s))&&!l){Q2.set(e,!0);for(var i=[],u=QV(n,i),d=s.props,f=0,m=0;f<u.length;f++)for(var g=0;g<d.length;g++,m++)e.props[m]=i[f]?u[f].replace(/&\f/g,d[g]):d[g]+" "+u[f]}}},eG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function gk(t,e){switch(DV(t,e)){case 5103:return Kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+t+im+t+Rr+t+t;case 6828:case 4268:return Kt+t+Rr+t+t;case 6165:return Kt+t+Rr+"flex-"+t+t;case 5187:return Kt+t+Xt(t,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+Rr+"flex-$1$2")+t;case 5443:return Kt+t+Rr+"flex-item-"+Xt(t,/flex-|-self/,"")+t;case 4675:return Kt+t+Rr+"flex-line-pack"+Xt(t,/align-content|flex-|-self/,"")+t;case 5548:return Kt+t+Rr+Xt(t,"shrink","negative")+t;case 5292:return Kt+t+Rr+Xt(t,"basis","preferred-size")+t;case 6060:return Kt+"box-"+Xt(t,"-grow","")+Kt+t+Rr+Xt(t,"grow","positive")+t;case 4554:return Kt+Xt(t,/([^-])(transform)/g,"$1"+Kt+"$2")+t;case 6187:return Xt(Xt(Xt(t,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),t,"")+t;case 5495:case 3959:return Xt(t,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return Xt(Xt(t,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+t+t;case 4095:case 3583:case 4068:case 2532:return Xt(t,/(.+)-inline(.+)/,Kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ta(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return Xt(t,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+im+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fv(t,"stretch")?gk(Xt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,Ta(t)-3-(~fv(t,"!important")&&10))){case 107:return Xt(t,":",":"+Kt)+t;case 101:return Xt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(Nr(t,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+Rr+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return Kt+t+Rr+Xt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Kt+t+Rr+Xt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Kt+t+Rr+Xt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Kt+t+Rr+t+t}return t}var tG=function(e,n,s,l){if(e.length>-1&&!e.return)switch(e.type){case $0:e.return=gk(e.value,e.length);break;case dk:return yc([zu(e,{value:Xt(e.value,"@","@"+Kt)})],l);case P0:if(e.length)return $V(e.props,function(i){switch(PV(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yc([zu(e,{props:[Xt(i,/:(read-\w+)/,":"+im+"$1")]})],l);case"::placeholder":return yc([zu(e,{props:[Xt(i,/:(plac\w+)/,":"+Kt+"input-$1")]}),zu(e,{props:[Xt(i,/:(plac\w+)/,":"+im+"$1")]}),zu(e,{props:[Xt(i,/:(plac\w+)/,Rr+"input-$1")]})],l)}return""})}},nG=[tG],rG=function(e){var n=e.key;if(n==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(j){var S=j.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var l=e.stylisPlugins||nG,i={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(j){for(var S=j.getAttribute("data-emotion").split(" "),C=1;C<S.length;C++)i[S[C]]=!0;d.push(j)});var f,m=[JV,eG];{var g,x=[GV,WV(function(j){g.insert(j)})],b=YV(m.concat(l,x)),y=function(S){return yc(HV(S),b)};f=function(S,C,T,k){g=T,y(S?S+"{"+C.styles+"}":C.styles),k&&(N.inserted[C.name]=!0)}}var N={key:n,sheet:new RV({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:f};return N.sheet.hydrate(d),N},Gx={exports:{}},nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function sG(){if(J2)return nn;J2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,x=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function k(E){if(typeof E=="object"&&E!==null){var L=E.$$typeof;switch(L){case e:switch(E=E.type,E){case f:case m:case s:case i:case l:case x:return E;default:switch(E=E&&E.$$typeof,E){case d:case g:case N:case y:case u:return E;default:return L}}case n:return L}}}function _(E){return k(E)===m}return nn.AsyncMode=f,nn.ConcurrentMode=m,nn.ContextConsumer=d,nn.ContextProvider=u,nn.Element=e,nn.ForwardRef=g,nn.Fragment=s,nn.Lazy=N,nn.Memo=y,nn.Portal=n,nn.Profiler=i,nn.StrictMode=l,nn.Suspense=x,nn.isAsyncMode=function(E){return _(E)||k(E)===f},nn.isConcurrentMode=_,nn.isContextConsumer=function(E){return k(E)===d},nn.isContextProvider=function(E){return k(E)===u},nn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},nn.isForwardRef=function(E){return k(E)===g},nn.isFragment=function(E){return k(E)===s},nn.isLazy=function(E){return k(E)===N},nn.isMemo=function(E){return k(E)===y},nn.isPortal=function(E){return k(E)===n},nn.isProfiler=function(E){return k(E)===i},nn.isStrictMode=function(E){return k(E)===l},nn.isSuspense=function(E){return k(E)===x},nn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===s||E===m||E===i||E===l||E===x||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===N||E.$$typeof===y||E.$$typeof===u||E.$$typeof===d||E.$$typeof===g||E.$$typeof===S||E.$$typeof===C||E.$$typeof===T||E.$$typeof===j)},nn.typeOf=k,nn}var eS;function aG(){return eS||(eS=1,Gx.exports=sG()),Gx.exports}var Yx,tS;function lG(){if(tS)return Yx;tS=1;var t=aG(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=s,i[t.Memo]=l;function u(N){return t.isMemo(N)?l:i[N.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,b=Object.prototype;function y(N,j,S){if(typeof j!="string"){if(b){var C=x(j);C&&C!==b&&y(N,C,S)}var T=f(j);m&&(T=T.concat(m(j)));for(var k=u(N),_=u(j),E=0;E<T.length;++E){var L=T[E];if(!n[L]&&!(S&&S[L])&&!(_&&_[L])&&!(k&&k[L])){var O=g(j,L);try{d(N,L,O)}catch{}}}}return N}return Yx=y,Yx}lG();var oG=!0;function iG(t,e,n){var s="";return n.split(" ").forEach(function(l){t[l]!==void 0?e.push(t[l]+";"):l&&(s+=l+" ")}),s}var xk=function(e,n,s){var l=e.key+"-"+n.name;(s===!1||oG===!1)&&e.registered[l]===void 0&&(e.registered[l]=n.styles)},cG=function(e,n,s){xk(e,n,s);var l=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+l:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function uG(t){for(var e=0,n,s=0,l=t.length;l>=4;++s,l-=4)n=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(l){case 3:e^=(t.charCodeAt(s+2)&255)<<16;case 2:e^=(t.charCodeAt(s+1)&255)<<8;case 1:e^=t.charCodeAt(s)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var dG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fG=/[A-Z]|^ms/g,hG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bk=function(e){return e.charCodeAt(1)===45},nS=function(e){return e!=null&&typeof e!="boolean"},Wx=KV(function(t){return bk(t)?t:t.replace(fG,"-$&").toLowerCase()}),rS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(hG,function(s,l,i){return Aa={name:l,styles:i,next:Aa},l})}return dG[e]!==1&&!bk(e)&&typeof n=="number"&&n!==0?n+"px":n};function Cd(t,e,n){if(n==null)return"";var s=n;if(s.__emotion_styles!==void 0)return s;switch(typeof n){case"boolean":return"";case"object":{var l=n;if(l.anim===1)return Aa={name:l.name,styles:l.styles,next:Aa},l.name;var i=n;if(i.styles!==void 0){var u=i.next;if(u!==void 0)for(;u!==void 0;)Aa={name:u.name,styles:u.styles,next:Aa},u=u.next;var d=i.styles+";";return d}return mG(t,e,n)}case"function":{if(t!==void 0){var f=Aa,m=n(t);return Aa=f,Cd(t,e,m)}break}}var g=n;return g}function mG(t,e,n){var s="";if(Array.isArray(n))for(var l=0;l<n.length;l++)s+=Cd(t,e,n[l])+";";else for(var i in n){var u=n[i];if(typeof u!="object"){var d=u;nS(d)&&(s+=Wx(i)+":"+rS(i,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var f=0;f<u.length;f++)nS(u[f])&&(s+=Wx(i)+":"+rS(i,u[f])+";");else{var m=Cd(t,e,u);switch(i){case"animation":case"animationName":{s+=Wx(i)+":"+m+";";break}default:s+=i+"{"+m+"}"}}}return s}var sS=/label:\s*([^\s;{]+)\s*(;|$)/g,Aa;function vk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,l="";Aa=void 0;var i=t[0];if(i==null||i.raw===void 0)s=!1,l+=Cd(n,e,i);else{var u=i;l+=u[0]}for(var d=1;d<t.length;d++)if(l+=Cd(n,e,t[d]),s){var f=i;l+=f[d]}sS.lastIndex=0;for(var m="",g;(g=sS.exec(l))!==null;)m+="-"+g[1];var x=uG(l)+m;return{name:x,styles:l,next:Aa}}var pG=function(e){return e()},gG=sd.useInsertionEffect?sd.useInsertionEffect:!1,xG=gG||pG,yk=p.createContext(typeof HTMLElement<"u"?rG({key:"css"}):null);yk.Provider;var bG=function(e){return p.forwardRef(function(n,s){var l=p.useContext(yk);return e(n,l,s)})},vG=p.createContext({}),z0={}.hasOwnProperty,mv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yG=function(e,n){var s={};for(var l in n)z0.call(n,l)&&(s[l]=n[l]);return s[mv]=e,s},wG=function(e){var n=e.cache,s=e.serialized,l=e.isStringTag;return xk(n,s,l),xG(function(){return cG(n,s,l)}),null},NG=bG(function(t,e,n){var s=t.css;typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var l=t[mv],i=[s],u="";typeof t.className=="string"?u=iG(e.registered,i,t.className):t.className!=null&&(u=t.className+" ");var d=vk(i,void 0,p.useContext(vG));u+=e.key+"-"+d.name;var f={};for(var m in t)z0.call(t,m)&&m!=="css"&&m!==mv&&(f[m]=t[m]);return f.className=u,n&&(f.ref=n),p.createElement(p.Fragment,null,p.createElement(wG,{cache:e,serialized:d,isStringTag:typeof l=="string"}),p.createElement(l,f))}),jG=NG,nt=function(e,n){var s=arguments;if(n==null||!z0.call(n,"css"))return p.createElement.apply(void 0,s);var l=s.length,i=new Array(l);i[0]=jG,i[1]=yG(e,n);for(var u=2;u<l;u++)i[u]=s[u];return p.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(nt||(nt={}));function U0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return vk(e)}function SG(){var t=U0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function CG(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var pv=p.useLayoutEffect,EG=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],cm=function(){};function kG(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function TG(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),l=2;l<n;l++)s[l-2]=arguments[l];var i=[].concat(s);if(e&&t)for(var u in e)e.hasOwnProperty(u)&&e[u]&&i.push("".concat(kG(t,u)));return i.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var aS=function(e){return $G(e)?e.filter(Boolean):ui(e)==="object"&&e!==null?[e]:[]},wk=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Tl(e,EG);return lt({},n)},$n=function(e,n,s){var l=e.cx,i=e.getStyles,u=e.getClassNames,d=e.className;return{css:i(n,e),className:l(s??{},u(n,e),d)}};function ap(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function AG(t){return ap(t)?window.innerHeight:t.clientHeight}function Nk(t){return ap(t)?window.pageYOffset:t.scrollTop}function um(t,e){if(ap(t)){window.scrollTo(0,e);return}t.scrollTop=e}function RG(t){var e=getComputedStyle(t),n=e.position==="absolute",s=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var l=t;l=l.parentElement;)if(e=getComputedStyle(l),!(n&&e.position==="static")&&s.test(e.overflow+e.overflowY+e.overflowX))return l;return document.documentElement}function OG(t,e,n,s){return n*((t=t/s-1)*t*t+1)+e}function wh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:cm,l=Nk(t),i=e-l,u=10,d=0;function f(){d+=u;var m=OG(d,l,i,n);um(t,m),d<n?window.requestAnimationFrame(f):s(t)}f()}function lS(t,e){var n=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=e.offsetHeight/3;s.bottom+l>n.bottom?um(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+l,t.scrollHeight)):s.top-l<n.top&&um(t,Math.max(e.offsetTop-l,0))}function MG(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function oS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function LG(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var jk=!1,_G={get passive(){return jk=!0}},Nh=typeof window<"u"?window:{};Nh.addEventListener&&Nh.removeEventListener&&(Nh.addEventListener("p",cm,_G),Nh.removeEventListener("p",cm,!1));var DG=jk;function PG(t){return t!=null}function $G(t){return Array.isArray(t)}function jh(t,e,n){return t?e:n}var IG=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];var i=Object.entries(e).filter(function(u){var d=xl(u,1),f=d[0];return!s.includes(f)});return i.reduce(function(u,d){var f=xl(d,2),m=f[0],g=f[1];return u[m]=g,u},{})},zG=["children","innerProps"],UG=["children","innerProps"];function BG(t){var e=t.maxHeight,n=t.menuEl,s=t.minHeight,l=t.placement,i=t.shouldScroll,u=t.isFixedPosition,d=t.controlHeight,f=RG(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var g=f.getBoundingClientRect(),x=g.height,b=n.getBoundingClientRect(),y=b.bottom,N=b.height,j=b.top,S=n.offsetParent.getBoundingClientRect(),C=S.top,T=u?window.innerHeight:AG(f),k=Nk(f),_=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),L=C-E,O=T-j,A=L+k,M=x-k-j,B=y-T+k+_,P=k+j-E,U=160;switch(l){case"auto":case"bottom":if(O>=N)return{placement:"bottom",maxHeight:e};if(M>=N&&!u)return i&&wh(f,B,U),{placement:"bottom",maxHeight:e};if(!u&&M>=s||u&&O>=s){i&&wh(f,B,U);var I=u?O-_:M-_;return{placement:"bottom",maxHeight:I}}if(l==="auto"||u){var z=e,G=u?L:A;return G>=s&&(z=Math.min(G-_-d,e)),{placement:"top",maxHeight:z}}if(l==="bottom")return i&&um(f,B),{placement:"bottom",maxHeight:e};break;case"top":if(L>=N)return{placement:"top",maxHeight:e};if(A>=N&&!u)return i&&wh(f,P,U),{placement:"top",maxHeight:e};if(!u&&A>=s||u&&L>=s){var $=e;return(!u&&A>=s||u&&L>=s)&&($=u?L-E:A-E),i&&wh(f,P,U),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return m}function qG(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Sk=function(e){return e==="auto"?"bottom":e},FG=function(e,n){var s,l=e.placement,i=e.theme,u=i.borderRadius,d=i.spacing,f=i.colors;return lt((s={label:"menu"},Qu(s,qG(l),"100%"),Qu(s,"position","absolute"),Qu(s,"width","100%"),Qu(s,"zIndex",1),s),n?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},Ck=p.createContext(null),HG=function(e){var n=e.children,s=e.minMenuHeight,l=e.maxMenuHeight,i=e.menuPlacement,u=e.menuPosition,d=e.menuShouldScrollIntoView,f=e.theme,m=p.useContext(Ck)||{},g=m.setPortalPlacement,x=p.useRef(null),b=p.useState(l),y=xl(b,2),N=y[0],j=y[1],S=p.useState(null),C=xl(S,2),T=C[0],k=C[1],_=f.spacing.controlHeight;return pv(function(){var E=x.current;if(E){var L=u==="fixed",O=d&&!L,A=BG({maxHeight:l,menuEl:E,minHeight:s,placement:i,shouldScroll:O,isFixedPosition:L,controlHeight:_});j(A.maxHeight),k(A.placement),g==null||g(A.placement)}},[l,i,u,d,s,g,_]),n({ref:x,placerProps:lt(lt({},e),{},{placement:T||Sk(i),maxHeight:N})})},VG=function(e){var n=e.children,s=e.innerRef,l=e.innerProps;return nt("div",ct({},$n(e,"menu",{menu:!0}),{ref:s},l),n)},GG=VG,YG=function(e,n){var s=e.maxHeight,l=e.theme.spacing.baseUnit;return lt({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:l,paddingTop:l})},WG=function(e){var n=e.children,s=e.innerProps,l=e.innerRef,i=e.isMulti;return nt("div",ct({},$n(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:l},s),n)},Ek=function(e,n){var s=e.theme,l=s.spacing.baseUnit,i=s.colors;return lt({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(l*2,"px ").concat(l*3,"px")})},KG=Ek,XG=Ek,ZG=function(e){var n=e.children,s=n===void 0?"No options":n,l=e.innerProps,i=Tl(e,zG);return nt("div",ct({},$n(lt(lt({},i),{},{children:s,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),s)},QG=function(e){var n=e.children,s=n===void 0?"Loading...":n,l=e.innerProps,i=Tl(e,UG);return nt("div",ct({},$n(lt(lt({},i),{},{children:s,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),s)},JG=function(e){var n=e.rect,s=e.offset,l=e.position;return{left:n.left,position:l,top:s,width:n.width,zIndex:1}},eY=function(e){var n=e.appendTo,s=e.children,l=e.controlElement,i=e.innerProps,u=e.menuPlacement,d=e.menuPosition,f=p.useRef(null),m=p.useRef(null),g=p.useState(Sk(u)),x=xl(g,2),b=x[0],y=x[1],N=p.useMemo(function(){return{setPortalPlacement:y}},[]),j=p.useState(null),S=xl(j,2),C=S[0],T=S[1],k=p.useCallback(function(){if(l){var O=MG(l),A=d==="fixed"?0:window.pageYOffset,M=O[b]+A;(M!==(C==null?void 0:C.offset)||O.left!==(C==null?void 0:C.rect.left)||O.width!==(C==null?void 0:C.rect.width))&&T({offset:M,rect:O})}},[l,d,b,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);pv(function(){k()},[k]);var _=p.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),l&&f.current&&(m.current=U5(l,f.current,k,{elementResize:"ResizeObserver"in window}))},[l,k]);pv(function(){_()},[_]);var E=p.useCallback(function(O){f.current=O,_()},[_]);if(!n&&d!=="fixed"||!C)return null;var L=nt("div",ct({ref:E},$n(lt(lt({},e),{},{offset:C.offset,position:d,rect:C.rect}),"menuPortal",{"menu-portal":!0}),i),s);return nt(Ck.Provider,{value:N},n?fi.createPortal(L,n):L)},tY=function(e){var n=e.isDisabled,s=e.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},nY=function(e){var n=e.children,s=e.innerProps,l=e.isDisabled,i=e.isRtl;return nt("div",ct({},$n(e,"container",{"--is-disabled":l,"--is-rtl":i}),s),n)},rY=function(e,n){var s=e.theme.spacing,l=e.isMulti,i=e.hasValue,u=e.selectProps.controlShouldRenderValue;return lt({alignItems:"center",display:l&&i&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},sY=function(e){var n=e.children,s=e.innerProps,l=e.isMulti,i=e.hasValue;return nt("div",ct({},$n(e,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":i}),s),n)},aY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},lY=function(e){var n=e.children,s=e.innerProps;return nt("div",ct({},$n(e,"indicatorsContainer",{indicators:!0}),s),n)},iS,oY=["size"],iY=["innerProps","isRtl","size"],cY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},kk=function(e){var n=e.size,s=Tl(e,oY);return nt("svg",ct({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cY},s))},B0=function(e){return nt(kk,ct({size:20},e),nt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Tk=function(e){return nt(kk,ct({size:20},e),nt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ak=function(e,n){var s=e.isFocused,l=e.theme,i=l.spacing.baseUnit,u=l.colors;return lt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:s?u.neutral60:u.neutral20,padding:i*2,":hover":{color:s?u.neutral80:u.neutral40}})},uY=Ak,dY=function(e){var n=e.children,s=e.innerProps;return nt("div",ct({},$n(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),n||nt(Tk,null))},fY=Ak,hY=function(e){var n=e.children,s=e.innerProps;return nt("div",ct({},$n(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),n||nt(B0,null))},mY=function(e,n){var s=e.isDisabled,l=e.theme,i=l.spacing.baseUnit,u=l.colors;return lt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:s?u.neutral10:u.neutral20,marginBottom:i*2,marginTop:i*2})},pY=function(e){var n=e.innerProps;return nt("span",ct({},n,$n(e,"indicatorSeparator",{"indicator-separator":!0})))},gY=SG(iS||(iS=CG([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),xY=function(e,n){var s=e.isFocused,l=e.size,i=e.theme,u=i.colors,d=i.spacing.baseUnit;return lt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},n?{}:{color:s?u.neutral60:u.neutral20,padding:d*2})},Kx=function(e){var n=e.delay,s=e.offset;return nt("span",{css:U0({animation:"".concat(gY," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},bY=function(e){var n=e.innerProps,s=e.isRtl,l=e.size,i=l===void 0?4:l,u=Tl(e,iY);return nt("div",ct({},$n(lt(lt({},u),{},{innerProps:n,isRtl:s,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),nt(Kx,{delay:0,offset:s}),nt(Kx,{delay:160,offset:!0}),nt(Kx,{delay:320,offset:!s}))},vY=function(e,n){var s=e.isDisabled,l=e.isFocused,i=e.theme,u=i.colors,d=i.borderRadius,f=i.spacing;return lt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:s?u.neutral5:u.neutral0,borderColor:s?u.neutral10:l?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:l?u.primary:u.neutral30}})},yY=function(e){var n=e.children,s=e.isDisabled,l=e.isFocused,i=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return nt("div",ct({ref:i},$n(e,"control",{control:!0,"control--is-disabled":s,"control--is-focused":l,"control--menu-is-open":d}),u,{"aria-disabled":s||void 0}),n)},wY=yY,NY=["data"],jY=function(e,n){var s=e.theme.spacing;return n?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},SY=function(e){var n=e.children,s=e.cx,l=e.getStyles,i=e.getClassNames,u=e.Heading,d=e.headingProps,f=e.innerProps,m=e.label,g=e.theme,x=e.selectProps;return nt("div",ct({},$n(e,"group",{group:!0}),f),nt(u,ct({},d,{selectProps:x,theme:g,getStyles:l,getClassNames:i,cx:s}),m),nt("div",null,n))},CY=function(e,n){var s=e.theme,l=s.colors,i=s.spacing;return lt({label:"group",cursor:"default",display:"block"},n?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},EY=function(e){var n=wk(e);n.data;var s=Tl(n,NY);return nt("div",ct({},$n(e,"groupHeading",{"group-heading":!0}),s))},kY=SY,TY=["innerRef","isDisabled","isHidden","inputClassName"],AY=function(e,n){var s=e.isDisabled,l=e.value,i=e.theme,u=i.spacing,d=i.colors;return lt(lt({visibility:s?"hidden":"visible",transform:l?"translateZ(0)":""},RY),n?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},Rk={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},RY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Rk)},OY=function(e){return lt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Rk)},MY=function(e){var n=e.cx,s=e.value,l=wk(e),i=l.innerRef,u=l.isDisabled,d=l.isHidden,f=l.inputClassName,m=Tl(l,TY);return nt("div",ct({},$n(e,"input",{"input-container":!0}),{"data-value":s||""}),nt("input",ct({className:n({input:!0},f),ref:i,style:OY(d),disabled:u},m)))},LY=MY,_Y=function(e,n){var s=e.theme,l=s.spacing,i=s.borderRadius,u=s.colors;return lt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:u.neutral10,borderRadius:i/2,margin:l.baseUnit/2})},DY=function(e,n){var s=e.theme,l=s.borderRadius,i=s.colors,u=e.cropWithEllipsis;return lt({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:l/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},PY=function(e,n){var s=e.theme,l=s.spacing,i=s.borderRadius,u=s.colors,d=e.isFocused;return lt({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},Ok=function(e){var n=e.children,s=e.innerProps;return nt("div",s,n)},$Y=Ok,IY=Ok;function zY(t){var e=t.children,n=t.innerProps;return nt("div",ct({role:"button"},n),e||nt(B0,{size:14}))}var UY=function(e){var n=e.children,s=e.components,l=e.data,i=e.innerProps,u=e.isDisabled,d=e.removeProps,f=e.selectProps,m=s.Container,g=s.Label,x=s.Remove;return nt(m,{data:l,innerProps:lt(lt({},$n(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),i),selectProps:f},nt(g,{data:l,innerProps:lt({},$n(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),nt(x,{data:l,innerProps:lt(lt({},$n(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},d),selectProps:f}))},BY=UY,qY=function(e,n){var s=e.isDisabled,l=e.isFocused,i=e.isSelected,u=e.theme,d=u.spacing,f=u.colors;return lt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?f.primary:l?f.primary25:"transparent",color:s?f.neutral20:i?f.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:i?f.primary:f.primary50}})},FY=function(e){var n=e.children,s=e.isDisabled,l=e.isFocused,i=e.isSelected,u=e.innerRef,d=e.innerProps;return nt("div",ct({},$n(e,"option",{option:!0,"option--is-disabled":s,"option--is-focused":l,"option--is-selected":i}),{ref:u,"aria-disabled":s},d),n)},HY=FY,VY=function(e,n){var s=e.theme,l=s.spacing,i=s.colors;return lt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},GY=function(e){var n=e.children,s=e.innerProps;return nt("div",ct({},$n(e,"placeholder",{placeholder:!0}),s),n)},YY=GY,WY=function(e,n){var s=e.isDisabled,l=e.theme,i=l.spacing,u=l.colors;return lt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:s?u.neutral40:u.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},KY=function(e){var n=e.children,s=e.isDisabled,l=e.innerProps;return nt("div",ct({},$n(e,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),l),n)},XY=KY,ZY={ClearIndicator:hY,Control:wY,DropdownIndicator:dY,DownChevron:Tk,CrossIcon:B0,Group:kY,GroupHeading:EY,IndicatorsContainer:lY,IndicatorSeparator:pY,Input:LY,LoadingIndicator:bY,Menu:GG,MenuList:WG,MenuPortal:eY,LoadingMessage:QG,NoOptionsMessage:ZG,MultiValue:BY,MultiValueContainer:$Y,MultiValueLabel:IY,MultiValueRemove:zY,Option:HY,Placeholder:YY,SelectContainer:nY,SingleValue:XY,ValueContainer:sY},QY=function(e){return lt(lt({},ZY),e.components)},cS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function JY(t,e){return!!(t===e||cS(t)&&cS(e))}function eW(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!JY(t[n],e[n]))return!1;return!0}function tW(t,e){e===void 0&&(e=eW);var n=null;function s(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(n&&n.lastThis===this&&e(l,n.lastArgs))return n.lastResult;var u=t.apply(this,l);return n={lastResult:u,lastArgs:l,lastThis:this},u}return s.clear=function(){n=null},s}var nW={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},rW=function(e){return nt("span",ct({css:nW},e))},uS=rW,sW={guidance:function(e){var n=e.isSearchable,s=e.isMulti,l=e.tabSelectsValue,i=e.context,u=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,s=e.label,l=s===void 0?"":s,i=e.labels,u=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return u?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(e){var n=e.context,s=e.focused,l=e.options,i=e.label,u=i===void 0?"":i,d=e.selectValue,f=e.isDisabled,m=e.isSelected,g=e.isAppleDevice,x=function(j,S){return j&&j.length?"".concat(j.indexOf(S)+1," of ").concat(j.length):""};if(n==="value"&&d)return"value ".concat(u," focused, ").concat(x(d,s),".");if(n==="menu"&&g){var b=f?" disabled":"",y="".concat(m?" selected":"").concat(b);return"".concat(u).concat(y,", ").concat(x(l,s),".")}return""},onFilter:function(e){var n=e.inputValue,s=e.resultsMessage;return"".concat(s).concat(n?" for search term "+n:"",".")}},aW=function(e){var n=e.ariaSelection,s=e.focusedOption,l=e.focusedValue,i=e.focusableOptions,u=e.isFocused,d=e.selectValue,f=e.selectProps,m=e.id,g=e.isAppleDevice,x=f.ariaLiveMessages,b=f.getOptionLabel,y=f.inputValue,N=f.isMulti,j=f.isOptionDisabled,S=f.isSearchable,C=f.menuIsOpen,T=f.options,k=f.screenReaderStatus,_=f.tabSelectsValue,E=f.isLoading,L=f["aria-label"],O=f["aria-live"],A=p.useMemo(function(){return lt(lt({},sW),x||{})},[x]),M=p.useMemo(function(){var G="";if(n&&A.onChange){var $=n.option,W=n.options,Y=n.removedValue,Z=n.removedValues,V=n.value,q=function(ge){return Array.isArray(ge)?null:ge},K=Y||$||q(V),te=K?b(K):"",se=W||Z||void 0,ue=se?se.map(b):[],xe=lt({isDisabled:K&&j(K,d),label:te,labels:ue},n);G=A.onChange(xe)}return G},[n,A,j,d,b]),B=p.useMemo(function(){var G="",$=s||l,W=!!(s&&d&&d.includes(s));if($&&A.onFocus){var Y={focused:$,label:b($),isDisabled:j($,d),isSelected:W,options:i,context:$===s?"menu":"value",selectValue:d,isAppleDevice:g};G=A.onFocus(Y)}return G},[s,l,b,j,A,i,d,g]),P=p.useMemo(function(){var G="";if(C&&T.length&&!E&&A.onFilter){var $=k({count:i.length});G=A.onFilter({inputValue:y,resultsMessage:$})}return G},[i,y,C,A,T,k,E]),U=(n==null?void 0:n.action)==="initial-input-focus",I=p.useMemo(function(){var G="";if(A.guidance){var $=l?"value":C?"menu":"input";G=A.guidance({"aria-label":L,context:$,isDisabled:s&&j(s,d),isMulti:N,isSearchable:S,tabSelectsValue:_,isInitialFocus:U})}return G},[L,s,l,N,j,S,C,A,d,_,U]),z=nt(p.Fragment,null,nt("span",{id:"aria-selection"},M),nt("span",{id:"aria-focused"},B),nt("span",{id:"aria-results"},P),nt("span",{id:"aria-guidance"},I));return nt(p.Fragment,null,nt(uS,{id:m},U&&z),nt(uS,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!U&&z))},lW=aW,gv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],oW=new RegExp("["+gv.map(function(t){return t.letters}).join("")+"]","g"),Mk={};for(var Xx=0;Xx<gv.length;Xx++)for(var Zx=gv[Xx],Qx=0;Qx<Zx.letters.length;Qx++)Mk[Zx.letters[Qx]]=Zx.base;var Lk=function(e){return e.replace(oW,function(n){return Mk[n]})},iW=tW(Lk),dS=function(e){return e.replace(/^\s+|\s+$/g,"")},cW=function(e){return"".concat(e.label," ").concat(e.value)},uW=function(e){return function(n,s){if(n.data.__isNew__)return!0;var l=lt({ignoreCase:!0,ignoreAccents:!0,stringify:cW,trim:!0,matchFrom:"any"},e),i=l.ignoreCase,u=l.ignoreAccents,d=l.stringify,f=l.trim,m=l.matchFrom,g=f?dS(s):s,x=f?dS(d(n)):d(n);return i&&(g=g.toLowerCase(),x=x.toLowerCase()),u&&(g=iW(g),x=Lk(x)),m==="start"?x.substr(0,g.length)===g:x.indexOf(g)>-1}},dW=["innerRef"];function fW(t){var e=t.innerRef,n=Tl(t,dW),s=IG(n,"onExited","in","enter","exit","appear");return nt("input",ct({ref:e},s,{css:U0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var hW=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function mW(t){var e=t.isEnabled,n=t.onBottomArrive,s=t.onBottomLeave,l=t.onTopArrive,i=t.onTopLeave,u=p.useRef(!1),d=p.useRef(!1),f=p.useRef(0),m=p.useRef(null),g=p.useCallback(function(S,C){if(m.current!==null){var T=m.current,k=T.scrollTop,_=T.scrollHeight,E=T.clientHeight,L=m.current,O=C>0,A=_-E-k,M=!1;A>C&&u.current&&(s&&s(S),u.current=!1),O&&d.current&&(i&&i(S),d.current=!1),O&&C>A?(n&&!u.current&&n(S),L.scrollTop=_,M=!0,u.current=!0):!O&&-C>k&&(l&&!d.current&&l(S),L.scrollTop=0,M=!0,d.current=!0),M&&hW(S)}},[n,s,l,i]),x=p.useCallback(function(S){g(S,S.deltaY)},[g]),b=p.useCallback(function(S){f.current=S.changedTouches[0].clientY},[]),y=p.useCallback(function(S){var C=f.current-S.changedTouches[0].clientY;g(S,C)},[g]),N=p.useCallback(function(S){if(S){var C=DG?{passive:!1}:!1;S.addEventListener("wheel",x,C),S.addEventListener("touchstart",b,C),S.addEventListener("touchmove",y,C)}},[y,b,x]),j=p.useCallback(function(S){S&&(S.removeEventListener("wheel",x,!1),S.removeEventListener("touchstart",b,!1),S.removeEventListener("touchmove",y,!1))},[y,b,x]);return p.useEffect(function(){if(e){var S=m.current;return N(S),function(){j(S)}}},[e,N,j]),function(S){m.current=S}}var fS=["boxSizing","height","overflow","paddingRight","position"],hS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function mS(t){t.cancelable&&t.preventDefault()}function pS(t){t.stopPropagation()}function gS(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function xS(){return"ontouchstart"in window||navigator.maxTouchPoints}var bS=!!(typeof window<"u"&&window.document&&window.document.createElement),Uu=0,lc={capture:!1,passive:!1};function pW(t){var e=t.isEnabled,n=t.accountForScrollbars,s=n===void 0?!0:n,l=p.useRef({}),i=p.useRef(null),u=p.useCallback(function(f){if(bS){var m=document.body,g=m&&m.style;if(s&&fS.forEach(function(N){var j=g&&g[N];l.current[N]=j}),s&&Uu<1){var x=parseInt(l.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,y=window.innerWidth-b+x||0;Object.keys(hS).forEach(function(N){var j=hS[N];g&&(g[N]=j)}),g&&(g.paddingRight="".concat(y,"px"))}m&&xS()&&(m.addEventListener("touchmove",mS,lc),f&&(f.addEventListener("touchstart",gS,lc),f.addEventListener("touchmove",pS,lc))),Uu+=1}},[s]),d=p.useCallback(function(f){if(bS){var m=document.body,g=m&&m.style;Uu=Math.max(Uu-1,0),s&&Uu<1&&fS.forEach(function(x){var b=l.current[x];g&&(g[x]=b)}),m&&xS()&&(m.removeEventListener("touchmove",mS,lc),f&&(f.removeEventListener("touchstart",gS,lc),f.removeEventListener("touchmove",pS,lc)))}},[s]);return p.useEffect(function(){if(e){var f=i.current;return u(f),function(){d(f)}}},[e,u,d]),function(f){i.current=f}}var gW=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},xW={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bW(t){var e=t.children,n=t.lockEnabled,s=t.captureEnabled,l=s===void 0?!0:s,i=t.onBottomArrive,u=t.onBottomLeave,d=t.onTopArrive,f=t.onTopLeave,m=mW({isEnabled:l,onBottomArrive:i,onBottomLeave:u,onTopArrive:d,onTopLeave:f}),g=pW({isEnabled:n}),x=function(y){m(y),g(y)};return nt(p.Fragment,null,n&&nt("div",{onClick:gW,css:xW}),e(x))}var vW={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},yW=function(e){var n=e.name,s=e.onFocus;return nt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:vW,value:"",onChange:function(){}})},wW=yW;function q0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function NW(){return q0(/^iPhone/i)}function _k(){return q0(/^Mac/i)}function jW(){return q0(/^iPad/i)||_k()&&navigator.maxTouchPoints>1}function SW(){return NW()||jW()}function CW(){return _k()||SW()}var EW=function(e){return e.label},kW=function(e){return e.label},TW=function(e){return e.value},AW=function(e){return!!e.isDisabled},RW={clearIndicator:fY,container:tY,control:vY,dropdownIndicator:uY,group:jY,groupHeading:CY,indicatorsContainer:aY,indicatorSeparator:mY,input:AY,loadingIndicator:xY,loadingMessage:XG,menu:FG,menuList:YG,menuPortal:JG,multiValue:_Y,multiValueLabel:DY,multiValueRemove:PY,noOptionsMessage:KG,option:qY,placeholder:VY,singleValue:WY,valueContainer:rY},OW={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},MW=4,Dk=4,LW=38,_W=Dk*2,DW={baseUnit:Dk,controlHeight:LW,menuGutter:_W},Jx={borderRadius:MW,colors:OW,spacing:DW},PW={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:oS(),captureMenuScroll:!oS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:uW(),formatGroupLabel:EW,getOptionLabel:kW,getOptionValue:TW,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:AW,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!LG(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vS(t,e,n,s){var l=Ik(t,e,n),i=zk(t,e,n),u=$k(t,e),d=dm(t,e);return{type:"option",data:e,isDisabled:l,isSelected:i,label:u,value:d,index:s}}function zh(t,e){return t.options.map(function(n,s){if("options"in n){var l=n.options.map(function(u,d){return vS(t,u,e,d)}).filter(function(u){return wS(t,u)});return l.length>0?{type:"group",data:n,options:l,index:s}:void 0}var i=vS(t,n,e,s);return wS(t,i)?i:void 0}).filter(PG)}function Pk(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,D0(n.options.map(function(s){return s.data}))):e.push(n.data),e},[])}function yS(t,e){return t.reduce(function(n,s){return s.type==="group"?n.push.apply(n,D0(s.options.map(function(l){return{data:l.data,id:"".concat(e,"-").concat(s.index,"-").concat(l.index)}}))):n.push({data:s.data,id:"".concat(e,"-").concat(s.index)}),n},[])}function $W(t,e){return Pk(zh(t,e))}function wS(t,e){var n=t.inputValue,s=n===void 0?"":n,l=e.data,i=e.isSelected,u=e.label,d=e.value;return(!Bk(t)||!i)&&Uk(t,{label:u,value:d,data:l},s)}function IW(t,e){var n=t.focusedValue,s=t.selectValue,l=s.indexOf(n);if(l>-1){var i=e.indexOf(n);if(i>-1)return n;if(l<e.length)return e[l]}return null}function zW(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var eb=function(e,n){var s,l=(s=e.find(function(i){return i.data===n}))===null||s===void 0?void 0:s.id;return l||null},$k=function(e,n){return e.getOptionLabel(n)},dm=function(e,n){return e.getOptionValue(n)};function Ik(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function zk(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var s=dm(t,e);return n.some(function(l){return dm(t,l)===s})}function Uk(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Bk=function(e){var n=e.hideSelectedOptions,s=e.isMulti;return n===void 0?s:n},UW=1,qk=(function(t){wV(n,t);var e=SV(n);function n(s){var l;if(vV(this,n),l=e.call(this,s),l.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(f){l.controlRef=f},l.focusedOptionRef=null,l.getFocusedOptionRef=function(f){l.focusedOptionRef=f},l.menuListRef=null,l.getMenuListRef=function(f){l.menuListRef=f},l.inputRef=null,l.getInputRef=function(f){l.inputRef=f},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(f,m){var g=l.props,x=g.onChange,b=g.name;m.name=b,l.ariaOnChange(f,m),x(f,m)},l.setValue=function(f,m,g){var x=l.props,b=x.closeMenuOnSelect,y=x.isMulti,N=x.inputValue;l.onInputChange("",{action:"set-value",prevInputValue:N}),b&&(l.setState({inputIsHiddenAfterUpdate:!y}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(f,{action:m,option:g})},l.selectOption=function(f){var m=l.props,g=m.blurInputOnSelect,x=m.isMulti,b=m.name,y=l.state.selectValue,N=x&&l.isOptionSelected(f,y),j=l.isOptionDisabled(f,y);if(N){var S=l.getOptionValue(f);l.setValue(y.filter(function(C){return l.getOptionValue(C)!==S}),"deselect-option",f)}else if(!j)x?l.setValue([].concat(D0(y),[f]),"select-option",f):l.setValue(f,"select-option");else{l.ariaOnChange(f,{action:"select-option",option:f,name:b});return}g&&l.blurInput()},l.removeValue=function(f){var m=l.props.isMulti,g=l.state.selectValue,x=l.getOptionValue(f),b=g.filter(function(N){return l.getOptionValue(N)!==x}),y=jh(m,b,b[0]||null);l.onChange(y,{action:"remove-value",removedValue:f}),l.focusInput()},l.clearValue=function(){var f=l.state.selectValue;l.onChange(jh(l.props.isMulti,[],null),{action:"clear",removedValues:f})},l.popValue=function(){var f=l.props.isMulti,m=l.state.selectValue,g=m[m.length-1],x=m.slice(0,m.length-1),b=jh(f,x,x[0]||null);g&&l.onChange(b,{action:"pop-value",removedValue:g})},l.getFocusedOptionId=function(f){return eb(l.state.focusableOptionsWithIds,f)},l.getFocusableOptionsWithIds=function(){return yS(zh(l.props,l.state.selectValue),l.getElementId("option"))},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return TG.apply(void 0,[l.props.classNamePrefix].concat(m))},l.getOptionLabel=function(f){return $k(l.props,f)},l.getOptionValue=function(f){return dm(l.props,f)},l.getStyles=function(f,m){var g=l.props.unstyled,x=RW[f](m,g);x.boxSizing="border-box";var b=l.props.styles[f];return b?b(x,m):x},l.getClassNames=function(f,m){var g,x;return(g=(x=l.props.classNames)[f])===null||g===void 0?void 0:g.call(x,m)},l.getElementId=function(f){return"".concat(l.state.instancePrefix,"-").concat(f)},l.getComponents=function(){return QY(l.props)},l.buildCategorizedOptions=function(){return zh(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return Pk(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(f,m){l.setState({ariaSelection:lt({value:f},m)})},l.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(f){l.blockOptionHover=!1},l.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&l.onMenuClose():m&&l.openMenu("first"):(m&&(l.openAfterFocus=!0),l.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},l.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!l.props.isDisabled){var m=l.props,g=m.isMulti,x=m.menuIsOpen;l.focusInput(),x?(l.setState({inputIsHiddenAfterUpdate:!g}),l.onMenuClose()):l.openMenu("first"),f.preventDefault()}},l.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(l.clearValue(),f.preventDefault(),l.openAfterFocus=!1,f.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(f){typeof l.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&ap(f.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(f)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(f){var m=f.touches,g=m&&m.item(0);g&&(l.initialTouchX=g.clientX,l.initialTouchY=g.clientY,l.userIsDragging=!1)},l.onTouchMove=function(f){var m=f.touches,g=m&&m.item(0);if(g){var x=Math.abs(g.clientX-l.initialTouchX),b=Math.abs(g.clientY-l.initialTouchY),y=5;l.userIsDragging=x>y||b>y}},l.onTouchEnd=function(f){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(f.target)&&l.menuListRef&&!l.menuListRef.contains(f.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(f){l.userIsDragging||l.onControlMouseDown(f)},l.onClearIndicatorTouchEnd=function(f){l.userIsDragging||l.onClearIndicatorMouseDown(f)},l.onDropdownIndicatorTouchEnd=function(f){l.userIsDragging||l.onDropdownIndicatorMouseDown(f)},l.handleInputChange=function(f){var m=l.props.inputValue,g=f.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(g,{action:"input-change",prevInputValue:m}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(f){l.props.onFocus&&l.props.onFocus(f),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(f){var m=l.props.inputValue;if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(f),l.onInputChange("",{action:"input-blur",prevInputValue:m}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(f){if(!(l.blockOptionHover||l.state.focusedOption===f)){var m=l.getFocusableOptions(),g=m.indexOf(f);l.setState({focusedOption:f,focusedOptionId:g>-1?l.getFocusedOptionId(f):null})}},l.shouldHideSelectedOptions=function(){return Bk(l.props)},l.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),l.focus()},l.onKeyDown=function(f){var m=l.props,g=m.isMulti,x=m.backspaceRemovesValue,b=m.escapeClearsValue,y=m.inputValue,N=m.isClearable,j=m.isDisabled,S=m.menuIsOpen,C=m.onKeyDown,T=m.tabSelectsValue,k=m.openMenuOnFocus,_=l.state,E=_.focusedOption,L=_.focusedValue,O=_.selectValue;if(!j&&!(typeof C=="function"&&(C(f),f.defaultPrevented))){switch(l.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||y)return;l.focusValue("previous");break;case"ArrowRight":if(!g||y)return;l.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(L)l.removeValue(L);else{if(!x)return;g?l.popValue():N&&l.clearValue()}break;case"Tab":if(l.isComposing||f.shiftKey||!S||!T||!E||k&&l.isOptionSelected(E,O))return;l.selectOption(E);break;case"Enter":if(f.keyCode===229)break;if(S){if(!E||l.isComposing)return;l.selectOption(E);break}return;case"Escape":S?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close",prevInputValue:y}),l.onMenuClose()):N&&b&&l.clearValue();break;case" ":if(y)return;if(!S){l.openMenu("first");break}if(!E)return;l.selectOption(E);break;case"ArrowUp":S?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":S?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!S)return;l.focusOption("pageup");break;case"PageDown":if(!S)return;l.focusOption("pagedown");break;case"Home":if(!S)return;l.focusOption("first");break;case"End":if(!S)return;l.focusOption("last");break;default:return}f.preventDefault()}},l.state.instancePrefix="react-select-"+(l.props.instanceId||++UW),l.state.selectValue=aS(s.value),s.menuIsOpen&&l.state.selectValue.length){var i=l.getFocusableOptionsWithIds(),u=l.buildFocusableOptions(),d=u.indexOf(l.state.selectValue[0]);l.state.focusableOptionsWithIds=i,l.state.focusedOption=u[d],l.state.focusedOptionId=eb(i,u[d])}return l}return yV(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&lS(this.menuListRef,this.focusedOptionRef),CW()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(l){var i=this.props,u=i.isDisabled,d=i.menuIsOpen,f=this.state.isFocused;(f&&!u&&l.isDisabled||f&&d&&!l.menuIsOpen)&&this.focusInput(),f&&u&&!l.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&l.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(lS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,i){this.props.onInputChange(l,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(l){var i=this,u=this.state,d=u.selectValue,f=u.isFocused,m=this.buildFocusableOptions(),g=l==="first"?0:m.length-1;if(!this.props.isMulti){var x=m.indexOf(d[0]);x>-1&&(g=x)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(l){var i=this.state,u=i.selectValue,d=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(d);d||(f=-1);var m=u.length-1,g=-1;if(u.length){switch(l){case"previous":f===0?g=0:f===-1?g=m:g=f-1;break;case"next":f>-1&&f<m&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var f=0,m=d.indexOf(u);u||(m=-1),l==="up"?f=m>0?m-1:d.length-1:l==="down"?f=(m+1)%d.length:l==="pageup"?(f=m-i,f<0&&(f=0)):l==="pagedown"?(f=m+i,f>d.length-1&&(f=d.length-1)):l==="last"&&(f=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[f])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Jx):lt(lt({},Jx),this.props.theme):Jx})},{key:"getCommonProps",value:function(){var l=this.clearValue,i=this.cx,u=this.getStyles,d=this.getClassNames,f=this.getValue,m=this.selectOption,g=this.setValue,x=this.props,b=x.isMulti,y=x.isRtl,N=x.options,j=this.hasValue();return{clearValue:l,cx:i,getStyles:u,getClassNames:d,getValue:f,hasValue:j,isMulti:b,isRtl:y,options:N,selectOption:m,selectProps:x,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var l=this.state.selectValue;return l.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,i=l.isClearable,u=l.isMulti;return i===void 0?u:i}},{key:"isOptionDisabled",value:function(l,i){return Ik(this.props,l,i)}},{key:"isOptionSelected",value:function(l,i){return zk(this.props,l,i)}},{key:"filterOption",value:function(l,i){return Uk(this.props,l,i)}},{key:"formatOptionLabel",value:function(l,i){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(l,{context:i,inputValue:u,selectValue:d})}else return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var l=this.props,i=l.isDisabled,u=l.isSearchable,d=l.inputId,f=l.inputValue,m=l.tabIndex,g=l.form,x=l.menuIsOpen,b=l.required,y=this.getComponents(),N=y.Input,j=this.state,S=j.inputIsHidden,C=j.ariaSelection,T=this.commonProps,k=d||this.getElementId("input"),_=lt(lt(lt({"aria-autocomplete":"list","aria-expanded":x,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},x&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?p.createElement(N,ct({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:k,innerRef:this.getInputRef,isDisabled:i,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:f},_)):p.createElement(fW,ct({id:k,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:cm,onFocus:this.onInputFocus,disabled:i,tabIndex:m,inputMode:"none",form:g,value:""},_))})},{key:"renderPlaceholderOrValue",value:function(){var l=this,i=this.getComponents(),u=i.MultiValue,d=i.MultiValueContainer,f=i.MultiValueLabel,m=i.MultiValueRemove,g=i.SingleValue,x=i.Placeholder,b=this.commonProps,y=this.props,N=y.controlShouldRenderValue,j=y.isDisabled,S=y.isMulti,C=y.inputValue,T=y.placeholder,k=this.state,_=k.selectValue,E=k.focusedValue,L=k.isFocused;if(!this.hasValue()||!N)return C?null:p.createElement(x,ct({},b,{key:"placeholder",isDisabled:j,isFocused:L,innerProps:{id:this.getElementId("placeholder")}}),T);if(S)return _.map(function(A,M){var B=A===E,P="".concat(l.getOptionLabel(A),"-").concat(l.getOptionValue(A));return p.createElement(u,ct({},b,{components:{Container:d,Label:f,Remove:m},isFocused:B,isDisabled:j,key:P,index:M,removeProps:{onClick:function(){return l.removeValue(A)},onTouchEnd:function(){return l.removeValue(A)},onMouseDown:function(I){I.preventDefault()}},data:A}),l.formatOptionLabel(A,"value"))});if(C)return null;var O=_[0];return p.createElement(g,ct({},b,{data:O,isDisabled:j}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents(),i=l.ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,m=d.isLoading,g=this.state.isFocused;if(!this.isClearable()||!i||f||!this.hasValue()||m)return null;var x={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(i,ct({},u,{innerProps:x,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents(),i=l.LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,m=d.isLoading,g=this.state.isFocused;if(!i||!m)return null;var x={"aria-hidden":"true"};return p.createElement(i,ct({},u,{innerProps:x,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),i=l.DropdownIndicator,u=l.IndicatorSeparator;if(!i||!u)return null;var d=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return p.createElement(u,ct({},d,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents(),i=l.DropdownIndicator;if(!i)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(i,ct({},u,{innerProps:m,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var l=this,i=this.getComponents(),u=i.Group,d=i.GroupHeading,f=i.Menu,m=i.MenuList,g=i.MenuPortal,x=i.LoadingMessage,b=i.NoOptionsMessage,y=i.Option,N=this.commonProps,j=this.state.focusedOption,S=this.props,C=S.captureMenuScroll,T=S.inputValue,k=S.isLoading,_=S.loadingMessage,E=S.minMenuHeight,L=S.maxMenuHeight,O=S.menuIsOpen,A=S.menuPlacement,M=S.menuPosition,B=S.menuPortalTarget,P=S.menuShouldBlockScroll,U=S.menuShouldScrollIntoView,I=S.noOptionsMessage,z=S.onMenuScrollToTop,G=S.onMenuScrollToBottom;if(!O)return null;var $=function(te,se){var ue=te.type,xe=te.data,ae=te.isDisabled,ge=te.isSelected,X=te.label,ne=te.value,ce=j===xe,oe=ae?void 0:function(){return l.onOptionHover(xe)},we=ae?void 0:function(){return l.selectOption(xe)},ke="".concat(l.getElementId("option"),"-").concat(se),je={id:ke,onClick:we,onMouseMove:oe,onMouseOver:oe,tabIndex:-1,role:"option","aria-selected":l.state.isAppleDevice?void 0:ge};return p.createElement(y,ct({},N,{innerProps:je,data:xe,isDisabled:ae,isSelected:ge,key:ke,label:X,type:ue,value:ne,isFocused:ce,innerRef:ce?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(te.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var te=K.data,se=K.options,ue=K.index,xe="".concat(l.getElementId("group"),"-").concat(ue),ae="".concat(xe,"-heading");return p.createElement(u,ct({},N,{key:xe,data:te,options:se,Heading:d,headingProps:{id:ae,data:K.data},label:l.formatGroupLabel(K.data)}),K.options.map(function(ge){return $(ge,"".concat(ue,"-").concat(ge.index))}))}else if(K.type==="option")return $(K,"".concat(K.index))});else if(k){var Y=_({inputValue:T});if(Y===null)return null;W=p.createElement(x,N,Y)}else{var Z=I({inputValue:T});if(Z===null)return null;W=p.createElement(b,N,Z)}var V={minMenuHeight:E,maxMenuHeight:L,menuPlacement:A,menuPosition:M,menuShouldScrollIntoView:U},q=p.createElement(HG,ct({},N,V),function(K){var te=K.ref,se=K.placerProps,ue=se.placement,xe=se.maxHeight;return p.createElement(f,ct({},N,V,{innerRef:te,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove},isLoading:k,placement:ue}),p.createElement(bW,{captureEnabled:C,onTopArrive:z,onBottomArrive:G,lockEnabled:P},function(ae){return p.createElement(m,ct({},N,{innerRef:function(X){l.getMenuListRef(X),ae(X)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:l.getElementId("listbox")},isLoading:k,maxHeight:xe,focusedOption:j}),W)}))});return B||M==="fixed"?p.createElement(g,ct({},N,{appendTo:B,controlElement:this.controlRef,menuPlacement:A,menuPosition:M}),q):q}},{key:"renderFormField",value:function(){var l=this,i=this.props,u=i.delimiter,d=i.isDisabled,f=i.isMulti,m=i.name,g=i.required,x=this.state.selectValue;if(g&&!this.hasValue()&&!d)return p.createElement(wW,{name:m,onFocus:this.onValueInputFocus});if(!(!m||d))if(f)if(u){var b=x.map(function(j){return l.getOptionValue(j)}).join(u);return p.createElement("input",{name:m,type:"hidden",value:b})}else{var y=x.length>0?x.map(function(j,S){return p.createElement("input",{key:"i-".concat(S),name:m,type:"hidden",value:l.getOptionValue(j)})}):p.createElement("input",{name:m,type:"hidden",value:""});return p.createElement("div",null,y)}else{var N=x[0]?this.getOptionValue(x[0]):"";return p.createElement("input",{name:m,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,i=this.state,u=i.ariaSelection,d=i.focusedOption,f=i.focusedValue,m=i.isFocused,g=i.selectValue,x=this.getFocusableOptions();return p.createElement(lW,ct({},l,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:f,isFocused:m,selectValue:g,focusableOptions:x,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var l=this.getComponents(),i=l.Control,u=l.IndicatorsContainer,d=l.SelectContainer,f=l.ValueContainer,m=this.props,g=m.className,x=m.id,b=m.isDisabled,y=m.menuIsOpen,N=this.state.isFocused,j=this.commonProps=this.getCommonProps();return p.createElement(d,ct({},j,{className:g,innerProps:{id:x,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:N}),this.renderLiveRegion(),p.createElement(i,ct({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:N,menuIsOpen:y}),p.createElement(f,ct({},j,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),p.createElement(u,ct({},j,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(l,i){var u=i.prevProps,d=i.clearFocusValueOnUpdate,f=i.inputIsHiddenAfterUpdate,m=i.ariaSelection,g=i.isFocused,x=i.prevWasFocused,b=i.instancePrefix,y=l.options,N=l.value,j=l.menuIsOpen,S=l.inputValue,C=l.isMulti,T=aS(N),k={};if(u&&(N!==u.value||y!==u.options||j!==u.menuIsOpen||S!==u.inputValue)){var _=j?$W(l,T):[],E=j?yS(zh(l,T),"".concat(b,"-option")):[],L=d?IW(i,T):null,O=zW(i,_),A=eb(E,O);k={selectValue:T,focusedOption:O,focusedOptionId:A,focusableOptionsWithIds:E,focusedValue:L,clearFocusValueOnUpdate:!1}}var M=f!=null&&l!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},B=m,P=g&&x;return g&&!P&&(B={value:jh(C,T,T[0]||null),options:T,action:"initial-input-focus"},P=!x),(m==null?void 0:m.action)==="initial-input-focus"&&(B=null),lt(lt(lt({},k),M),{},{prevProps:l,ariaSelection:B,prevWasFocused:P})}}]),n})(p.Component);qk.defaultProps=PW;var BW=p.forwardRef(function(t,e){var n=bV(t);return p.createElement(qk,ct({ref:e},n))}),ko=BW,tb,NS;function qW(){if(NS)return tb;NS=1;var t=!1,e,n,s,l,i,u,d,f,m,g,x,b,y,N,j;function S(){if(!t){t=!0;var T=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(T),_=/(Mac OS X)|(Windows)|(Linux)/.exec(T);if(b=/\b(iPhone|iP[ao]d)/.exec(T),y=/\b(iP[ao]d)/.exec(T),g=/Android/i.exec(T),N=/FBAN\/\w+;/i.exec(T),j=/Mobile/i.exec(T),x=!!/Win64/.exec(T),k){e=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var E=/(?:Trident\/(\d+.\d+))/.exec(T);u=E?parseFloat(E[1])+4:e,n=k[2]?parseFloat(k[2]):NaN,s=k[3]?parseFloat(k[3]):NaN,l=k[4]?parseFloat(k[4]):NaN,l?(k=/(?:Chrome\/(\d+\.\d+))/.exec(T),i=k&&k[1]?parseFloat(k[1]):NaN):i=NaN}else e=n=s=i=l=NaN;if(_){if(_[1]){var L=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(T);d=L?parseFloat(L[1].replace("_",".")):!0}else d=!1;f=!!_[2],m=!!_[3]}else d=f=m=!1}}var C={ie:function(){return S()||e},ieCompatibilityMode:function(){return S()||u>e},ie64:function(){return C.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||s},webkit:function(){return S()||l},safari:function(){return C.webkit()},chrome:function(){return S()||i},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||b},mobile:function(){return S()||b||y||g||j},nativeApp:function(){return S()||N},android:function(){return S()||g},ipad:function(){return S()||y}};return tb=C,tb}var nb,jS;function FW(){if(jS)return nb;jS=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return nb=e,nb}var rb,SS;function HW(){if(SS)return rb;SS=1;var t=FW(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(s,l){if(!t.canUseDOM||l&&!("addEventListener"in document))return!1;var i="on"+s,u=i in document;if(!u){var d=document.createElement("div");d.setAttribute(i,"return;"),u=typeof d[i]=="function"}return!u&&e&&s==="wheel"&&(u=document.implementation.hasFeature("Events.wheel","3.0")),u}return rb=n,rb}var sb,CS;function VW(){if(CS)return sb;CS=1;var t=qW(),e=HW(),n=10,s=40,l=800;function i(u){var d=0,f=0,m=0,g=0;return"detail"in u&&(f=u.detail),"wheelDelta"in u&&(f=-u.wheelDelta/120),"wheelDeltaY"in u&&(f=-u.wheelDeltaY/120),"wheelDeltaX"in u&&(d=-u.wheelDeltaX/120),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,g=f*n,"deltaY"in u&&(g=u.deltaY),"deltaX"in u&&(m=u.deltaX),(m||g)&&u.deltaMode&&(u.deltaMode==1?(m*=s,g*=s):(m*=l,g*=l)),m&&!d&&(d=m<1?-1:1),g&&!f&&(f=g<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:g}}return i.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},sb=i,sb}var ab,ES;function GW(){return ES||(ES=1,ab=VW()),ab}var YW=GW();const WW=Ed(YW);function KW(t,e,n,s,l,i){i===void 0&&(i=0);var u=Dc(t,e,i),d=u.width,f=u.height,m=Math.min(d,n),g=Math.min(f,s);return m>g*l?{width:g*l,height:g}:{width:m,height:m/l}}function XW(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Bu(t,e,n,s,l){l===void 0&&(l=0);var i=Dc(e.width,e.height,l),u=i.width,d=i.height;return{x:kS(t.x,u,n.width,s),y:kS(t.y,d,n.height,s)}}function kS(t,e,n,s){var l=e*s/2-n/2;return lp(t,-l,l)}function TS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function AS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function ZW(t,e,n,s,l,i,u){i===void 0&&(i=0),u===void 0&&(u=!0);var d=u?QW:JW,f=Dc(e.width,e.height,i),m=Dc(e.naturalWidth,e.naturalHeight,i),g={x:d(100,((f.width-n.width/l)/2-t.x/l)/f.width*100),y:d(100,((f.height-n.height/l)/2-t.y/l)/f.height*100),width:d(100,n.width/f.width*100/l),height:d(100,n.height/f.height*100/l)},x=Math.round(d(m.width,g.width*m.width/100)),b=Math.round(d(m.height,g.height*m.height/100)),y=m.width>=m.height*s,N=y?{width:Math.round(b*s),height:b}:{width:x,height:Math.round(x/s)},j=yn(yn({},N),{x:Math.round(d(m.width-N.width,g.x*m.width/100)),y:Math.round(d(m.height-N.height,g.y*m.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:j}}function QW(t,e){return Math.min(t,Math.max(0,e))}function JW(t,e){return e}function eK(t,e,n,s,l,i){var u=Dc(e.width,e.height,n),d=lp(s.width/u.width*(100/t.width),l,i),f={x:d*u.width/2-s.width/2-u.width*d*(t.x/100),y:d*u.height/2-s.height/2-u.height*d*(t.y/100)};return{crop:f,zoom:d}}function tK(t,e,n){var s=XW(e);return n.height>n.width?n.height/(t.height*s):n.width/(t.width*s)}function nK(t,e,n,s,l,i){n===void 0&&(n=0);var u=Dc(e.naturalWidth,e.naturalHeight,n),d=lp(tK(t,e,s),l,i),f=s.height>s.width?s.height/t.height:s.width/t.width,m={x:((u.width-t.width)/2-t.x)*f,y:((u.height-t.height)/2-t.y)*f};return{crop:m,zoom:d}}function RS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function rK(t){return t*Math.PI/180}function Dc(t,e,n){var s=rK(n);return{width:Math.abs(Math.cos(s)*t)+Math.abs(Math.sin(s)*e),height:Math.abs(Math.sin(s)*t)+Math.abs(Math.cos(s)*e)}}function lp(t,e,n){return Math.min(Math.max(t,e),n)}function Sh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var sK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,aK=1,lK=3,oK=1,Fk=(function(t){ZD(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=p.createRef(),n.imageRef=p.createRef(),n.videoRef=p.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var s=!0;n.resizeObserver=new window.ResizeObserver(function(l){if(s){s=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(s){return s.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var s=n.computeSizes();s&&(n.previousCropSize=s,n.emitCropData(),n.setInitialCrop(s),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(s){if(n.props.initialCroppedAreaPercentages){var l=eK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,s,n.props.minZoom,n.props.maxZoom),i=l.crop,u=l.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(u)}else if(n.props.initialCroppedAreaPixels){var d=nK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,s,n.props.minZoom,n.props.maxZoom),i=d.crop,u=d.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(u)}},n.computeSizes=function(){var s,l,i,u,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,x=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoWidth)||0,b=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((u=n.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,y=m.offsetWidth<x||m.offsetHeight<b,N=x/b,j=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":j=g>N?{width:n.containerRect.height*N,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/N};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/N};break;case"vertical-cover":j={width:n.containerRect.height*N,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=yn(yn({},j),{naturalWidth:x,naturalHeight:b}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:KW(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var s=n.containerRef.getBoundingClientRect();n.containerPosition={x:s.left,y:s.top}}},n.onMouseDown=function(s){n.currentDoc&&(s.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(s)))},n.onMouseMove=function(s){return n.onDrag(e.getMousePoint(s))},n.onScroll=function(s){n.currentDoc&&(s.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(s){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(s))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),s.touches.length===2?n.onPinchStart(s):s.touches.length===1&&n.onDragStart(e.getTouchPoint(s.touches[0]))))},n.onTouchMove=function(s){s.preventDefault(),s.touches.length===2?n.onPinchMove(s):s.touches.length===1&&n.onDrag(e.getTouchPoint(s.touches[0]))},n.onGestureStart=function(s){n.currentDoc&&(s.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(s){if(s.preventDefault(),!n.isTouching){var l=e.getMousePoint(s),i=n.gestureZoomStart-1+s.scale;if(n.setNewZoom(i,l,{shouldUpdatePosition:!0}),n.props.onRotationChange){var u=n.gestureRotationStart+s.rotation;n.props.onRotationChange(u)}}},n.onGestureEnd=function(s){n.cleanEvents()},n.onDragStart=function(s){var l,i,u=s.x,d=s.y;n.dragStartPosition={x:u,y:d},n.dragStartCrop=yn({},n.props.crop),(i=(l=n.props).onInteractionStart)===null||i===void 0||i.call(l)},n.onDrag=function(s){var l=s.x,i=s.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(l===void 0||i===void 0)){var u=l-n.dragStartPosition.x,d=i-n.dragStartPosition.y,f={x:n.dragStartCrop.x+u,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?Bu(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var s,l;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(l=(s=n.props).onInteractionEnd)===null||l===void 0||l.call(s)},n.onWheel=function(s){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(s))){s.preventDefault();var l=e.getMousePoint(s),i=WW(s).pixelY,u=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(u,l,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(s,l){var i=s.x,u=s.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-l.x),y:n.containerRect.height/2-(u-l.y)}},n.getPointOnMedia=function(s){var l=s.x,i=s.y,u=n.props,d=u.crop,f=u.zoom;return{x:(l+d.x)/f,y:(i+d.y)/f}},n.setNewZoom=function(s,l,i){var u=i===void 0?{}:i,d=u.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=lp(s,n.props.minZoom,n.props.maxZoom);if(f){var g=n.getPointOnContainer(l,n.containerPosition),x=n.getPointOnMedia(g),b={x:x.x*m-g.x,y:x.y*m-g.y},y=n.props.restrictPosition?Bu(b,n.mediaSize,n.state.cropSize,m,n.props.rotation):b;n.props.onCropChange(y)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var s=n.props.restrictPosition?Bu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return ZW(s,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var s=n.getCropData();if(s){var l=s.croppedAreaPercentages,i=s.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(l,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(l,i)}},n.emitCropAreaChange=function(){var s=n.getCropData();if(s){var l=s.croppedAreaPercentages,i=s.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(l,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var s=n.props.crop;if(n.isInitialized&&n.previousCropSize){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var i=n.state.cropSize.width/n.previousCropSize.width,u=n.state.cropSize.height/n.previousCropSize.height;s={x:n.props.crop.x*i,y:n.props.crop.y*u}}}var d=n.props.restrictPosition?Bu(s,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):s;n.previousCropSize=n.state.cropSize,n.props.onCropChange(d),n.emitCropData()}},n.onKeyDown=function(s){var l,i,u=n.props,d=u.crop,f=u.onCropChange,m=u.keyboardStep,g=u.zoom,x=u.rotation,b=m;if(n.state.cropSize){s.shiftKey&&(b*=.2);var y=yn({},d);switch(s.key){case"ArrowUp":y.y-=b,s.preventDefault();break;case"ArrowDown":y.y+=b,s.preventDefault();break;case"ArrowLeft":y.x-=b,s.preventDefault();break;case"ArrowRight":y.x+=b,s.preventDefault();break;default:return}n.props.restrictPosition&&(y=Bu(y,n.mediaSize,n.state.cropSize,g,x)),s.repeat||(i=(l=n.props).onInteractionStart)===null||i===void 0||i.call(l),f(y)}},n.onKeyUp=function(s){var l,i;switch(s.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":s.preventDefault();break;default:return}n.emitCropData(),(i=(l=n.props).onInteractionEnd)===null||i===void 0||i.call(l)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=sK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,s;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((s=this.styleRef.parentNode)===null||s===void 0||s.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var s,l,i,u,d,f,m,g,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((s=n.cropSize)===null||s===void 0?void 0:s.height)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((u=this.props.cropSize)===null||u===void 0?void 0:u.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,s=n.cropSize,l=n.aspect;return s?s.width/s.height:l},e.prototype.getObjectFit=function(){var n,s,l,i;if(this.props.objectFit==="cover"){var u=this.imageRef.current||this.videoRef.current;if(u&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,m=((l=this.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,g=f/m;return g<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var s=e.getTouchPoint(n.touches[0]),l=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=TS(s,l),this.lastPinchRotation=AS(s,l),this.onDragStart(RS(s,l))},e.prototype.onPinchMove=function(n){var s=this;if(!(!this.currentDoc||!this.currentWindow)){var l=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),u=RS(l,i);this.onDrag(u),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=TS(l,i),f=s.props.zoom*(d/s.lastPinchDistance);s.setNewZoom(f,u,{shouldUpdatePosition:!1}),s.lastPinchDistance=d;var m=AS(l,i),g=s.props.rotation+(m-s.lastPinchRotation);s.props.onRotationChange&&s.props.onRotationChange(g),s.lastPinchRotation=m})}},e.prototype.render=function(){var n=this,s,l=this.props,i=l.image,u=l.video,d=l.mediaProps,f=l.cropperProps,m=l.transform,g=l.crop,x=g.x,b=g.y,y=l.rotation,N=l.zoom,j=l.cropShape,S=l.showGrid,C=l.roundCropAreaPixels,T=l.style,k=T.containerStyle,_=T.cropAreaStyle,E=T.mediaStyle,L=l.classes,O=L.containerClassName,A=L.cropAreaClassName,M=L.mediaClassName,B=(s=this.state.mediaObjectFit)!==null&&s!==void 0?s:this.getObjectFit();return p.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return n.containerRef=U},"data-testid":"container",style:k,className:Sh("reactEasyCrop_Container",O)},i?p.createElement("img",yn({alt:"",className:Sh("reactEasyCrop_Image",B==="contain"&&"reactEasyCrop_Contain",B==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",B==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},d,{src:i,ref:this.imageRef,style:yn(yn({},E),{transform:m||"translate(".concat(x,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(N,")")}),onLoad:this.onMediaLoad})):u&&p.createElement("video",yn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Sh("reactEasyCrop_Video",B==="contain"&&"reactEasyCrop_Contain",B==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",B==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:yn(yn({},E),{transform:m||"translate(".concat(x,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(N,")")}),controls:!1}),(Array.isArray(u)?u:[{src:u}]).map(function(P){return p.createElement("source",yn({key:P.src},P))})),this.state.cropSize&&p.createElement("div",yn({ref:this.cropperRef,style:yn(yn({},_),{width:C?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:C?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Sh("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",A)},f)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:lK,minZoom:aK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:oK},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(p.Component);function Hk(t,e){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const s=n.getContext("2d"),l=new Image;return l.src=t,new Promise((i,u)=>{l.onload=()=>{s.drawImage(l,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n.toBlob(d=>i(d),"image/jpeg")},l.onerror=()=>u(new Error("Image load failed"))})}function Vd({onImageCropped:t,label:e="Upload Image",required:n=!1}){const[s,l]=p.useState(null),[i,u]=p.useState(null),[d,f]=p.useState({x:0,y:0}),[m,g]=p.useState(1),[x,b]=p.useState(null),[y,N]=p.useState(!1),j=p.useCallback((k,_)=>{b(_)},[]),S=k=>{if(k.target.files&&k.target.files.length>0){const _=new FileReader;_.addEventListener("load",()=>{l(_.result),N(!0)}),_.readAsDataURL(k.target.files[0])}},C=async()=>{try{const k=await Hk(s,x),_=new File([k],"image.jpg",{type:"image/jpeg"});u(URL.createObjectURL(k)),t(_),N(!1)}catch(k){console.error(k)}},T=()=>{u(null),l(null),t(null)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Pt,{htmlFor:"image-upload",className:"text-sm sm:text-base font-semibold",children:[e," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:S,className:"hidden",required:n&&!i}),r.jsx("label",{htmlFor:"image-upload",className:`image-upload-label flex flex-col items-center justify-center w-full h-40 sm:h-48 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 ${i?"bg-transparent":""}`,children:i?r.jsxs("div",{className:"relative w-full h-full p-2",children:[r.jsx("img",{src:i,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation(),T()},className:"absolute top-4 right-4 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:r.jsx(On,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 py-6 sm:py-8 px-4",children:[r.jsx("div",{className:"upload-icon-wrapper p-3 sm:p-4 rounded-full transition-transform duration-300 hover:scale-110",children:r.jsx(Cc,{className:"w-6 sm:w-8 h-6 sm:h-8 upload-icon"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm sm:text-base font-medium text-theme",children:"Click to upload image"}),r.jsx("p",{className:"text-xs sm:text-sm mt-1 text-secondary",children:"PNG, JPG up to 10MB"})]})]})})]}),y&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm p-4",children:r.jsx("div",{className:"relative w-full max-w-3xl",children:r.jsxs("div",{className:"bg-card-theme rounded-xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"p-3 sm:p-4 border-b border-theme",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Crop Your Image"}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary",children:"Adjust the image to your liking"})]}),r.jsx("div",{className:"relative h-64 sm:h-96 bg-black",children:r.jsx(Fk,{image:s,crop:d,zoom:m,aspect:3/4,onCropChange:f,onZoomChange:g,onCropComplete:j})}),r.jsxs("div",{className:"p-3 sm:p-4 border-t border-theme space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:"Zoom"}),r.jsx("input",{type:"range",min:1,max:3,step:.1,value:m,onChange:k=>g(parseFloat(k.target.value)),className:"w-full",style:{accentColor:"#2563eb"}})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-end",children:[r.jsx(Oe,{type:"button",onClick:()=>N(!1),variant:"outline",className:"px-4 sm:px-6 text-sm sm:text-base",children:"Cancel"}),r.jsx(Oe,{type:"button",onClick:C,className:"btn px-4 sm:px-6 text-sm sm:text-base",children:"Save & Continue"})]})]})]})})})]})}function iK({onVideoSelected:t,label:e="Upload Video",required:n=!1}){const[s,l]=p.useState(null),[i,u]=p.useState(null),d=m=>{if(m.target.files&&m.target.files.length>0){const g=m.target.files[0];u(g),l(URL.createObjectURL(g)),t(g)}},f=()=>{s&&URL.revokeObjectURL(s),l(null),u(null),t(null)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Pt,{htmlFor:"video-upload",className:"text-sm sm:text-base font-semibold",children:[e," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"video-upload",type:"file",accept:"video/*",onChange:d,className:"hidden",required:n&&!i}),r.jsx("label",{htmlFor:"video-upload",className:`video-upload-label flex flex-col items-center justify-center w-full h-40 sm:h-48 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 ${s?"bg-transparent":""}`,children:s?r.jsxs("div",{className:"relative w-full h-full p-2",children:[r.jsx("video",{src:s,className:"w-full h-full object-cover rounded-lg",controls:!0}),r.jsx("button",{type:"button",onClick:m=>{m.preventDefault(),m.stopPropagation(),f()},className:"absolute top-4 right-4 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg z-10",children:r.jsx(On,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 py-6 sm:py-8 px-4",children:[r.jsx("div",{className:"video-icon-wrapper p-3 sm:p-4 rounded-full transition-transform duration-300 hover:scale-110",children:r.jsx(Cc,{className:"w-6 sm:w-8 h-6 sm:h-8 video-icon"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm sm:text-base font-medium text-theme",children:"Click to upload video"}),r.jsx("p",{className:"text-xs sm:text-sm mt-1 text-secondary",children:"MP4, MOV, AVI up to 100MB"})]})]})})]})]})}const To={control:(t,e)=>({...t,backgroundColor:"var(--input-bg)",borderColor:e.isFocused?"#2563eb":"var(--border-color)",boxShadow:e.isFocused?"0 0 8px rgba(37, 99, 235, 0.3)":"none","&:hover":{borderColor:"#2563eb"},minHeight:window.innerWidth<640?"38px":"42px",borderRadius:"0.5rem",transition:"all 0.3s ease",fontSize:window.innerWidth<640?"14px":"16px",padding:window.innerWidth<640?"0 4px":"0"}),menu:t=>({...t,backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"0.75rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",overflow:"hidden",marginTop:"4px",fontSize:window.innerWidth<640?"14px":"16px",maxWidth:"100%",zIndex:9999}),menuList:t=>({...t,padding:"4px",maxHeight:window.innerWidth<640?"200px":"300px"}),option:(t,e)=>({...t,backgroundColor:e.isSelected?"#2563eb":e.isFocused?"rgba(37, 99, 235, 0.1)":"transparent",color:e.isSelected?"#ffffff":"var(--foreground-color)",padding:window.innerWidth<640?"8px 10px":"10px 12px",borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.2s ease",fontSize:window.innerWidth<640?"14px":"16px",whiteSpace:"normal",wordWrap:"break-word","&:active":{backgroundColor:"#2563eb"}}),multiValue:t=>({...t,backgroundColor:"rgba(37, 99, 235, 0.15)",borderRadius:"0.5rem",padding:window.innerWidth<640?"1px 2px":"2px 4px",margin:"2px",fontSize:window.innerWidth<640?"12px":"14px"}),multiValueLabel:t=>({...t,color:"var(--foreground-color)",fontWeight:"500",fontSize:window.innerWidth<640?"12px":"14px",padding:window.innerWidth<640?"2px 4px":"3px 6px"}),multiValueRemove:t=>({...t,color:"#2563eb",borderRadius:"0 0.5rem 0.5rem 0","&:hover":{backgroundColor:"#2563eb",color:"#ffffff"},transition:"all 0.2s ease"}),singleValue:t=>({...t,color:"var(--foreground-color)",fontSize:window.innerWidth<640?"14px":"16px"}),input:t=>({...t,color:"var(--foreground-color)",fontSize:window.innerWidth<640?"14px":"16px"}),placeholder:t=>({...t,color:"var(--secondary-text)",fontSize:window.innerWidth<640?"14px":"16px"}),valueContainer:t=>({...t,padding:window.innerWidth<640?"2px 6px":"2px 8px"}),indicatorsContainer:t=>({...t,padding:window.innerWidth<640?"0 4px":"0 8px"})};function Gd({children:t,title:e,description:n,icon:s}){return r.jsx("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-3 sm:px-4",children:r.jsxs("div",{className:"form-card-wrapper border-2 shadow-lg rounded-xl sm:rounded-2xl overflow-hidden animate-fadeIn",children:[r.jsx("div",{className:"p-4 sm:p-6 pb-3 sm:pb-4 border-b form-card-header",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s&&r.jsx("div",{className:"form-card-icon p-1.5 sm:p-2 rounded-lg flex-shrink-0",children:r.jsx(s,{className:"w-5 h-5 sm:w-6 sm:h-6 icon-primary"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h2",{className:"text-xl sm:text-3xl font-bold gradient-text break-words",children:e}),n&&r.jsx("p",{className:"text-xs sm:text-sm mt-0.5 sm:mt-1 text-secondary",children:n})]})]})}),r.jsx("div",{className:"p-4 sm:p-6",children:t})]})})}function Yd({label:t,required:e,type:n="text",...s}){return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Pt,{htmlFor:s.id||s.name,className:"text-sm sm:text-base font-semibold",children:[t," ",e&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:n,required:e,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base transition-all duration-300",style:{minWidth:"0"},...s})]})}function op({label:t,required:e,...n}){return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Pt,{htmlFor:n.id||n.name,className:"text-sm sm:text-base font-semibold",children:[t," ",e&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{required:e,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base min-h-32 resize-none transition-all duration-300",style:{minWidth:"0"},...n})]})}function lr({label:t,required:e,options:n,value:s,onChange:l,placeholder:i,name:u,id:d}){return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Pt,{htmlFor:d||u,className:"text-sm sm:text-base font-semibold",children:[t," ",e&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(fl,{value:s||void 0,onValueChange:f=>l({target:{name:u,value:f}}),children:[r.jsx(Ea,{className:"themed-select-trigger w-full",children:r.jsx(hl,{placeholder:i||`Select ${t}`})}),r.jsx(ka,{className:"themed-select-content",children:r.jsx(rV,{children:n.map(f=>r.jsxs(qn,{value:String(f.value),className:"themed-select-item cursor-pointer",children:[f.icon&&r.jsx("span",{className:"mr-2",children:f.icon}),f.label]},f.value))})})]})]})}function cK(){const[t,e]=p.useState({title:"",file:null,summary:"",primarygenre:"",primarysubgenre:[],secondarygenre:"",secondarysubgenre:[],audience:"",type:"",age:"",status:"ongoing",warnings:[]}),{user:n}=Nt(),[s,l]=p.useState(""),i=Je(),[u,d]=p.useState(!1),{toast:f,showToast:m,closeToast:g}=Mn(),x=T=>{if(!T||!T.target)return;const{name:k,value:_,type:E,checked:L}=T.target;e(O=>E==="checkbox"?{...O,[k]:L}:{...O,[k]:_})},b=T=>{e(k=>({...k,file:T}))};async function y(T){T.preventDefault(),l(""),d(!0);const k=new FormData;k.append("title",t.title),k.append("summary",t.summary),k.append("status",t.status),k.append("file",t.file),k.append("type",t.type),k.append("primarygenre",t.primarygenre),k.append("primarysubgenre",JSON.stringify(t.primarysubgenre)),k.append("secondarygenre",t.secondarygenre),k.append("secondarysubgenre",JSON.stringify(t.secondarysubgenre)),k.append("audience",t.audience),k.append("age",t.age),k.append("warnings",JSON.stringify(t.warnings));try{const _=await fetch("https://fanhub-server.onrender.com/api/stories/create",{method:"POST",body:k,credentials:"include"}),E=await _.json();if(_.status===500){i("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok&&_.status!==500){l(E.message);return}m("Story created successfully!","success"),setTimeout(()=>{i(`/dashboard/stories/${n.id}`)},1500)}catch{i("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}const N=[{value:"novel",label:"Novel"},{value:"short story",label:"Short Story"},{value:"flash story",label:"Flash Story"},{value:"poem",label:"Poem"}],j=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"general",label:"General"}],S=[{value:"kids",label:"Kids"},{value:"teen",label:"Teen"},{value:"young adult",label:"Young Adult"},{value:"adult",label:"Adult"}],C=[{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"}];return r.jsxs(Gd,{title:"Create Your Story",description:"Share your creative masterpiece with the world",icon:Ra,children:[r.jsx(Hn,{message:f.message,type:f.type,isOpen:f.isOpen,onClose:g}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsx(Yd,{label:"Story Title",name:"title",value:t.title,onChange:x,placeholder:"Enter your story title...",required:!0}),r.jsx(Vd,{label:"Cover Image",onImageCropped:b,required:!0}),r.jsx(op,{label:"Summary",name:"summary",value:t.summary,onChange:x,placeholder:"Write a captivating summary of your story...",required:!0}),r.jsx(lr,{label:"Story Type",name:"type",value:t.type,onChange:x,options:N,placeholder:"Choose story type",required:!0}),r.jsx(OS,{genre:"primarygenre",subgenre:"primarysubgenre",form:t,setForm:e,handleChange:x,label:"Primary",required:!0}),r.jsx(OS,{genre:"secondarygenre",subgenre:"secondarysubgenre",form:t,setForm:e,handleChange:x,label:"Secondary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(lr,{label:"Target Audience",name:"audience",value:t.audience,onChange:x,options:j,placeholder:"Choose audience",required:!0}),r.jsx(lr,{label:"Age Group",name:"age",value:t.age,onChange:x,options:S,placeholder:"Choose age group",required:!0})]}),r.jsx(lr,{label:"Story Status",name:"status",value:t.status,onChange:x,options:C,placeholder:"Choose status",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"warnings",className:"text-sm sm:text-base font-semibold",children:"Content Warnings"}),r.jsx(ko,{isMulti:!0,name:"warnings",options:tp.map(T=>({value:T,label:T})),value:t.warnings.map(T=>({value:T,label:T})),onChange:T=>{T.length>4||e(k=>({...k,warnings:T.map(_=>_.value)}))},placeholder:"Select warnings (max 4)",className:"basic-multi-select",classNamePrefix:"select",styles:To}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary",children:"Select up to 4 content warnings for your story"})]}),s&&r.jsx("div",{className:"p-3 sm:p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 animate-fadeIn",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs sm:text-sm font-medium",children:s})}),r.jsx(Oe,{type:"submit",disabled:u,className:"w-full btn text-sm sm:text-base py-5 sm:py-6 font-semibold",children:u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Create Story"})]})]})}function OS({genre:t,subgenre:e,form:n,setForm:s,handleChange:l,label:i,required:u}){const d=Object.keys(bs).map(f=>({value:f,label:f.replace(/([A-Z])/g," $1").trim()}));return r.jsxs("div",{className:"genre-select-wrapper space-y-3 sm:space-y-4 p-3 sm:p-5 rounded-xl border transition-all duration-300 hover:shadow-md",children:[r.jsxs("h3",{className:"font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),i," Genre"]}),r.jsx(lr,{label:"Genre",name:t,id:t,value:n[t],onChange:l,options:d,placeholder:"Select a genre",required:u}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:e,className:"text-sm sm:text-base font-medium",children:"Subgenres"}),r.jsx(ko,{isMulti:!0,name:e,options:n[t]?bs[n[t]].map(f=>({value:f,label:f})):[],value:n[e].map(f=>({value:f,label:f})),onChange:f=>{f.length>4||s(m=>({...m,[e]:f.map(g=>g.value)}))},isDisabled:!n[t],placeholder:n[t]?"Select up to 4 subgenres":"Select a genre first",className:"basic-multi-select",classNamePrefix:"select",styles:To})]})]})}function uK(){const{id:t}=ln(),[e,n]=p.useState([]),[s,l]=p.useState(""),[i,u]=p.useState(!1),[d,f]=p.useState(null),[m,g]=p.useState(null),x=Je(),{toast:b,showToast:y,closeToast:N}=Mn(),{confirm:j,showConfirm:S,closeConfirm:C}=fa(),{warning:T,showWarning:k,closeWarning:_}=h0();p.useEffect(()=>{async function A(){l(""),u(!0);try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}`,{method:"GET",credentials:"include"}),B=await M.json();if(M.status===500){x("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok&&M.status!==500){l(B.message);return}n(B.stories)}catch{x("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{u(!1)}}A()},[t]);async function E(A){f(A);try{const M=await Ss(`https://fanhub-server.onrender.com/api/stories/${A}/delete`);n(B=>B.filter(P=>Number(P.id)!==Number(A))),y(M||"Story deleted successfully","success")}catch{y("Failed to delete story","error")}finally{f(null)}}const L=async(A,M)=>{var P;const B=e.find(U=>U.id===A);if(!M&&((P=B._count)==null?void 0:P.chapters)===0){k("Cannot Publish Story","Please add at least one chapter to your story before publishing it. Your readers need something to enjoy!");return}g(A);try{(await fetch(`https://fanhub-server.onrender.com/api/stories/${A}/publish`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPublished:!M})})).ok?(y(M?"Story unpublished successfully":"Story published successfully","success"),n(I=>I.map(z=>z.id===A?{...z,isPublished:!M}:z))):y("Failed to update publish status","error")}catch(U){console.error("Error toggling publish status:",U),y("An error occurred while updating publish status","error")}finally{g(null)}},O=({icon:A,label:M,value:B,color:P})=>r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-theme border-theme",children:[r.jsx(A,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${P}`}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] sm:text-xs text-secondary",children:M}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold text-theme",children:(B==null?void 0:B.toLocaleString())||0})]})]});return r.jsxs(r.Fragment,{children:[r.jsx(Hn,{...b,onClose:N}),r.jsx(da,{...j,onClose:C,confirmText:"Delete",cancelText:"Cancel"}),r.jsx(f0,{...T,onClose:_}),r.jsx("div",{className:"min-h-screen bg-theme p-3 sm:p-4 md:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text mb-1 sm:mb-2",children:"My Stories"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Manage your creative works"})]}),r.jsxs(Oe,{onClick:()=>x("/dashboard/create story"),className:"btn flex items-center gap-2","aria-label":"Create new story",children:[r.jsx(bo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add New Story"}),r.jsx("span",{className:"sm:hidden",children:"New"})]})]}),s&&r.jsx("div",{className:"card bg-destructive/10 border-destructive/30 mb-4 sm:mb-6",children:r.jsx("p",{className:"text-destructive text-center text-sm sm:text-base",children:s})}),i?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Loading stories..."})]})}):r.jsx("div",{children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:e.map(A=>{var M,B,P;return r.jsx("div",{className:"card group shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:r.jsxs("div",{className:"relative w-50 h-40 sm:w-32 sm:h-44 rounded-xl overflow-hidden bg-secondary",children:[r.jsx("img",{src:A.imgUrl,alt:A.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:"absolute top-2 left-2",children:r.jsx("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-sm rounded-md text-xs font-medium text-white",children:A.type})}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${A.isPublished?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:A.isPublished?"Published":"Draft"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-theme truncate",children:A.title}),r.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium whitespace-nowrap ${A.status==="PUBLISHED"?"bg-green-500/20 text-green-400":A.status==="ONGOING"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:A.status})]}),r.jsx("p",{className:"text-secondary text-xs sm:text-sm mb-3 line-clamp-2 sm:line-clamp-3",children:A.summary}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 sm:mb-4",children:[r.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary rounded-md text-xs font-medium",children:A.primarygenre}),A.secondarygenre&&r.jsx("span",{className:"px-2 py-1 bg-accent/20 text-accent rounded-md text-xs font-medium",children:A.secondarygenre})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-3 sm:mb-4",children:[r.jsx(O,{icon:$t,label:"Likes",value:((M=A._count)==null?void 0:M.likes)||0,color:"text-red-400"}),r.jsx(O,{icon:mn,label:"Reviews",value:((B=A._count)==null?void 0:B.reviews)||0,color:"text-green-400"}),r.jsx(O,{icon:ym,label:"Library",value:((P=A._count)==null?void 0:P.library)||0,color:"text-purple-400"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>x(`/dashboard/story/${A.id}`),className:"flex-1 btn text-xs sm:text-sm py-2 flex items-center justify-center gap-1.5 sm:gap-2","aria-label":`View chapters for ${A.title}`,children:[r.jsx(Qt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden xs:inline",children:"View Chapters"}),r.jsx("span",{className:"xs:hidden",children:"Chapters"})]}),r.jsx("button",{onClick:()=>x(`/dashboard/update-story/${A.id}`),className:"px-3 sm:px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-all duration-300","aria-label":`Edit ${A.title}`,children:r.jsx(Ld,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"})}),r.jsx("button",{disabled:m===A.id,onClick:()=>L(A.id,A.isPublished),className:"px-3 sm:px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-all duration-300 disabled:opacity-50","aria-label":A.isPublished?"Unpublish story":"Publish story",title:A.isPublished?"Unpublish":"Publish",children:m===A.id?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-theme border-t-transparent rounded-full animate-spin"}):A.isPublished?r.jsx(Md,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"}):r.jsx(Cr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"})}),r.jsx("button",{disabled:d===A.id,onClick:()=>{S("Delete Story",`Are you sure you want to delete "${A.title}"? This action cannot be undone.`,()=>E(A.id))},className:"px-3 sm:px-4 py-2 bg-destructive/20 hover:bg-destructive/30 rounded-lg transition-all duration-300 disabled:opacity-50","aria-label":`Delete ${A.title}`,children:d===A.id?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}):r.jsx(Mr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-destructive"})})]})]})]})},A.id)})}):r.jsxs("div",{className:"card text-center py-12 sm:py-20",children:[r.jsx(Qt,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-secondary opacity-50"}),r.jsx("p",{className:"text-base sm:text-lg text-secondary mb-2",children:"No stories found"}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary mb-6",children:"Start writing your first story to get started"}),r.jsxs(Oe,{onClick:()=>x("/dashboard/create story"),className:"btn",children:[r.jsx(bo,{className:"w-4 h-4 mr-2"}),"Create Your First Story"]})]})})]})})]})}function dK(){var L,O,A,M;const{id:t}=ln(),e=Je(),[n,s]=p.useState(null),[l,i]=p.useState(""),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[g,x]=p.useState([]),[b,y]=p.useState(null),{toast:N,showToast:j,closeToast:S}=Mn(),{confirm:C,showConfirm:T,closeConfirm:k}=fa();p.useEffect(()=>{async function B(){i(""),d(!0);try{const P=await fetch(`https://fanhub-server.onrender.com/api/stories/story/${t}`,{method:"GET",credentials:"include"}),U=await P.json();if(P.status===500){e("/error",{state:{message:U.message||"Process failed"}});return}else if(!P.ok&&P.status!==500){i(U.message);return}s(U.story)}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}B()},[t]),p.useEffect(()=>{m(!0),i("");async function B(){try{const P=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters`,{method:"GET",credentials:"include"}),U=await P.json();if(P.status===500){e("/error",{state:{message:U.message||"Process failed"}});return}else if(!P.ok&&P.status!==500){i(U.message);return}x(U.chapters)}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{m(!1)}}B()},[t]);async function _(B){y(B);try{const P=await Ss(`https://fanhub-server.onrender.com/api/stories/${n.id}/chapters/${B}`);j(P||"Chapter deleted successfully","success"),x(U=>U.filter(I=>Number(I.id)!==Number(B)))}catch{j("Failed to delete chapter","error")}finally{y(null)}}const E=B=>new Date(B).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r.jsxs("div",{className:"min-h-screen bg-theme p-3 sm:p-4 md:p-6",children:[r.jsx(Hn,{message:N.message,type:N.type,isOpen:N.isOpen,onClose:S}),r.jsx(da,{isOpen:C.isOpen,onClose:k,onConfirm:C.onConfirm,title:C.title,description:C.description,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"}),r.jsxs("div",{className:"max-w-7xl mx-auto",children:[u?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Loading story..."})]})}):r.jsx("div",{children:n&&r.jsxs("div",{children:[r.jsx("div",{className:"card mb-6 sm:mb-8 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[r.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:r.jsx("div",{className:"w-48 h-64 sm:w-56 sm:h-80 rounded-2xl overflow-hidden bg-secondary shadow-lg",children:r.jsx("img",{src:n.imgUrl,alt:n.title,className:"w-full h-full object-cover"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text mb-2",children:n.title}),r.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[r.jsx("span",{className:"px-2 sm:px-3 py-1 bg-primary/20 text-primary rounded-lg text-xs sm:text-sm font-medium",children:n.type}),r.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm font-medium ${n.status==="PUBLISHED"?"bg-green-500/20 text-green-400":n.status==="ONGOING"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:n.status})]})]})}),r.jsx("p",{className:"text-secondary text-sm sm:text-base md:text-lg mb-4 sm:mb-6 leading-relaxed",children:n.summary}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-secondary mb-2",children:"GENRES"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/20 text-primary rounded-lg text-xs sm:text-sm font-medium",children:n.primarygenre}),n.secondarygenre&&r.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-accent/20 text-accent rounded-lg text-xs sm:text-sm font-medium",children:n.secondarygenre})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-secondary mb-2",children:"SUBGENRES"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(L=n.primarysubgenre)==null?void 0:L.map((B,P)=>r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-theme",children:B},P)),(O=n.secondarysubgenre)==null?void 0:O.map((B,P)=>r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-theme",children:B},P))]})]}),((A=n.warnings)==null?void 0:A.length)>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-secondary mb-2",children:"CONTENT WARNINGS"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.warnings.map((B,P)=>r.jsxs("span",{className:"px-2 py-1 bg-destructive/20 text-destructive rounded-md text-xs flex items-center gap-1",children:[r.jsx(wm,{className:"w-3 h-3"}),B]},P))})]}),r.jsxs("div",{className:"flex gap-2 mb-4 sm:mb-6 flex-wrap",children:[r.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-secondary rounded-lg text-xs sm:text-sm text-theme",children:n.audience}),r.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-secondary rounded-lg text-xs sm:text-sm text-theme",children:n.age})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-theme",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(Cr,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Views"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.views})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx($t,{className:"w-5 h-5 text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Likes"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.likes})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(mn,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Reviews"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:(M=n._count.review)==null?void 0:M.toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(ym,{className:"w-5 h-5 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Library"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.library})]})]})]})})]})]})}),r.jsxs("main",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-theme",children:"Chapters"})]}),r.jsxs("button",{onClick:()=>e(`/dashboard/story/${n.id}/create chapter`),className:"btn flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-3 sm:px-4",children:[r.jsx(bo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden xs:inline",children:"New Chapter"}),r.jsx("span",{className:"xs:hidden",children:"New"})]})]}),f?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-secondary text-xs sm:text-sm",children:"Loading chapters..."})]})}):r.jsx("div",{children:g.length>0?r.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.map(B=>r.jsx("div",{className:"card group shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-theme mb-2",children:B.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs sm:text-sm text-secondary mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Rd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{children:E(B.uploadedAt)})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Cr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),r.jsx("span",{children:B._count.views})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx($t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-400"}),r.jsx("span",{children:B._count.likes})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(mn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-400"}),r.jsx("span",{children:B._count.comments})]})]}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-xs font-medium ${B.status==="PUBLISHED"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:B.status})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>e(`/stories/${n.id}/chapters/${B.id}`),className:"px-3 sm:px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-all duration-300 flex items-center gap-1.5",title:"Preview Chapter",children:[r.jsx(hC,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden sm:inline text-xs",children:"Preview"})]}),r.jsx("button",{onClick:()=>e(`/dashboard/story/${n.id}/update chapter/${B.id}`),className:"px-3 sm:px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-all duration-300",title:"Edit Chapter",children:r.jsx(Ld,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"})}),r.jsx("button",{disabled:b===B.id,onClick:()=>{T("Delete Chapter",`Are you sure you want to delete "${B.title}"? This action cannot be undone.`,()=>_(B.id))},className:"px-3 sm:px-4 py-2 bg-destructive/20 hover:bg-destructive/30 rounded-lg transition-all duration-300 disabled:opacity-50",title:"Delete Chapter",children:b===B.id?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}):r.jsx(Mr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-destructive"})})]})]})},B.id))}):r.jsxs("div",{className:"card text-center py-12 sm:py-20",children:[r.jsx(Qt,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-secondary opacity-50"}),r.jsx("p",{className:"text-base sm:text-lg text-secondary mb-2",children:"No chapters yet"}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary mb-4 sm:mb-6",children:"Start writing your first chapter"}),r.jsxs("button",{onClick:()=>e(`/dashboard/story/${n.id}/create chapter`),className:"btn inline-flex items-center gap-2 text-xs sm:text-sm",children:[r.jsx(bo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Create First Chapter"]})]})})]})]})}),l&&r.jsx("div",{className:"card bg-destructive/10 border-destructive/30 mt-4 sm:mt-6",children:r.jsx("p",{className:"text-destructive text-center text-sm sm:text-base",children:l})})]})]})}function fK(){const[t,e]=p.useState({title:"",file:null,summary:"",primarygenre:"",primarysubgenre:[],secondarygenre:"",secondarysubgenre:[],audience:"",type:"",age:"",status:"ongoing",warnings:[]}),{id:n}=ln(),{user:s}=Nt(),[l,i]=p.useState(""),u=Je(),[d,f]=p.useState(!1),[m,g]=p.useState(!0),[x,b]=p.useState(null),{toast:y,showToast:N,closeToast:j}=Mn();p.useEffect(()=>{x&&(e({title:x.title||"",file:x.imgUrl||"",summary:x.summary||"",status:x.status||"",type:x.type||"",primarygenre:x.primarygenre||"",primarysubgenre:x.primarysubgenre||[],secondarygenre:x.secondarygenre||"",secondarysubgenre:x.secondarysubgenre||[],audience:x.audience||"",age:x.age||"",warnings:x.warnings||[]}),g(!1))},[x]),p.useEffect(()=>{async function O(){i(""),g(!0);try{const A=await fetch(`https://fanhub-server.onrender.com/api/stories/story/${n}`,{method:"GET",credentials:"include"}),M=await A.json();if(A.status===500){u("/error",{state:{message:M.message||"Process failed"}});return}else if(!A.ok&&A.status!==500){i(M.message);return}b(M.story)}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{g(!1)}}O()},[n,u]);const S=O=>{if(!O||!O.target)return;const{name:A,value:M,type:B,checked:P}=O.target;e(U=>B==="checkbox"?{...U,[A]:P}:{...U,[A]:M})},C=O=>{e(A=>({...A,file:O}))};async function T(O){O.preventDefault(),i(""),f(!0);const A=new FormData;A.append("title",t.title),A.append("summary",t.summary),A.append("status",t.status),A.append("file",t.file),A.append("type",t.type),A.append("primarygenre",t.primarygenre),A.append("primarysubgenre",JSON.stringify(t.primarysubgenre)),A.append("secondarygenre",t.secondarygenre),A.append("secondarysubgenre",JSON.stringify(t.secondarysubgenre)),A.append("audience",t.audience),A.append("age",t.age),A.append("warnings",JSON.stringify(t.warnings));try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/${n}`,{method:"POST",body:A,credentials:"include"}),B=await M.json();if(M.status===500){u("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok&&M.status!==500){i(B.message);return}N("Story updated successfully!","success"),setTimeout(()=>{u(`/dashboard/stories/${s.id}`)},1500)}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{f(!1)}}const k=[{value:"novel",label:"Novel"},{value:"short story",label:"Short Story"},{value:"flash story",label:"Flash Story"},{value:"poem",label:"Poem"}],_=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"general",label:"General"}],E=[{value:"kids",label:"Kids"},{value:"teen",label:"Teen"},{value:"young adult",label:"Young Adult"},{value:"adult",label:"Adult"}],L=[{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"}];return m?r.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-3 sm:px-4",children:[r.jsx(Hn,{message:y.message,type:y.type,isOpen:y.isOpen,onClose:j}),r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 sm:gap-4 p-6 sm:p-8",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-base sm:text-lg font-medium text-center",children:"Loading story details..."})]})]}):x?r.jsxs(Gd,{title:"Update Your Story",description:"Edit your story details",icon:Ra,children:[r.jsx(Hn,{message:y.message,type:y.type,isOpen:y.isOpen,onClose:j}),r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsx(Yd,{label:"Story Title",name:"title",value:t.title,onChange:S,placeholder:"Enter your story title...",required:!0}),r.jsx(Vd,{label:"Cover Image",onImageCropped:C,required:!1}),x.imgUrl&&!t.file&&r.jsx("div",{className:"text-xs sm:text-sm text-secondary",children:"Current image will be kept if no new image is uploaded"}),r.jsx(op,{label:"Summary",name:"summary",value:t.summary,onChange:S,placeholder:"Write a captivating summary of your story...",required:!0}),r.jsx(lr,{label:"Story Type",name:"type",value:t.type,onChange:S,options:k,placeholder:"Choose story type",required:!0}),r.jsx(MS,{genre:"primarygenre",subgenre:"primarysubgenre",form:t,setForm:e,handleChange:S,label:"Primary",required:!0}),r.jsx(MS,{genre:"secondarygenre",subgenre:"secondarysubgenre",form:t,setForm:e,handleChange:S,label:"Secondary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(lr,{label:"Target Audience",name:"audience",value:t.audience,onChange:S,options:_,placeholder:"Choose audience",required:!0}),r.jsx(lr,{label:"Age Group",name:"age",value:t.age,onChange:S,options:E,placeholder:"Choose age group",required:!0})]}),r.jsx(lr,{label:"Story Status",name:"status",value:t.status,onChange:S,options:L,placeholder:"Choose status",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"warnings",className:"text-sm sm:text-base font-semibold",children:"Content Warnings"}),r.jsx(ko,{isMulti:!0,name:"warnings",options:tp.map(O=>({value:O,label:O})),value:t.warnings.map(O=>({value:O,label:O})),onChange:O=>{O.length>4||e(A=>({...A,warnings:O.map(M=>M.value)}))},placeholder:"Select warnings (max 4)",className:"basic-multi-select",classNamePrefix:"select",styles:To}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary",children:"Select up to 4 content warnings for your story"})]}),l&&r.jsx("div",{className:"p-3 sm:p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 animate-fadeIn",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs sm:text-sm font-medium",children:l})}),r.jsx(Oe,{type:"submit",disabled:d,className:"w-full btn text-sm sm:text-base py-5 sm:py-6 font-semibold",children:d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):"Update Story"})]})]}):r.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-3 sm:px-4",children:[r.jsx(Hn,{message:y.message,type:y.type,isOpen:y.isOpen,onClose:j}),r.jsx("div",{className:"p-4 sm:p-6 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium text-sm sm:text-base",children:"Story not found"})})]})}function MS({genre:t,subgenre:e,form:n,setForm:s,handleChange:l,label:i,required:u}){const d=Object.keys(bs).map(f=>({value:f,label:f.replace(/([A-Z])/g," $1").trim()}));return r.jsxs("div",{className:"genre-select-wrapper space-y-3 sm:space-y-4 p-3 sm:p-5 rounded-xl border transition-all duration-300 hover:shadow-md",children:[r.jsxs("h3",{className:"font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),i," Genre"]}),r.jsx(lr,{label:"Genre",name:t,id:t,value:n[t],onChange:l,options:d,placeholder:"Select a genre",required:u}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:e,className:"text-sm sm:text-base font-medium",children:"Subgenres"}),r.jsx(ko,{isMulti:!0,name:e,options:n[t]?bs[n[t]].map(f=>({value:f,label:f})):[],value:n[e].map(f=>({value:f,label:f})),onChange:f=>{f.length>4||s(m=>({...m,[e]:f.map(g=>g.value)}))},isDisabled:!n[t],placeholder:n[t]?"Select up to 4 subgenres":"Select a genre first",className:"basic-multi-select",classNamePrefix:"select",styles:To})]})]})}const hK=Se.import("blots/block/embed");var Hu;let mK=(Hu=class extends hK{static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.innerHTML=`
      <div style="text-align: center; margin: 0.5em 0; padding: 0; user-select: none; line-height: 1;">
        <div style="display: inline-flex; align-items: center; gap: 0.5rem; color: #2563eb;">
          <span style="flex: 1; height: 2px; max-width: 100px; background: linear-gradient(to right, transparent, #2563eb);"></span>
          <span style="font-size: 1.1rem; line-height: 1;"></span>
          <span style="flex: 1; height: 2px; max-width: 100px; background: linear-gradient(to left, transparent, #2563eb);"></span>
        </div>
      </div>
    `,e}},Pe(Hu,"blotName","sceneBreak"),Pe(Hu,"tagName","div"),Pe(Hu,"className","scene-break"),Hu);Se.register(mK);function pK(){const[t,e]=p.useState(""),{user:n}=Nt(),{id:s}=ln(),[l,i]=p.useState(""),u=Je(),[d,f]=p.useState({publish:!1,draft:!1}),{toast:m,showToast:g,closeToast:x}=Mn(),b=p.useRef(null),y=p.useRef(null);p.useEffect(()=>{if(b.current&&!y.current){const j=[[{header:[1,2,3,4,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],[{color:[]},{background:[]}],["link"],["clean"]];y.current=new Se(b.current,{theme:"snow",placeholder:"Start writing your chapter here... Let your imagination flow freely.",modules:{toolbar:{container:j}}});const S=b.current.parentNode.querySelector(".ql-toolbar");if(S){const C=document.createElement("button");C.className="ql-scene-break",C.innerHTML='<span style="font-size: 16px;"></span>',C.title="Insert Scene Break",C.type="button",C.addEventListener("click",()=>{const T=y.current.getSelection();T&&(y.current.insertEmbed(T.index,"sceneBreak",!0),y.current.setSelection(T.index+1))}),S.appendChild(C),S.classList.add("flex","flex-wrap","justify-center","gap-2","p-3","rounded-lg","bg-card-theme","border","border-theme","mb-3")}}},[]);async function N(j,S){j.preventDefault(),i(""),f(C=>({...C,[S]:!0}));try{const C=y.current.root.innerHTML,T={title:t,content:C},k=await fetch(`https://fanhub-server.onrender.com/api/stories/${s}/createChapter/${S}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T),credentials:"include"}),_=await k.json();if(k.status===500){u("/error",{state:{message:_.message||"Process failed"}});return}else if(!k.ok){i(_.message);return}const E=await fetch(`https://fanhub-server.onrender.com/api/users/${n.id}/writingStreak`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!E.ok){const O=await E.json();i(O.message||"Failed to update writing streak")}const L=await fetch(`https://fanhub-server.onrender.com/api/users/${n.id}/social/writingpoint`,{method:"POST",credentials:"include"});if(!L.ok){const O=await L.json();i(O.message||"Failed to update writing points")}g("Chapter created successfully!","success"),setTimeout(()=>{u(`/dashboard/story/${s}`)},1500)}catch{u("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{f(C=>({...C,[S]:!1}))}}return r.jsxs("div",{className:"min-h-screen bg-theme px-4 sm:px-6 py-8",children:[r.jsx(Hn,{message:m.message,type:m.type,isOpen:m.isOpen,onClose:x}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("header",{className:"text-center mb-8",children:[r.jsxs("button",{onClick:()=>u(`/dashboard/story/${s}`),className:"inline-flex items-center gap-2 text-secondary hover:text-theme transition-colors mb-4","aria-label":"Back to story dashboard",children:[r.jsx($c,{className:"w-4 h-4","aria-hidden":"true"}),"Back to Story"]}),r.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text flex items-center justify-center gap-3",children:[r.jsx(jc,{className:"w-8 h-8 text-accent"}),"Create a New Chapter"]}),r.jsxs("p",{className:"text-secondary text-sm sm:text-base mt-2 flex items-center justify-center gap-2",children:[r.jsx(Ra,{className:"w-4 h-4 text-accent"}),"Let your creativity shine through every line you write."]})]}),r.jsxs("form",{className:"space-y-6",onSubmit:j=>j.preventDefault(),children:[r.jsxs("div",{className:"card p-5",children:[r.jsxs("label",{className:"block mb-2 font-semibold text-theme flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 text-primary"}),"Chapter Title"]}),r.jsx("input",{type:"text",value:t,onChange:j=>e(j.target.value),required:!0,className:"w-full mt-2 px-4 py-3 rounded-lg text-lg border border-border focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter an engaging title..."})]}),r.jsxs("div",{className:"card p-5",children:[r.jsxs("label",{className:"block mb-3 font-semibold text-theme flex items-center gap-2",children:[r.jsx(jc,{className:"w-5 h-5 text-accent"}),"Chapter Content"]}),r.jsx("div",{ref:b,className:"quill-container min-h-[350px] sm:min-h-[500px] rounded-lg border border-border bg-card-theme"}),r.jsxs("div",{className:"mt-4 text-xs sm:text-sm text-secondary bg-secondary/10 p-3 rounded-lg flex items-start gap-2",children:[r.jsx(Hh,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Tip:"})," Use headers for scene breaks, blockquote for dialogue, and the ",r.jsx("span",{className:"font-bold text-accent",children:" button"})," to insert beautiful scene dividers."]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("button",{type:"button",disabled:d.publish,onClick:j=>N(j,"publish"),className:"btn flex-1 py-3 text-lg font-semibold bg-primary text-white rounded-lg transition-all hover:opacity-90 disabled:opacity-50 flex items-center justify-center gap-2",children:[r.jsx(bC,{className:"w-5 h-5"}),d.publish?"Publishing...":"Publish Chapter"]}),r.jsxs("button",{type:"button",disabled:d.draft,onClick:j=>N(j,"unpublish"),className:"flex-1 py-3 text-lg font-semibold rounded-lg border-2 border-primary text-primary hover:bg-primary/10 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[r.jsx(Lv,{className:"w-5 h-5"}),d.draft?"Saving...":"Save as Draft"]})]}),l&&r.jsxs("div",{className:"card bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 p-3 rounded-lg animate-fadeIn flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""})," ",l]})]})]})]})}const gK=Se.import("blots/block/embed");class Uh extends gK{static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.innerHTML=`
      <div style="text-align: center; margin: 0.5em 0; padding: 0; user-select: none; line-height: 1;">
        <div style="display: inline-flex; align-items: center; gap: 0.5rem; color: #2563eb;">
          <span style="flex: 1; height: 2px; max-width: 100px; background: linear-gradient(to right, transparent, #2563eb);"></span>
          <span style="font-size: 1.1rem; line-height: 1;"></span>
          <span style="flex: 1; height: 2px; max-width: 100px; background: linear-gradient(to left, transparent, #2563eb);"></span>
        </div>
      </div>
    `,e}}Pe(Uh,"blotName","sceneBreak"),Pe(Uh,"tagName","div"),Pe(Uh,"className","scene-break");Se.register(Uh);function xK(){const{id:t,chapterId:e}=ln(),n=Je(),[s,l]=p.useState(""),[i,u]=p.useState(!0),[d,f]=p.useState({publish:!1,draft:!1}),[m,g]=p.useState(""),[x,b]=p.useState(""),{toast:y,showToast:N,closeToast:j}=Mn(),S=p.useRef(null),C=p.useRef(null);p.useEffect(()=>{let k=!0;return(async()=>{try{const E=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters/${e}`,{method:"GET",credentials:"include"}),L=await E.json();if(!k)return;if(E.status===500){n("/error",{state:{message:L.message||"Process failed"}});return}if(!E.ok){l(L.message||"Failed to load chapter"),u(!1);return}g(L.chapter.title||""),b(L.chapter.content||""),k&&u(!1)}catch{k&&n("/error",{state:{message:"Network error: Please check your internet connection."}})}})(),()=>{k=!1}},[t,e,n]),p.useEffect(()=>{if(!S.current||C.current||i)return;const k=[[{header:[1,2,3,!1]}],["bold","italic","underline"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],[{color:[]},{background:[]}],["link"],["clean"]],_=new Se(S.current,{theme:"snow",placeholder:"Continue writing your chapter... Just type naturally!",modules:{toolbar:{container:k}}});C.current=_;const E=S.current.parentNode.querySelector(".ql-toolbar");if(E){const L=document.createElement("button");L.className="ql-scene-break",L.innerHTML='<span style="font-size: 16px;"></span>',L.title="Insert Scene Break",L.type="button",L.addEventListener("click",()=>{const O=_.getSelection();O&&(_.insertEmbed(O.index,"sceneBreak",!0),_.setSelection(O.index+1))}),E.appendChild(L)}return x&&(_.root.innerHTML=x),()=>{C.current&&(C.current=null)}},[i,x]);async function T(k,_){if(k.preventDefault(),!C.current){l("Editor not initialized");return}l(""),f(E=>({...E,[_]:!0}));try{const E=C.current.root.innerHTML,L={title:m,content:E},O=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters/${e}/${_}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L),credentials:"include"}),A=await O.json();if(O.status===500){n("/error",{state:{message:A.message||"Process failed"}});return}if(!O.ok&&O.status!==500){l(A.message);return}N("Chapter updated successfully!","success"),setTimeout(()=>{n(`/dashboard/story/${t}`)},1500)}catch{n("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{f(E=>({...E,[_]:!1}))}}return r.jsxs("div",{className:"min-h-screen bg-theme py-8 px-4 sm:px-6 lg:px-8",children:[r.jsx(Hn,{message:y.message,type:y.type,isOpen:y.isOpen,onClose:j}),r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>n(`/dashboard/story/${t}`),className:"inline-flex items-center gap-2 text-secondary hover:text-theme transition-colors mb-4","aria-label":"Back to story dashboard",children:[r.jsx($c,{className:"w-4 h-4","aria-hidden":"true"}),"Back to Story"]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-[#2563eb]/10 rounded-lg",children:r.jsx(jc,{className:"w-8 h-8 text-[#2563eb]","aria-hidden":"true"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-theme",children:"Update Chapter"}),r.jsx("p",{className:"text-secondary mt-2",children:"Edit your chapter content and publish changes"})]})]})]}),i?r.jsx("div",{className:"card py-16 text-center",role:"status","aria-live":"polite",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(vt,{className:"w-16 h-16 text-[#2563eb] animate-spin","aria-hidden":"true"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-theme text-lg font-medium mb-1",children:"Loading chapter..."}),r.jsx("p",{className:"text-secondary text-sm",children:"Please wait while we fetch your content"})]})]})}):r.jsxs("form",{className:"space-y-6",onSubmit:k=>k.preventDefault(),children:[s&&r.jsx("div",{className:"card bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",role:"alert","aria-live":"polite",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nc,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:s})]})}),r.jsx("div",{className:"card",children:r.jsxs("label",{htmlFor:"chapter-title",className:"block",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Qt,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Chapter Title ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("input",{id:"chapter-title",type:"text",value:m,onChange:k=>g(k.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg text-lg focus:outline-none",placeholder:"Enter an engaging chapter title...","aria-required":"true"})]})}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(jc,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),r.jsxs("span",{className:"text-theme font-semibold text-lg",children:["Chapter Content ",r.jsx("span",{className:"text-red-500",children:"*"})]})]}),r.jsx("div",{className:"quill-container",children:r.jsx("div",{ref:S,className:"min-h-[500px]","aria-label":"Chapter content editor"})}),r.jsx("p",{className:"text-secondary text-sm mt-3",children:" Tip: Use the  button in the toolbar to add scene breaks"})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[r.jsx("button",{type:"button",disabled:d.publish||!m.trim(),onClick:k=>T(k,"publish"),className:"btn py-4 text-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d.publish?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),"Publishing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bC,{className:"w-5 h-5","aria-hidden":"true"}),"Publish Changes"]})}),r.jsx("button",{type:"button",disabled:d.draft||!m.trim(),onClick:k=>T(k,"unpublish"),className:"py-4 text-lg font-semibold rounded-lg border-2 border-gray-300 dark:border-gray-700 text-theme hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d.draft?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Lv,{className:"w-5 h-5","aria-hidden":"true"}),"Save as Draft"]})})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("strong",{children:"Publish"})," will make your changes live immediately.",r.jsx("strong",{children:" Save as Draft"})," will keep them private until you're ready."]})})]}),r.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800",children:[r.jsxs("h3",{className:"font-semibold text-theme text-lg mb-3 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 text-[#2563eb]","aria-hidden":"true"}),"Writing Tips"]}),r.jsxs("ul",{className:"space-y-2 text-secondary text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Use scene breaks () to separate major scene transitions"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Blockquotes are perfect for dialogue or emphasis"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Save drafts frequently to avoid losing your work"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-[#2563eb] font-bold",children:""}),r.jsx("span",{children:"Headers help organize long chapters into sections"})]})]})]})]})]})]})}const Vk=p.createContext();function bK({children:t}){const[e,n]=p.useState([]),{user:s}=Nt(),[l,i]=p.useState(!1),[u,d]=p.useState("");return p.useEffect(()=>{if(!s||!s.id)return;async function f(){i(!0),d("");try{const m=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${s.id}`,{method:"GET",credentials:"include"}),g=await m.json();if(!m.ok){d(g.message||"Something is wrong. Try again!");return}n(g.collections)}catch(m){d(m.message)}finally{i(!1)}}f()},[s]),r.jsx(Vk.Provider,{value:{collections:e,setCollections:n,loading:l,error:u},children:t})}function F0(){return p.useContext(Vk)}function vK(){const[t,e]=p.useState({name:"",file:null,description:"",primarygenre:"",primarysubgenre:[],secondarygenre:"",secondarysubgenre:[],audience:"",age:"",status:"ongoing",warnings:[]}),{user:n}=Nt(),[s,l]=p.useState(""),i=Je(),[u,d]=p.useState(!1),{setCollections:f}=F0(),{toast:m,showToast:g,closeToast:x}=Mn(),b=T=>{if(!T||!T.target)return;const{name:k,value:_,type:E,checked:L}=T.target;e(O=>E==="checkbox"?{...O,[k]:L}:{...O,[k]:_})},y=T=>{e(k=>({...k,file:T}))};async function N(T){T.preventDefault(),l(""),d(!0);const k=new FormData;k.append("name",t.name),k.append("description",t.description),k.append("status",t.status),k.append("file",t.file),k.append("primarygenre",t.primarygenre),k.append("primarysubgenre",JSON.stringify(t.primarysubgenre)),k.append("secondarygenre",t.secondarygenre),k.append("secondarysubgenre",JSON.stringify(t.secondarysubgenre)),k.append("audience",t.audience),k.append("age",t.age),k.append("warnings",JSON.stringify(t.warnings));try{const _=await fetch("https://fanhub-server.onrender.com/api/gallery/createCollection",{method:"POST",body:k,credentials:"include"}),E=await _.json();if(_.status===500){i("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok&&_.status!==500){l(E.message);return}g("Collection created successfully!","success"),f(L=>[...L,E.collection]),setTimeout(()=>{i(`/dashboard/visual stories/${n.id}`)},1500)}catch{i("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}const j=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"general",label:"General"}],S=[{value:"kids",label:"Kids"},{value:"teen",label:"Teen"},{value:"young adult",label:"Young Adult"},{value:"adult",label:"Adult"}],C=[{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"}];return r.jsxs(Gd,{title:"Create Collection",description:"Organize your creative works into collections",icon:OM,children:[r.jsx(Hn,{message:m.message,type:m.type,isOpen:m.isOpen,onClose:x}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsx(Yd,{label:"Collection Name",name:"name",value:t.name,onChange:b,placeholder:"Enter collection name...",required:!0}),r.jsx(Vd,{label:"Collection Cover",onImageCropped:y,required:!0}),r.jsx(op,{label:"Description",name:"description",value:t.description,onChange:b,placeholder:"Describe your collection...",required:!0}),r.jsx(LS,{genre:"primarygenre",subgenre:"primarysubgenre",form:t,setForm:e,handleChange:b,label:"Primary",required:!0}),r.jsx(LS,{genre:"secondarygenre",subgenre:"secondarysubgenre",form:t,setForm:e,handleChange:b,label:"Secondary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(lr,{label:"Target Audience",name:"audience",value:t.audience,onChange:b,options:j,placeholder:"Choose audience",required:!0}),r.jsx(lr,{label:"Age Group",name:"age",value:t.age,onChange:b,options:S,placeholder:"Choose age group",required:!0})]}),r.jsx(lr,{label:"Collection Status",name:"status",value:t.status,onChange:b,options:C,placeholder:"Choose status",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"warnings",className:"text-sm sm:text-base font-semibold",children:"Content Warnings"}),r.jsx(ko,{isMulti:!0,name:"warnings",options:tp.map(T=>({value:T,label:T})),value:t.warnings.map(T=>({value:T,label:T})),onChange:T=>{T.length>4||e(k=>({...k,warnings:T.map(_=>_.value)}))},placeholder:"Select warnings (max 4)",className:"basic-multi-select",classNamePrefix:"select",styles:To})]}),s&&r.jsx("div",{className:"p-3 sm:p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 animate-fadeIn",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs sm:text-sm font-medium",children:s})}),r.jsx(Oe,{type:"submit",disabled:u,className:"w-full btn text-sm sm:text-base py-5 sm:py-6 font-semibold",children:u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Create Collection"})]})]})}function LS({genre:t,subgenre:e,form:n,setForm:s,handleChange:l,label:i,required:u}){const d=Object.keys(bs).map(f=>({value:f,label:f.replace(/([A-Z])/g," $1").trim()}));return r.jsxs("div",{className:"genre-select-wrapper space-y-3 sm:space-y-4 p-3 sm:p-5 rounded-xl border transition-all duration-300 hover:shadow-md",children:[r.jsxs("h3",{className:"font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),i," Genre"]}),r.jsx(lr,{label:"Genre",name:t,id:t,value:n[t],onChange:l,options:d,placeholder:"Select a genre",required:u}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:e,className:"text-sm sm:text-base font-medium",children:"Subgenres"}),r.jsx(ko,{isMulti:!0,name:e,options:n[t]?bs[n[t]].map(f=>({value:f,label:f})):[],value:n[e].map(f=>({value:f,label:f})),onChange:f=>{f.length>4||s(m=>({...m,[e]:f.map(g=>g.value)}))},isDisabled:!n[t],placeholder:n[t]?"Select up to 4 subgenres":"Select a genre first",className:"basic-multi-select",classNamePrefix:"select",styles:To})]})]})}function yK(){const t=Je(),{id:e}=ln(),[n,s]=p.useState(null),[l,i]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,x]=p.useState(""),{toast:b,showToast:y,closeToast:N}=Mn(),{confirm:j,showConfirm:S,closeConfirm:C}=fa(),{warning:T,showWarning:k,closeWarning:_}=h0();p.useEffect(()=>{async function A(){x(""),i(!0);try{const M=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${e}`,{method:"GET",credentials:"include"}),B=await M.json();if(M.status===500){t("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok&&M.status!==500){x(B.message);return}s(B.collections)}catch{t("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}A()},[e]);async function E(A){d(A);try{const M=await Ss(`https://fanhub-server.onrender.com/api/gallery/collections/${A}`);s(B=>B.filter(P=>Number(P.id)!==Number(A))),y(M||"Collection deleted successfully","success")}catch{y("Failed to delete collection","error")}finally{d(null)}}const L=async(A,M)=>{var U,I;const B=n.find(z=>z.id===A),P=(((U=B._count)==null?void 0:U.images)||0)+(((I=B._count)==null?void 0:I.videos)||0);if(!M&&P===0){k("Cannot Publish Collection","Please add at least one image or video to your collection before publishing it. Your audience is waiting to see your work!");return}m(A);try{(await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${A}/publish`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPublished:!M})})).ok?(y(M?"Collection unpublished successfully":"Collection published successfully","success"),s(G=>G.map($=>$.id===A?{...$,isPublished:!M}:$))):y("Failed to update publish status","error")}catch(z){console.error("Error toggling publish status:",z),y("An error occurred while updating publish status","error")}finally{m(null)}},O=({icon:A,label:M,value:B,color:P})=>r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg bg-theme border-theme",children:[r.jsx(A,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${P}`}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] sm:text-xs text-secondary",children:M}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold text-theme",children:(B==null?void 0:B.toLocaleString())||0})]})]});return r.jsxs(r.Fragment,{children:[r.jsx(Hn,{...b,onClose:N}),r.jsx(da,{...j,onClose:C,confirmText:"Delete",cancelText:"Cancel"}),r.jsx(f0,{...T,onClose:_}),r.jsx("div",{className:"min-h-screen bg-theme p-3 sm:p-4 md:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text mb-1 sm:mb-2",children:"Visual Stories"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Manage your gallery collections"})]}),r.jsxs(Oe,{onClick:()=>t("/dashboard/create collection"),className:"btn flex items-center gap-2","aria-label":"Create new collection",children:[r.jsx(bo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add New Collection"}),r.jsx("span",{className:"sm:hidden",children:"New"})]})]}),l?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:"Loading collections..."})]})}):r.jsx("div",{children:n&&r.jsx("div",{children:n.length>0?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:n.map(A=>{var M,B,P,U;return r.jsx("div",{className:"card group shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:r.jsxs("div",{className:"relative w-28 h-28 sm:w-32 sm:h-32 rounded-xl overflow-hidden bg-secondary",children:[r.jsx("img",{src:A.img,alt:A.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${A.isPublished?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:A.isPublished?"Published":"Draft"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-theme truncate",children:A.name}),r.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium whitespace-nowrap ${A.status==="PUBLISHED"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:A.status})]}),r.jsx("p",{className:"text-secondary text-xs sm:text-sm mb-3 line-clamp-2",children:A.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary rounded-md text-xs font-medium",children:A.primarygenre}),r.jsx("span",{className:"px-2 py-1 bg-accent/20 text-accent rounded-md text-xs font-medium",children:A.secondarygenre})]}),r.jsxs("div",{className:"flex gap-2 mb-3 sm:mb-4 flex-wrap",children:[r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-secondary",children:A.audience}),r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-secondary",children:A.age})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-3 sm:mb-4",children:[r.jsx(O,{icon:Cr,label:"Views",value:((M=A._count)==null?void 0:M.views)||0,color:"text-blue-400"}),r.jsx(O,{icon:$t,label:"Likes",value:((B=A._count)==null?void 0:B.likes)||0,color:"text-red-400"}),r.jsx(O,{icon:mn,label:"Reviews",value:((P=A._count)==null?void 0:P.review)||0,color:"text-green-400"}),r.jsx(O,{icon:ym,label:"Library",value:((U=A._count)==null?void 0:U.library)||0,color:"text-purple-400"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t(`/dashboard/collections/collection/${A.id}`),className:"flex-1 btn text-xs sm:text-sm py-2 flex items-center justify-center gap-1.5 sm:gap-2","aria-label":`View media for ${A.name}`,children:[r.jsx(ws,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden xs:inline",children:"View Media"}),r.jsx("span",{className:"xs:hidden",children:"Media"})]}),r.jsx("button",{onClick:()=>t(`/dashboard/update collection/${A.id}`),className:"px-3 sm:px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-all duration-300","aria-label":`Edit ${A.name}`,children:r.jsx(Ld,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"})}),r.jsx("button",{disabled:f===A.id,onClick:()=>L(A.id,A.isPublished),className:"px-3 sm:px-4 py-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-all duration-300 disabled:opacity-50","aria-label":A.isPublished?"Unpublish collection":"Publish collection",title:A.isPublished?"Unpublish":"Publish",children:f===A.id?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-theme border-t-transparent rounded-full animate-spin"}):A.isPublished?r.jsx(Md,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"}):r.jsx(Cr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-theme"})}),r.jsx("button",{disabled:u===A.id,onClick:()=>{S("Delete Collection",`Are you sure you want to delete "${A.name}"? This action cannot be undone.`,()=>E(A.id))},className:"px-3 sm:px-4 py-2 bg-destructive/20 hover:bg-destructive/30 rounded-lg transition-all duration-300 disabled:opacity-50","aria-label":`Delete ${A.name}`,children:u===A.id?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}):r.jsx(Mr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-destructive"})})]})]})]})},A.id)})}):r.jsxs("div",{className:"card text-center py-12 sm:py-20",children:[r.jsx(ws,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-secondary opacity-50"}),r.jsx("p",{className:"text-base sm:text-lg text-secondary mb-2",children:"No collections found"}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary mb-6",children:"Create your first collection to get started"}),r.jsxs(Oe,{onClick:()=>t("/dashboard/create collection"),className:"btn",children:[r.jsx(bo,{className:"w-4 h-4 mr-2"}),"Create Your First Collection"]})]})})}),g&&r.jsx("div",{className:"card bg-destructive/10 border-destructive/30 mt-4 sm:mt-6",children:r.jsx("p",{className:"text-destructive text-center text-sm sm:text-base",children:g})})]})})]})}function wK(){const{id:t}=ln(),{user:e}=Nt(),{collections:n,setCollections:s}=F0(),l=n.find(O=>O.id==t),[i,u]=p.useState({name:"",file:null,description:"",primarygenre:"",primarysubgenre:[],secondarygenre:"",secondarysubgenre:[],audience:"",age:"",status:"ongoing",warnings:[]}),[d,f]=p.useState(""),m=Je(),[g,x]=p.useState(!1),[b,y]=p.useState(!0),{toast:N,showToast:j,closeToast:S}=Mn();p.useEffect(()=>{l&&(u({name:l.name||"",file:l.img||null,description:l.description||"",primarygenre:l.primarygenre||"",primarysubgenre:l.primarysubgenre||[],secondarygenre:l.secondarygenre||"",secondarysubgenre:l.secondarysubgenre||[],audience:l.audience||"",age:l.age||"",status:l.status||"ongoing",warnings:l.warnings||[]}),y(!1))},[l]);const C=O=>{if(!O||!O.target)return;const{name:A,value:M,type:B,checked:P}=O.target;u(U=>B==="checkbox"?{...U,[A]:P}:{...U,[A]:M})},T=O=>{u(A=>({...A,file:O}))};async function k(O){O.preventDefault(),f(""),x(!0);const A=new FormData;A.append("name",i.name),A.append("description",i.description),A.append("status",i.status),A.append("file",i.file),A.append("primarygenre",i.primarygenre),A.append("primarysubgenre",JSON.stringify(i.primarysubgenre)),A.append("secondarygenre",i.secondarygenre),A.append("secondarysubgenre",JSON.stringify(i.secondarysubgenre)),A.append("audience",i.audience),A.append("age",i.age),A.append("warnings",JSON.stringify(i.warnings));try{const M=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${t}/update`,{method:"POST",body:A,credentials:"include"}),B=await M.json();if(M.status===500){m("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok&&M.status!==500){f(B.message);return}j("Collection updated successfully!","success"),s(P=>[...P.filter(U=>Number(U.id)!==Number(l.id)),B.collection]),setTimeout(()=>{m(`/dashboard/visual stories/${e.id}`)},1500)}catch{m("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{x(!1)}}const _=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"general",label:"General"}],E=[{value:"kids",label:"Kids"},{value:"teen",label:"Teen"},{value:"young adult",label:"Young Adult"},{value:"adult",label:"Adult"}],L=[{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"}];return b?r.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-3 sm:px-4",children:[r.jsx(Hn,{message:N.message,type:N.type,isOpen:N.isOpen,onClose:S}),r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 sm:gap-4 p-6 sm:p-8",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-base sm:text-lg font-medium text-center",children:"Loading collection details..."})]})]}):l?r.jsxs(Gd,{title:"Update Collection",description:"Edit your collection details",icon:AM,children:[r.jsx(Hn,{message:N.message,type:N.type,isOpen:N.isOpen,onClose:S}),r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsx(Yd,{label:"Collection Name",name:"name",value:i.name,onChange:C,placeholder:"Enter collection name...",required:!0}),r.jsx(Vd,{label:"Collection Cover",onImageCropped:T,required:!1}),l.img&&!i.file&&r.jsx("div",{className:"text-xs sm:text-sm text-secondary",children:"Current image will be kept if no new image is uploaded"}),r.jsx(op,{label:"Description",name:"description",value:i.description,onChange:C,placeholder:"Describe your collection...",required:!0}),r.jsx(_S,{genre:"primarygenre",subgenre:"primarysubgenre",form:i,setForm:u,handleChange:C,label:"Primary",required:!0}),r.jsx(_S,{genre:"secondarygenre",subgenre:"secondarysubgenre",form:i,setForm:u,handleChange:C,label:"Secondary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(lr,{label:"Target Audience",name:"audience",value:i.audience,onChange:C,options:_,placeholder:"Choose audience",required:!0}),r.jsx(lr,{label:"Age Group",name:"age",value:i.age,onChange:C,options:E,placeholder:"Choose age group",required:!0})]}),r.jsx(lr,{label:"Collection Status",name:"status",value:i.status,onChange:C,options:L,placeholder:"Choose status",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:"warnings",className:"text-sm sm:text-base font-semibold",children:"Content Warnings"}),r.jsx(ko,{isMulti:!0,name:"warnings",options:tp.map(O=>({value:O,label:O})),value:i.warnings.map(O=>({value:O,label:O})),onChange:O=>{O.length>4||u(A=>({...A,warnings:O.map(M=>M.value)}))},placeholder:"Select warnings (max 4)",className:"basic-multi-select",classNamePrefix:"select",styles:To})]}),d&&r.jsx("div",{className:"p-3 sm:p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 animate-fadeIn",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs sm:text-sm font-medium",children:d})}),r.jsx(Oe,{type:"submit",disabled:g,className:"w-full btn text-sm sm:text-base py-5 sm:py-6 font-semibold",children:g?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):"Update Collection"})]})]}):r.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-3 sm:px-4",children:[r.jsx(Hn,{message:N.message,type:N.type,isOpen:N.isOpen,onClose:S}),r.jsx("div",{className:"p-4 sm:p-6 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium text-sm sm:text-base",children:"Collection not found"})})]})}function _S({genre:t,subgenre:e,form:n,setForm:s,handleChange:l,label:i,required:u}){const d=Object.keys(bs).map(f=>({value:f,label:f.replace(/([A-Z])/g," $1").trim()}));return r.jsxs("div",{className:"genre-select-wrapper space-y-3 sm:space-y-4 p-3 sm:p-5 rounded-xl border transition-all duration-300 hover:shadow-md",children:[r.jsxs("h3",{className:"font-semibold text-base sm:text-lg flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),i," Genre"]}),r.jsx(lr,{label:"Genre",name:t,id:t,value:n[t],onChange:l,options:d,placeholder:"Select a genre",required:u}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Pt,{htmlFor:e,className:"text-sm sm:text-base font-medium",children:"Subgenres"}),r.jsx(ko,{isMulti:!0,name:e,options:n[t]?bs[n[t]].map(f=>({value:f,label:f})):[],value:n[e].map(f=>({value:f,label:f})),onChange:f=>{f.length>4||s(m=>({...m,[e]:f.map(g=>g.value)}))},isDisabled:!n[t],placeholder:n[t]?"Select up to 4 subgenres":"Select a genre first",className:"basic-multi-select",classNamePrefix:"select",styles:To})]})]})}function NK(){var M,B,P;const{id:t}=ln(),e=Je(),[n,s]=p.useState(null),[l,i]=p.useState(""),[u,d]=p.useState(!1),[f,m]=p.useState([]),[g,x]=p.useState([]),[b,y]=p.useState(null),[N,j]=p.useState(null),{toast:S,showToast:C,closeToast:T}=Mn(),{confirm:k,showConfirm:_,closeConfirm:E}=fa();p.useEffect(()=>{n&&(m(n.images||[]),x(n.videos||[]))},[n]),p.useEffect(()=>{async function U(){i(""),d(!0);try{const I=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/collection/${t}`,{method:"GET",credentials:"include"}),z=await I.json();if(I.status===500){e("/error",{state:{message:z.message||"Process failed"}});return}else if(!I.ok&&I.status!==500){i(z.message);return}s(z.collection)}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}U()},[t]);async function L(U){y(U),j("image");try{await Ss(`https://fanhub-server.onrender.com/api/gallery/images/${U}`),m(I=>I.filter(z=>Number(z.id)!==Number(U))),C("Image deleted successfully!","success")}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{y(null),j(null)}}async function O(U){y(U),j("video");try{await Ss(`https://fanhub-server.onrender.com/api/gallery/videos/${U}`),x(I=>I.filter(z=>Number(z.id)!==Number(U))),C("Video deleted successfully!","success")}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{y(null),j(null)}}const A=U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r.jsxs("div",{className:"min-h-screen bg-theme p-4 sm:p-6",children:[r.jsx(Hn,{message:S.message,type:S.type,isOpen:S.isOpen,onClose:T}),r.jsx(da,{isOpen:k.isOpen,onClose:E,onConfirm:k.onConfirm,title:k.title,description:k.description}),r.jsxs("div",{className:"max-w-7xl mx-auto",children:[l&&r.jsx("div",{className:"card bg-destructive/10 border-destructive/30 mb-6",children:r.jsx("p",{className:"text-destructive text-center",children:l})}),u?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-secondary text-sm sm:text-base",children:"Loading collection..."})]})}):n&&r.jsxs("div",{children:[r.jsxs("div",{className:"card mb-8 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"flex-shrink-0 mx-auto lg:mx-0",children:r.jsx("div",{className:"w-40 h-40 sm:w-48 sm:h-48 rounded-2xl overflow-hidden bg-secondary",children:r.jsx("img",{src:n.img,alt:n.name,className:"w-full h-full object-cover"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text mb-2",children:n.name}),r.jsx("p",{className:"text-secondary text-sm sm:text-base",children:n.description})]}),r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium ${n.status==="PUBLISHED"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:n.status})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("span",{className:"px-3 py-1.5 bg-primary/20 text-primary rounded-lg text-xs sm:text-sm font-medium",children:n.primarygenre}),r.jsx("span",{className:"px-3 py-1.5 bg-accent/20 text-accent rounded-lg text-xs sm:text-sm font-medium",children:n.secondarygenre})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-secondary mb-2",children:"SUBGENRES"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(M=n.primarysubgenre)==null?void 0:M.map((U,I)=>r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-theme",children:U},I)),(B=n.secondarysubgenre)==null?void 0:B.map((U,I)=>r.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs text-theme",children:U},I))]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-3 py-1.5 bg-secondary rounded-lg text-xs sm:text-sm text-theme",children:n.audience}),r.jsx("span",{className:"px-3 py-1.5 bg-secondary rounded-lg text-xs sm:text-sm text-theme",children:n.age})]})]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-theme",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(Cr,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Views"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.views})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx($t,{className:"w-5 h-5 text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Likes"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.likes})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(mn,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Reviews"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:(P=n._count.review)==null?void 0:P.toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-secondary/30",children:[r.jsx(ym,{className:"w-5 h-5 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-secondary",children:"Library"}),r.jsx("p",{className:"text-lg font-bold text-theme",children:n._count.library})]})]})]})})]}),r.jsx("main",{className:"space-y-8",children:f.length===0&&g.length===0?r.jsxs("div",{className:"card text-center py-20",children:[r.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[r.jsx(SM,{className:"w-10 h-10 sm:w-12 sm:h-12 text-secondary opacity-50"}),r.jsx(pC,{className:"w-10 h-10 sm:w-12 sm:h-12 text-secondary opacity-50"})]}),r.jsx("p",{className:"text-base sm:text-lg text-secondary mb-2",children:"No media yet"}),r.jsx("p",{className:"text-xs sm:text-sm text-secondary",children:"Upload images or videos to this collection"})]}):r.jsxs(r.Fragment,{children:[f.length>0&&r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(ws,{className:"w-5 h-5 text-primary"}),r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-theme",children:["Images (",f.length,")"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(U=>{var I,z;return r.jsxs("div",{className:"card group",children:[r.jsx("div",{className:"relative w-full h-52 sm:h-64 rounded-xl overflow-hidden bg-secondary mb-4",children:r.jsx("img",{src:U.url,alt:U.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),r.jsxs("div",{className:"flex items-center justify-between mb-2 text-xs text-secondary",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"w-3.5 h-3.5 text-red-400"}),r.jsx("span",{children:((I=U._count)==null?void 0:I.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mn,{className:"w-3.5 h-3.5 text-green-400"}),r.jsx("span",{children:((z=U._count)==null?void 0:z.comments)||0})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-secondary",children:[r.jsx(Zo,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:A(U.uploadedAt)})]}),r.jsx("p",{className:"text-theme text-sm mb-3 line-clamp-2",children:U.caption||"No caption"}),r.jsx("button",{type:"button",disabled:N==="image"&&b===U.id,onClick:()=>{_("Delete Image","Are you sure you want to delete this image? This action cannot be undone.",()=>L(U.id))},className:"w-full px-4 py-2 bg-destructive/20 hover:bg-destructive/30 text-destructive rounded-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 text-sm",children:N==="image"&&b===U.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]},U.id)})})]}),g.length>0&&r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Fs,{className:"w-5 h-5 text-red-400"}),r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-theme",children:["Videos (",g.length,")"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(U=>{var I,z;return r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"relative w-full h-52 sm:h-64 rounded-xl overflow-hidden bg-secondary mb-4",children:r.jsx("video",{src:U.url,controls:!0,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex items-center justify-between mb-2 text-xs text-secondary",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"w-3.5 h-3.5 text-red-400"}),r.jsx("span",{children:((I=U._count)==null?void 0:I.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mn,{className:"w-3.5 h-3.5 text-green-400"}),r.jsx("span",{children:((z=U._count)==null?void 0:z.comments)||0})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-secondary",children:[r.jsx(Zo,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:A(U.uploadedAt)})]}),r.jsx("p",{className:"text-theme text-sm mb-3 line-clamp-2",children:U.caption||"No caption"}),r.jsx("button",{type:"button",disabled:N==="video"&&b===U.id,onClick:()=>{_("Delete Video","Are you sure you want to delete this video? This action cannot be undone.",()=>O(U.id))},className:"w-full px-4 py-2 bg-destructive/20 hover:bg-destructive/30 text-destructive rounded-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 text-sm",children:N==="video"&&b===U.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]},U.id)})})]})]})})]})]})]})}function H0({mediaType:t,onSuccess:e,isModal:n=!1}){const[s,l]=p.useState({caption:"",file:null,collectionId:""}),[i,u]=p.useState(""),d=Je(),[f,m]=p.useState(!1),{collections:g}=F0(),{toast:x,showToast:b,closeToast:y}=Mn(),N=t.charAt(0).toUpperCase()+t.slice(1),j=`https://fanhub-server.onrender.com/api/gallery/upload${N}`,S=`/dashboard/${t}s`,C=L=>{const{name:O,value:A}=L.target;l({...s,[O]:A})},T=L=>{l(O=>({...O,file:L}))};async function k(L){L.preventDefault(),u(""),m(!0);const O=new FormData;O.append("caption",s.caption),O.append("file",s.file),O.append("collectionId",s.collectionId);try{const A=await fetch(j,{method:"POST",body:O,credentials:"include"}),M=await A.json();if(A.status===500){d("/error",{state:{message:M.message||"Process failed"}});return}else if(!A.ok&&A.status!==500){u(M.message);return}n&&e?e():(b(`${N} uploaded successfully!`,"success"),setTimeout(()=>d(S),1e3)),l({caption:"",file:null,collectionId:""})}catch{d("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{m(!1)}}const _=g.map(L=>({value:String(L.id),label:L.name,icon:""})),E=r.jsxs(r.Fragment,{children:[!n&&r.jsx(Hn,{...x,onClose:y}),r.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[r.jsx(Yd,{label:"Caption",name:"caption",value:s.caption,onChange:C,placeholder:`Add a caption for your ${t}...`,required:!0}),t==="image"?r.jsx(Vd,{label:`Upload ${N}`,onImageCropped:T,required:!0}):r.jsx(iK,{label:`Upload ${N}`,onVideoSelected:T,required:!0}),r.jsx(lr,{label:"Collection (Optional)",name:"collectionId",value:s.collectionId,onChange:C,options:_,placeholder:"Select a collection"}),i&&r.jsx("div",{className:"p-3 sm:p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 animate-fadeIn",role:"alert",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-xs sm:text-sm font-medium",children:i})}),r.jsx(Oe,{type:"submit",disabled:f,className:"w-full btn text-sm sm:text-base py-4 sm:py-5 sm:py-6 font-semibold",children:f?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),r.jsx("span",{children:"Uploading..."})]}):`Upload ${N}`})]})]});return n?E:r.jsx(Gd,{title:`Upload ${N}`,description:`Share your ${t} with the world`,icon:t==="image"?Sc:Fs,children:E})}function jK(){return r.jsx(H0,{mediaType:"image"})}function Gk({mediaType:t}){const{user:e}=Nt(),n=Je(),[s,l]=p.useState(null),[i,u]=p.useState(!1),[d,f]=p.useState(""),[m,g]=p.useState(null),[x,b]=p.useState(!1),{toast:y,showToast:N,closeToast:j}=Mn(),{confirm:S,showConfirm:C,closeConfirm:T}=fa(),k=`${t}s`,_=`https://fanhub-server.onrender.com/api/gallery/${k}/${e==null?void 0:e.id}`;p.useEffect(()=>{!e||!e.id||E()},[e]);async function E(){u(!0),f("");try{const I=await fetch(_,{method:"GET",credentials:"include"}),z=await I.json();if(I.status===500){n("/error",{state:{message:z.message||"Process failed"}});return}else if(!I.ok&&I.status!==500){f(z.message);return}l(z[k])}catch{n("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{u(!1)}}async function L(I){g(I);try{const z=await Ss(`https://fanhub-server.onrender.com/api/gallery/${k}/${I}`);l(G=>G.filter($=>Number($.id)!==Number(I))),N(z||`${t} deleted successfully`,"success")}catch{N(`Failed to delete ${t}`,"error")}finally{g(null)}}const O=()=>{b(!1),E(),N(`${t} uploaded successfully!`,"success")},A=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),M=({icon:I,value:z,color:G})=>r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-secondary/50",children:[r.jsx(I,{className:`w-3.5 h-3.5 ${G}`}),r.jsx("span",{className:"text-xs font-medium text-theme",children:z})]}),B=I=>{if(t==="image")return r.jsxs("div",{className:"relative w-full h-64 rounded-xl overflow-hidden bg-secondary group-hover:shadow-xl transition-shadow duration-300",children:[r.jsx("img",{src:I.url,alt:I.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]});if(t==="video")return r.jsx("div",{className:"relative w-full h-64 rounded-xl overflow-hidden bg-secondary",children:r.jsx("video",{src:I.url,controls:!0,className:"w-full h-full object-cover"})})},P=t==="image"?ws:Fs,U=t.charAt(0).toUpperCase()+t.slice(1)+"s";return r.jsxs(r.Fragment,{children:[r.jsx(Hn,{...y,onClose:j}),r.jsx(da,{...S,onClose:T,confirmText:"Delete",cancelText:"Cancel"}),r.jsx(kc,{open:x,onOpenChange:b,children:r.jsxs(ni,{className:"bg-card-theme border-theme max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(ri,{children:r.jsxs(si,{className:"text-theme",children:["Upload ",t==="image"?"Image":"Video"]})}),r.jsx(H0,{mediaType:t,onSuccess:O,isModal:!0})]})}),r.jsx("div",{className:"min-h-screen bg-theme p-3 sm:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text mb-1 sm:mb-2",children:["My ",U]}),r.jsxs("p",{className:"text-sm sm:text-base text-secondary",children:["Manage your ",k," gallery"]})]}),r.jsxs(Oe,{onClick:()=>b(!0),className:"btn flex items-center gap-2","aria-label":`Upload ${t}`,children:[r.jsx(Cc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsxs("span",{className:"hidden sm:inline",children:["Upload ",t==="image"?"Image":"Video"]}),r.jsx("span",{className:"sm:hidden",children:"Upload"})]})]}),i?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsxs("p",{className:"text-sm sm:text-base text-secondary",children:["Loading ",k,"..."]})]})}):r.jsx("div",{children:s&&(s.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(I=>{var z,G;return I.collectionId===null&&r.jsxs("div",{className:"card group",children:[B(I),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-secondary",children:[r.jsx(Zo,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:A(I.uploadedAt)})]}),r.jsx("p",{className:"text-theme text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:I.caption||`No caption for this ${t}`}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx(M,{icon:$t,value:((z=I._count)==null?void 0:z.likes)||0,color:"text-red-400"}),r.jsx(M,{icon:mn,value:((G=I._count)==null?void 0:G.comments)||0,color:"text-blue-400"})]}),r.jsx("button",{type:"button",disabled:m===I.id,onClick:()=>{C(`Delete ${t==="image"?"Image":"Video"}`,`Are you sure you want to delete this ${t}? This action cannot be undone.`,()=>L(I.id))},className:"w-full px-4 py-2 bg-destructive/20 hover:bg-destructive/30 text-destructive rounded-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2","aria-label":`Delete ${t}`,children:m===I.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-destructive border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]})]},I.id)})}):r.jsxs("div",{className:"card text-center py-12 sm:py-20",children:[r.jsx(P,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-secondary opacity-50"}),r.jsxs("p",{className:"text-base sm:text-lg text-secondary mb-2",children:["No ",k," yet"]}),r.jsxs("p",{className:"text-xs sm:text-sm text-secondary mb-6",children:["Upload your first ",t," to get started"]}),r.jsxs(Oe,{onClick:()=>b(!0),className:"btn",children:[r.jsx(Cc,{className:"w-4 h-4 mr-2"}),"Upload ",t==="image"?"Image":"Video"]})]}))}),d&&r.jsx("div",{className:"card bg-destructive/10 border-destructive/30 mt-4 sm:mt-6",children:r.jsx("p",{className:"text-destructive text-center text-sm sm:text-base",children:d})})]})})]})}function SK(){return r.jsx(Gk,{mediaType:"image"})}function CK(){return r.jsx(H0,{mediaType:"video"})}function EK(){return r.jsx(Gk,{mediaType:"video"})}const qu="https://fanhub-server.onrender.com";function kK(){const[t,e]=p.useState([]),[n,s]=p.useState(!0),[l,i]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(null),[g,x]=p.useState(null),[b,y]=p.useState({title:"",description:"",coverImage:null}),[N,j]=p.useState(null),[S,C]=p.useState(!1),T=Je(),{user:k}=Nt(),{toast:_,showToast:E,closeToast:L}=Mn(),{confirm:O,showConfirm:A,closeConfirm:M}=fa(),{warning:B,showWarning:P,closeWarning:U}=h0();p.useEffect(()=>{I()},[]);const I=async()=>{try{const V=await fetch(`${qu}/api/recommendations/${k.id}/my-lists`,{credentials:"include"}),q=await V.json();V.ok&&e(q.recommendations)}catch(V){console.error("Error fetching recommendations:",V)}finally{s(!1)}},z=V=>{const q=V.target.files[0];if(q){y({...b,coverImage:q});const K=new FileReader;K.onloadend=()=>j(K.result),K.readAsDataURL(q)}},G=async V=>{if(V.preventDefault(),!b.title.trim())return;C(!0);const q=new FormData;q.append("title",b.title),q.append("description",b.description),b.coverImage&&q.append("file",b.coverImage);try{(await fetch(`${qu}/api/recommendations/create`,{method:"POST",body:q,credentials:"include"})).ok?(E("Recommendation list created successfully!","success"),i(!1),y({title:"",description:"",coverImage:null}),j(null),I()):E("Failed to create recommendation list","error")}catch(K){console.error("Error creating recommendation:",K),E("An error occurred while creating the list","error")}finally{C(!1)}},$=async V=>{if(V.preventDefault(),!b.title.trim())return;C(!0);const q=new FormData;q.append("title",b.title),q.append("description",b.description),b.coverImage&&q.append("file",b.coverImage);try{(await fetch(`${qu}/api/recommendations/${f.id}`,{method:"PUT",body:q,credentials:"include"})).ok?(E("Recommendation list updated successfully!","success"),d(!1),m(null),y({title:"",description:"",coverImage:null}),j(null),I()):E("Failed to update recommendation list","error")}catch(K){console.error("Error updating recommendation:",K),E("An error occurred while updating the list","error")}finally{C(!1)}},W=V=>{m(V),y({title:V.title,description:V.description||"",coverImage:null}),j(V.coverImage||null),d(!0)},Y=async V=>{try{(await fetch(`${qu}/api/recommendations/${V}`,{method:"DELETE",credentials:"include"})).ok?(E("Recommendation list deleted successfully","success"),I()):E("Failed to delete recommendation list","error")}catch(q){console.error("Error deleting recommendation:",q),E("An error occurred while deleting the list","error")}},Z=async(V,q)=>{var te;const K=t.find(se=>se.id===V);if(!q&&(!((te=K._count)!=null&&te.stories)||K._count.stories===0)){P("Cannot Publish List","Please add at least one story to your recommendation list before publishing it. Your followers are waiting to discover great reads!");return}x(V);try{(await fetch(`${qu}/api/recommendations/${V}/publish`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPublished:!q})})).ok?(E(q?"List unpublished successfully":"List published successfully","success"),e(ue=>ue.map(xe=>xe.id===V?{...xe,isPublished:!q}:xe))):E("Failed to update publish status","error")}catch(se){console.error("Error toggling publish status:",se),E("An error occurred while updating publish status","error")}finally{x(null)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-500"})}):r.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[r.jsx(Hn,{message:_.message,type:_.type,isOpen:_.isOpen,onClose:L}),r.jsx(da,{isOpen:O.isOpen,onClose:M,onConfirm:O.onConfirm,title:O.title,description:O.description,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"}),r.jsx(f0,{isOpen:B.isOpen,onClose:U,title:B.title,description:B.description}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2.5 sm:p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex-shrink-0",children:r.jsx(po,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-theme",children:"My Recommendation Lists"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary mt-0.5 sm:mt-1",children:"Curate and share your favorite stories"})]})]}),r.jsxs(kc,{open:l,onOpenChange:i,children:[r.jsx(iE,{asChild:!0,children:r.jsxs(Oe,{className:"w-full sm:w-auto btn whitespace-nowrap",children:[r.jsx(bo,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"Create New List"})]})}),r.jsxs(ni,{className:"bg-card-theme border-theme max-w-[calc(100%-2rem)] sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(ri,{children:[r.jsx(si,{className:"text-theme text-lg sm:text-xl",children:"Create Recommendation List"}),r.jsx(Tc,{className:"text-secondary text-sm",children:"Start curating your favorite stories into a collection"})]}),r.jsxs("form",{onSubmit:G,className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"title",className:"text-theme text-sm font-medium",children:"Title *"}),r.jsx(Rn,{id:"title",value:b.title,onChange:V=>y({...b,title:V.target.value}),placeholder:"e.g., Best Fantasy Romance",maxLength:100,required:!0,className:"mt-1.5 text-sm sm:text-base"}),r.jsxs("p",{className:"text-xs text-secondary mt-1.5",children:[b.title.length,"/100"]})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"description",className:"text-theme text-sm font-medium",children:"Description"}),r.jsx(am,{id:"description",value:b.description,onChange:V=>y({...b,description:V.target.value}),placeholder:"Describe what makes this list special...",rows:4,className:"mt-1.5 text-sm sm:text-base resize-none"})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"coverImage",className:"text-theme text-sm font-medium",children:"Cover Image"}),r.jsx(Rn,{id:"coverImage",type:"file",accept:"image/*",onChange:z,className:"mt-1.5 text-sm"}),N&&r.jsx("img",{src:N,alt:"Preview",className:"mt-3 w-full h-32 sm:h-40 object-cover rounded-lg border border-theme"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4",children:[r.jsx(Oe,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1 text-sm sm:text-base",children:"Cancel"}),r.jsx(Oe,{type:"submit",disabled:S||!b.title.trim(),className:"flex-1 btn text-sm sm:text-base",children:S?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create List"})]})]})]})]}),r.jsx(kc,{open:u,onOpenChange:d,children:r.jsxs(ni,{className:"bg-card-theme border-theme max-w-[calc(100%-2rem)] sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(ri,{children:[r.jsx(si,{className:"text-theme text-lg sm:text-xl",children:"Edit Recommendation List"}),r.jsx(Tc,{className:"text-secondary text-sm",children:"Update your recommendation list details"})]}),r.jsxs("form",{onSubmit:$,className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"edit-title",className:"text-theme text-sm font-medium",children:"Title *"}),r.jsx(Rn,{id:"edit-title",value:b.title,onChange:V=>y({...b,title:V.target.value}),placeholder:"e.g., Best Fantasy Romance",maxLength:100,required:!0,className:"mt-1.5 text-sm sm:text-base"}),r.jsxs("p",{className:"text-xs text-secondary mt-1.5",children:[b.title.length,"/100"]})]}),r.jsxs("div",{children:[r.jsx(Pt,{htmlFor:"edit-description",className:"text-theme text-sm font-medium",children:"Description"}),r.jsx(am,{id:"edit-description",value:b.description,onChange:V=>y({...b,description:V.target.value}),placeholder:"Describe what makes this list special...",rows:4,className:"mt-1.5 text-sm sm:text-base resize-none"})]}),r.jsxs("div",{children:[r.jsxs(Pt,{htmlFor:"edit-coverImage",className:"text-theme text-sm font-medium",children:["Cover Image ",N&&"(Change)"]}),r.jsx(Rn,{id:"edit-coverImage",type:"file",accept:"image/*",onChange:z,className:"mt-1.5 text-sm"}),N&&r.jsx("img",{src:N,alt:"Preview",className:"mt-3 w-full h-32 sm:h-40 object-cover rounded-lg border border-theme"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4",children:[r.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{d(!1),m(null),y({title:"",description:"",coverImage:null}),j(null)},className:"flex-1 text-sm sm:text-base",children:"Cancel"}),r.jsx(Oe,{type:"submit",disabled:S||!b.title.trim(),className:"flex-1 btn text-sm sm:text-base",children:S?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update List"})]})]})]})})]}),t.length===0?r.jsx(jt,{className:"p-8 sm:p-12 text-center border-2 border-dashed",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:r.jsx(po,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-500"})}),r.jsxs("div",{className:"max-w-md",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-theme mb-2",children:"No recommendation lists yet"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary mb-6",children:"Start curating your favorite stories and share them with others"}),r.jsxs(Oe,{onClick:()=>i(!0),className:"btn",children:[r.jsx(bo,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Create Your First List"]})]})]})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(V=>{var q,K,te,se;return r.jsxs(jt,{className:"group overflow-hidden cursor-pointer p-0",onClick:()=>T(`/dashboard/recommendation/${V.id}`),children:[r.jsxs("div",{className:"relative h-40 sm:h-48 overflow-hidden bg-gradient-to-br from-blue-400 to-blue-600",children:[V.coverImage?r.jsx("img",{src:V.coverImage,alt:V.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(po,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white/80"})}),r.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3",children:r.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${V.isPublished?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:V.isPublished?"Published":"Draft"})}),r.jsx("div",{className:"absolute bottom-2 sm:bottom-3 left-2 sm:left-3",children:r.jsxs("div",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-black/60 backdrop-blur-sm rounded-full text-white text-xs sm:text-sm",children:[r.jsx(Qt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsxs("span",{children:[((q=V._count)==null?void 0:q.stories)||0," stories"]})]})})]}),r.jsxs("div",{className:"p-4 sm:p-5",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-theme mb-2 line-clamp-2 group-hover:text-blue-500 transition-colors",children:V.title}),V.description&&r.jsx("p",{className:"text-xs sm:text-sm text-secondary line-clamp-2 mb-3 sm:mb-4",children:V.description}),V.stories&&V.stories.length>0&&r.jsxs("div",{className:"flex -space-x-2 mb-3 sm:mb-4",children:[V.stories.slice(0,4).map((ue,xe)=>{var ae,ge;return r.jsx("img",{src:(ae=ue.story)==null?void 0:ae.imgUrl,alt:(ge=ue.story)==null?void 0:ge.title,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-white dark:border-gray-800 object-cover"},xe)}),((K=V._count)==null?void 0:K.stories)>4&&r.jsxs("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-white dark:border-gray-800 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-semibold text-gray-600 dark:text-gray-300",children:["+",V._count.stories-4]})]}),r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[r.jsx($t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 fill-current"}),r.jsx("span",{className:"font-medium",children:((te=V._count)==null?void 0:te.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[r.jsx(jr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"font-medium",children:((se=V._count)==null?void 0:se.comments)||0})]})]}),r.jsxs("div",{className:"flex gap-2 pt-3 sm:pt-4 border-t border-theme",children:[r.jsxs(Oe,{size:"sm",variant:"outline",onClick:ue=>{ue.stopPropagation(),W(V)},className:"flex-1 text-xs sm:text-sm","aria-label":"Edit list",children:[r.jsx(pb,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1"}),r.jsx("span",{children:"Edit"})]}),r.jsx(Oe,{size:"sm",variant:"outline",disabled:g===V.id,onClick:ue=>{ue.stopPropagation(),Z(V.id,V.isPublished)},className:"flex-1 text-xs sm:text-sm disabled:opacity-50","aria-label":V.isPublished?"Unpublish list":"Publish list",children:g===V.id?r.jsx(vt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1 animate-spin"}):V.isPublished?r.jsxs(r.Fragment,{children:[r.jsx(Md,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Unpublish"}),r.jsx("span",{className:"sm:hidden",children:"Hide"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Cr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1"}),r.jsx("span",{children:"Publish"})]})}),r.jsx(Oe,{size:"sm",variant:"outline",onClick:ue=>{ue.stopPropagation(),A("Delete Recommendation List",`Are you sure you want to delete "${V.title}"? This action cannot be undone.`,()=>Y(V.id))},className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 text-xs sm:text-sm px-3","aria-label":"Delete list",children:r.jsx(Mr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]},V.id)})})]})}const TK=jm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fu({className:t,variant:e,...n}){return r.jsx("div",{className:ht(TK({variant:e}),t),...n})}const Yk=p.createContext(),Wk=()=>{const t=p.useContext(Yk);if(!t)throw new Error("useRecommendations must be used within RecommendationProvider");return t},AK=({children:t})=>{const[e,n]=p.useState([]),[s,l]=p.useState(!1),[i,u]=p.useState(null),{user:d}=Nt(),f=async()=>{l(!0),u(null);try{const j=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${d.id}/my-lists`,{credentials:"include"}),S=await j.json();j.ok?n(S.recommendations):u(S.message||"Failed to fetch recommendations")}catch(j){u("Network error. Please try again."),console.error("Error fetching recommendations:",j)}finally{l(!1)}},N={recommendations:e,loading:s,error:i,fetchRecommendations:f,isStoryInList:(j,S)=>{const C=e.find(T=>T.id===j);return C?C.stories.some(T=>T.storyId===S):!1},addStoryToList:async(j,S)=>{try{const C=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${j}/stories`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyId:S})}),T=await C.json();return C.ok?(n(k=>k.map(_=>_.id===j?{..._,stories:[..._.stories,{storyId:S,story:T.story}],_count:{..._._count,stories:_._count.stories+1}}:_)),{success:!0,message:"Story added successfully"}):{success:!1,message:T.message||"Failed to add story"}}catch(C){return console.error("Error adding story:",C),{success:!1,message:"Network error. Please try again."}}},removeStoryFromList:async(j,S)=>{try{return(await fetch(`https://fanhub-server.onrender.com/api/recommendations/${j}/stories/${S}`,{method:"DELETE",credentials:"include"})).ok?(n(T=>T.map(k=>k.id===j?{...k,stories:k.stories.filter(_=>_.storyId!==S),_count:{...k._count,stories:k._count.stories-1}}:k)),{success:!0,message:"Story removed successfully"}):{success:!1,message:"Failed to remove story"}}catch(C){return console.error("Error removing story:",C),{success:!1,message:"Network error. Please try again."}}},getListsWithStory:j=>e.filter(S=>S.stories.some(C=>C.storyId===j)),refreshRecommendations:()=>{f()}};return r.jsx(Yk.Provider,{value:N,children:t})},RK=()=>{var k,_,E,L,O;const{id:t}=ln(),e=Je(),{user:n}=Nt(),[s,l]=p.useState(null),[i,u]=p.useState(!0),[d,f]=p.useState(null),{toast:m,showToast:g,closeToast:x}=Mn(),{confirm:b,showConfirm:y,closeConfirm:N}=fa(),{removeStoryFromList:j}=Wk();p.useEffect(()=>{async function A(){try{const M=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${t}`,{method:"GET",credentials:"include"}),B=await M.json();M.ok?l(B.recommendation):g("Failed to load recommendation list","error")}catch(M){console.error("Failed to fetch recommendation list:",M),g("Failed to load recommendation list","error")}finally{u(!1)}}A()},[t]);const S=async A=>{f(A);try{const M=await j(Number(t),A);M.success?(l(B=>({...B,stories:B.stories.filter(P=>P.story.id!==A),_count:{...B._count,stories:B._count.stories-1}})),g("Story removed successfully","success")):g(M.message||"Failed to remove story","error")}catch(M){console.error("Error removing story:",M),g("Failed to remove story","error")}finally{f(null)}},C=n&&s&&n.id===s.userId,T=A=>{const M={COMPLETED:"default",ONGOING:"secondary",HIATUS:"outline"};return r.jsx(Fu,{variant:M[A]||"outline",className:"capitalize",children:A==null?void 0:A.toLowerCase()})};return i?r.jsx("div",{className:"min-h-screen bg-theme p-4 sm:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 animate-fadeIn",children:[r.jsx("div",{className:"h-48 bg-card-theme rounded-2xl animate-pulse"}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(A=>r.jsx("div",{className:"h-96 bg-card-theme rounded-2xl animate-pulse"},A))})]})}):s?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{...m,onClose:x}),r.jsx(da,{...b,onClose:N,confirmText:"Remove",cancelText:"Cancel",variant:"destructive"}),r.jsx("div",{className:"min-h-screen bg-theme p-4 sm:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 sm:space-y-8",children:[r.jsx(jt,{className:"border-theme shadow-lg hover:shadow-xl transition-all duration-300 animate-fadeIn",children:r.jsx(Br,{className:"space-y-4 pb-6",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(or,{className:"h-10 w-10 sm:h-12 sm:w-12 border-2 border-primary",children:[r.jsx(ir,{src:(k=s.user)==null?void 0:k.img}),r.jsx(cr,{className:"bg-primary/10 text-primary font-semibold",children:(E=(_=s.user)==null?void 0:_.username)==null?void 0:E.charAt(0)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-secondary font-medium",children:"Curated by"}),r.jsxs("p",{className:"text-sm sm:text-base font-semibold text-theme flex items-center gap-2",children:[(L=s.user)==null?void 0:L.username,r.jsxs(Fu,{variant:"outline",className:"text-xs",children:[r.jsx(Qt,{className:"w-3 h-3 mr-1"}),((O=s._count)==null?void 0:O.stories)||0," Stories"]})]})]})]}),r.jsx(ti,{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text",children:s.title}),s.description&&r.jsx(Db,{className:"text-sm sm:text-base text-secondary leading-relaxed",children:s.description}),r.jsx("div",{className:"flex items-center gap-4 text-xs sm:text-sm text-secondary pt-2",children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Rd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),new Date(s.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})})]})})})}),s.stories&&s.stories.length>0?r.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.stories.map(({order:A,story:M},B)=>{var P,U,I,z;return r.jsxs(jt,{className:"border-theme shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group animate-fadeIn cursor-pointer",style:{animationDelay:`${B*100}ms`},onClick:()=>e(`/stories/${M==null?void 0:M.id}`),children:[r.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[r.jsx("img",{src:M==null?void 0:M.imgUrl,alt:M==null?void 0:M.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsxs(Fu,{className:"bg-primary text-primary-foreground font-bold shadow-lg",children:["#",A]})}),r.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Fu,{variant:"secondary",className:"text-xs",children:M==null?void 0:M.primarygenre}),(M==null?void 0:M.secondarygenre)&&r.jsx(Fu,{variant:"outline",className:"text-xs bg-white/10 backdrop-blur-sm",children:M==null?void 0:M.secondarygenre})]})})]}),r.jsxs(Br,{className:"space-y-3 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(ti,{className:"text-lg sm:text-xl font-bold text-theme line-clamp-2 group-hover:text-primary transition-colors",children:M==null?void 0:M.title}),T(M==null?void 0:M.status)]}),r.jsx(Db,{className:"text-xs sm:text-sm text-secondary line-clamp-3 leading-relaxed",children:M==null?void 0:M.summary})]}),r.jsx(Zt,{className:"pt-0 pb-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsxs(or,{className:"h-7 w-7 sm:h-8 sm:w-8 border border-border-theme flex-shrink-0",children:[r.jsx(ir,{src:(P=M==null?void 0:M.user)==null?void 0:P.img}),r.jsx(cr,{className:"text-xs bg-primary/10 text-primary",children:(I=(U=M==null?void 0:M.user)==null?void 0:U.username)==null?void 0:I.charAt(0)})]}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("p",{className:"text-[10px] sm:text-xs text-secondary",children:"By"}),r.jsx("p",{className:"text-xs sm:text-sm font-medium text-theme truncate",children:(z=M==null?void 0:M.user)==null?void 0:z.username})]})]}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsxs(Oe,{size:"sm",className:"btn text-xs sm:text-sm px-2 sm:px-3",onClick:G=>{G.stopPropagation(),e(`/stories/${M==null?void 0:M.id}`)},"aria-label":`Read ${M==null?void 0:M.title}`,children:[r.jsx(Qt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Read"})]}),C&&r.jsx(Oe,{size:"sm",variant:"outline",className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 px-2",onClick:G=>{G.stopPropagation(),y("Remove Story",`Are you sure you want to remove "${M==null?void 0:M.title}" from this list?`,()=>S(M==null?void 0:M.id))},disabled:d===(M==null?void 0:M.id),"aria-label":`Remove ${M==null?void 0:M.title} from list`,children:d===(M==null?void 0:M.id)?r.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):r.jsx(Mr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})})]},M==null?void 0:M.id)})}):r.jsx(jt,{className:"border-theme shadow-md text-center py-12",children:r.jsxs(Zt,{children:[r.jsx(ej,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-blue-500 mb-4"}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-theme mb-2",children:"No Stories Yet"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary mb-6",children:"This recommendation list is empty. Start exploring and add your favorite stories!"}),r.jsxs(Oe,{onClick:()=>e("/homestories"),className:"btn",children:[r.jsx(ej,{className:"w-4 h-4 mr-2"}),"Start Browsing Stories Now"]})]})})]})})]}):r.jsx("div",{className:"min-h-screen bg-theme p-4 sm:p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(jt,{className:"border-theme shadow-md text-center py-12",children:r.jsxs(Zt,{children:[r.jsx(Qt,{className:"w-16 h-16 mx-auto text-secondary opacity-50 mb-4"}),r.jsx("p",{className:"text-xl font-semibold text-theme mb-2",children:"Recommendation Not Found"}),r.jsx("p",{className:"text-secondary",children:"This recommendation list doesn't exist or has been removed"})]})})})})};var Kk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DS=zr.createContext&&zr.createContext(Kk),OK=["attr","size","title"];function MK(t,e){if(t==null)return{};var n=LK(t,e),s,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function LK(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fm.apply(this,arguments)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,s)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(s){_K(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _K(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=PK(t,"string");return typeof e=="symbol"?e:e+""}function PK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xk(t){return t&&t.map((e,n)=>zr.createElement(e.tag,hm({key:n},e.attr),Xk(e.child)))}function ip(t){return e=>zr.createElement($K,fm({attr:hm({},t.attr)},e),Xk(t.child))}function $K(t){var e=n=>{var{attr:s,size:l,title:i}=t,u=MK(t,OK),d=l||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),zr.createElement("svg",fm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:f,style:hm(hm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&zr.createElement("title",null,i),t.children)};return DS!==void 0?zr.createElement(DS.Consumer,null,n=>e(n)):e(Kk)}function IK(t){return ip({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function zK(t){return ip({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function UK(t){return ip({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function BK(t){return ip({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function qK(){var x,b,y,N,j,S,C,T,k,_;const{id:t}=ln(),e=Je(),[n,s]=p.useState(null),[l,i]=p.useState(""),[u,d]=p.useState(!1);if(p.useEffect(()=>{async function E(){d(!0),i("");try{const L=await fetch(`https://fanhub-server.onrender.com/api/users/${t}`,{method:"GET",credentials:"include"}),O=await L.json();if(L.status===500){e("/error",{state:{message:O.message||"Process failed"}});return}else if(L.status===401)e("/login");else if(!L.ok){console.error(O.message);return}s(O.user)}catch{i("Network error: Please check your internet connection.")}finally{d(!1)}}E()},[t,e]),u)return r.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vt,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})});if(l&&!u)return r.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:r.jsx(jt,{className:"max-w-md w-full",children:r.jsxs(Zt,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:l}),r.jsx(Oe,{onClick:()=>window.location.reload(),children:"Try Again"})]})})});if(!n)return null;const f=[{name:"Instagram",icon:UK,url:n.instagram,color:"from-purple-500 to-pink-500",bgColor:"bg-gradient-to-br from-purple-500/10 to-pink-500/10"},{name:"Facebook",icon:zK,url:n.facebook,color:"from-blue-600 to-blue-400",bgColor:"bg-gradient-to-br from-blue-600/10 to-blue-400/10"},{name:"Twitter",icon:BK,url:n.twitter,color:"from-sky-500 to-blue-500",bgColor:"bg-gradient-to-br from-sky-500/10 to-blue-500/10"},{name:"Discord",icon:IK,url:n.discord,color:"from-indigo-500 to-purple-500",bgColor:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10"}],m=[{label:"Stories",value:((x=n._count)==null?void 0:x.stories)||0,icon:Qt,color:"text-blue-500"},{label:"Collections",value:((b=n._count)==null?void 0:b.collection)||0,icon:KO,color:"text-purple-500"},{label:"Images",value:((y=n._count)==null?void 0:y.images)||0,icon:ws,color:"text-pink-500"},{label:"Videos",value:((N=n._count)==null?void 0:N.videos)||0,icon:Fs,color:"text-red-500"},{label:"Lists",value:((j=n._count)==null?void 0:j.recommendations)||0,icon:po,color:"text-green-500"}],g=[{label:"Comments",value:((S=n==null?void 0:n.social)==null?void 0:S.commentpoint)||0,icon:jr,color:"text-blue-500"},{label:"Reviews",value:((C=n==null?void 0:n.social)==null?void 0:C.reviewpoint)||0,icon:pb,color:"text-purple-500"},{label:"Likes",value:((T=n==null?void 0:n.social)==null?void 0:T.likepoint)||0,icon:$t,color:"text-red-500"},{label:"Reading",value:((k=n==null?void 0:n.social)==null?void 0:k.readingpoint)||0,icon:Qt,color:"text-green-500"},{label:"Writing",value:((_=n==null?void 0:n.social)==null?void 0:_.writingpoint)||0,icon:Ra,color:"text-yellow-500"}];return r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[r.jsx(jt,{className:"overflow-hidden border-2",children:r.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-purple-500/10 to-pink-500/10 p-6 sm:p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-primary to-purple-600 rounded-xl",children:r.jsx(Dv,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Content Portfolio"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:m.map(E=>r.jsxs("div",{className:"bg-card rounded-xl p-4 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[r.jsx(E.icon,{className:`w-8 h-8 ${E.color} mx-auto mb-2`}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:E.value}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:E.label})]},E.label))})]})}),f.some(E=>E.url&&E.url.trim()!=="")&&r.jsx(jt,{children:r.jsxs(Zt,{className:"p-6 sm:p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:r.jsx(Ra,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Connect With Me"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.filter(E=>E.url&&E.url.trim()!=="").map(E=>{const L=E.icon;return r.jsxs(Oe,{variant:"outline",className:`${E.bgColor} h-auto p-4 sm:p-5 flex items-center justify-between hover:shadow-lg hover:-translate-y-1 transition-all duration-300 border-2`,onClick:()=>window.open(E.url,"_blank"),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2.5 bg-gradient-to-br ${E.color} rounded-lg flex-shrink-0`,children:r.jsx(L,{className:"w-5 h-5 text-white"})}),r.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["Follow on ",E.name]})]}),r.jsx(hC,{className:"w-4 h-4 flex-shrink-0"})]},E.name)})})]})}),r.jsx(jt,{children:r.jsxs(Zt,{className:"p-6 sm:p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2.5 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg",children:r.jsx($t,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Contribution Points"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:g.map(E=>r.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 text-center hover:bg-muted transition-all duration-300",children:[r.jsx(E.icon,{className:`w-6 h-6 ${E.color} mx-auto mb-2`}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold mb-1",children:E.value}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:E.label})]},E.label))})]})}),r.jsx(jt,{children:r.jsxs(Zt,{className:"p-6 sm:p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2.5 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:r.jsx(ZO,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Activity Streaks"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl p-6 text-center hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"inline-flex p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:r.jsx(pb,{className:"w-6 h-6 text-white"})}),r.jsx("p",{className:"text-3xl sm:text-4xl font-bold mb-2",children:(n==null?void 0:n.writestreak)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Day Writing Streak"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl p-6 text-center hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"inline-flex p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-4",children:r.jsx(Qt,{className:"w-6 h-6 text-white"})}),r.jsx("p",{className:"text-3xl sm:text-4xl font-bold mb-2",children:(n==null?void 0:n.readstreak)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Day Reading Streak"})]})]})]})})]})}function FK(){const{id:t}=ln(),e=Je(),[n,s]=p.useState([]),[l,i]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(!1),[N,j]=p.useState({});p.useEffect(()=>{async function k(){d(""),i(!0);try{const _=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/published`,{method:"GET",credentials:"include"}),E=await _.json();if(_.status===500){e("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok){d(E.message);return}s(E.stories);const L={};E.stories.forEach(O=>{var A;L[O.id]=((A=O==null?void 0:O.library)==null?void 0:A.length)>0}),j(O=>({...O,...L}))}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}k()},[t,e]);function S(k){if(k.preventDefault(),n.length){const _=n.filter(E=>E.title.toLowerCase().includes(f.toLowerCase()));x(_)}}function C(){m(""),x([])}p.useEffect(()=>{f.trim()===""&&x([])},[f]);async function T(k){d(""),y(k);try{const _=await fetch(`https://fanhub-server.onrender.com/api/stories/${k}/readinglist`,{method:"POST",credentials:"include"}),E=await _.json();if(_.status===500){e("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok){d(E.message);return}j(L=>({...L,[k]:!L[k]}))}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{y(!1)}}return l?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",role:"status","aria-live":"polite",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading stories..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("form",{onSubmit:S,className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:f,onChange:k=>m(k.target.value),placeholder:"Search stories by title...",className:"pl-10 pr-10","aria-label":"Search stories"}),r.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground pointer-events-none"}),f&&r.jsx("button",{type:"button",onClick:C,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]}),u&&r.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",role:"alert",children:r.jsx("p",{className:"text-destructive font-medium",children:u})}),r.jsx(HK,{stories:g.length>0?g:n,addToLibrary:T,libraryLoading:b,libraryStatus:N})]})}function HK({stories:t,addToLibrary:e,libraryLoading:n,libraryStatus:s}){const l=Je();return t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"No stories found"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>{const u=s[i.id]||!1;return r.jsxs(jt,{className:"overflow-hidden hover:shadow-xl transition-all group",onClick:()=>l(`/stories/${i.id}`),children:[r.jsxs("div",{className:"relative cursor-pointer",role:"button",tabIndex:0,"aria-label":`View story: ${i.title}`,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),l(`/stories/${i.id}`))},children:[r.jsx("img",{src:i.imgUrl,alt:i.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs(Zt,{className:"p-4 space-y-3",children:[r.jsx("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors",children:i.title}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:i.summary}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded",children:i.primarygenre}),i.secondarygenre&&r.jsx("span",{className:"px-2 py-1 bg-accent/10 text-primary rounded",children:i.secondarygenre}),r.jsx("span",{className:"px-2 py-1 bg-secondary text-secondary-foreground rounded",children:i.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[r.jsx(Cr,{className:"w-4 h-4"})," ",i._count.views]}),r.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[r.jsx($t,{className:"w-4 h-4"})," ",i._count.likes]}),r.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[r.jsx(Qt,{className:"w-4 h-4"})," ",i._count.chapters]}),r.jsxs("span",{className:"flex items-center gap-1 text-yellow-500",children:[r.jsx(qs,{className:"w-4 h-4"})," ",i._count.reviews]})]}),r.jsx(Oe,{disabled:n===i.id,onClick:d=>{d.stopPropagation(),e(i.id)},className:"w-full btn","aria-label":u?"Remove from library":"Add to library",children:n===i.id?"Loading...":u?"Remove from Library":"Add to Library"})]})]},i.id)})})}function VK(){const{id:t}=ln(),e=Je(),[n,s]=p.useState([]),[l,i]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(!1),[N,j]=p.useState({});p.useEffect(()=>{async function k(){d(""),i(!0);try{const _=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${t}/published`,{method:"GET",credentials:"include"}),E=await _.json();if(_.status===500){e("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok&&_.status!==500){d(E.message);return}s(E.collections);const L={};E.collections.forEach(O=>{L[O.id]=O.library.length>0}),j(O=>({...O,...L}))}catch(_){e("/error",{state:{message:_.message}})}finally{i(!1)}}k()},[t,e]);function S(k){if(k.preventDefault(),n){const _=n.filter(E=>E.name.toLowerCase().includes(f.toLowerCase()));x(_)}}function C(){m(""),x([])}p.useEffect(()=>{f.trim()===""&&x([])},[f]);async function T(k){d(""),y(!0);try{const _=await fetch(`https://fanhub-server.onrender.com/api/gallery/collection/${k}/readinglist`,{method:"POST",credentials:"include"}),E=await _.json();if(_.status===500){e("/error",{state:{message:E.message||"Process failed"}});return}else if(!_.ok&&_.status!==500){d(E.message);return}j(L=>({...L,[k]:!L[k]}))}catch(_){e("/error",{state:{message:_.message}})}finally{y(!1)}}return l?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",role:"status",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading collections..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("form",{onSubmit:S,className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:f,onChange:k=>m(k.target.value),placeholder:"Search collections...",className:"pl-10 pr-10 text-sm sm:text-base","aria-label":"Search collections"}),r.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none w-5 h-5"}),f&&r.jsx("button",{type:"button",onClick:C,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]}),u&&r.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",role:"alert",children:r.jsx("p",{className:"text-destructive font-medium",children:u})}),r.jsx(GK,{collections:g.length>0?g:n,loading:l,addToLibrary:T,libraryLoading:b,libraryStatus:N})]})}function GK({collections:t,addToLibrary:e,libraryStatus:n,libraryLoading:s}){const l=Je();return t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"No collections found"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>r.jsxs(jt,{className:"overflow-hidden hover:shadow-xl transition-all group",onClick:()=>l(`/gallery/${i.id}`),children:[r.jsxs("div",{className:"relative cursor-pointer",role:"button",tabIndex:"0","aria-label":`View collection: ${i.name}`,children:[r.jsx("img",{src:i.img,alt:i.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs(Zt,{className:"p-4 space-y-3",children:[r.jsx("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors",children:i.name}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:i.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded",children:i.primarygenre}),i.secondarygenre&&r.jsx("span",{className:"px-2 py-1 bg-accent/10 text-primary rounded",children:i.secondarygenre}),r.jsx("span",{className:"px-2 py-1 bg-primary/10 text-secondary-foreground rounded",children:i.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Cr,{className:"w-4 h-4 text-blue-500"})," ",i._count.views]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-4 h-4 text-red-500"})," ",i._count.likes]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qs,{className:"w-4 h-4 text-yellow-500"})," ",i._count.review]})]}),r.jsx(Oe,{disabled:s,onClick:u=>{u.stopPropagation(),e(i.id)},className:"w-full",children:s?"Loading...":n[i.id]?r.jsx(r.Fragment,{children:"Remove from Library"}):r.jsx(r.Fragment,{children:"Add to Library"})})]})]},i.id))})}function YK(){var ke;const{user:t}=Nt(),{id:e}=ln(),n=Je(),[s,l]=p.useState(""),[i,u]=p.useState(!1),[d,f]=p.useState([]),[m,g]=p.useState([]),[x,b]=p.useState(""),[y,N]=p.useState([]),[j,S]=p.useState([]),[C,T]=p.useState(null),[k,_]=p.useState({}),[E,L]=p.useState(null),[O,A]=p.useState(!1),[M,B]=p.useState(1),P=6,U=p.useRef(0),I=p.useRef(0),z=p.useRef();p.useEffect(()=>{async function je(){l(""),u(!0);try{const[Ae,de]=await Promise.all([fetch(`https://fanhub-server.onrender.com/api/gallery/images/${e}`,{credentials:"include"}),fetch(`https://fanhub-server.onrender.com/api/gallery/videos/${e}`,{credentials:"include"})]),[Re,De]=await Promise.all([Ae.json(),de.json()]);if(!Ae.ok||!de.ok){l(Re.message||De.message||"Failed to load gallery");return}f(Re.images),g(De.videos)}catch{n("/error",{state:{message:"Network error: Please check your connection."}})}finally{u(!1)}}je()},[e,n]),p.useEffect(()=>{x.trim()===""&&(N([]),S([]),B(1))},[x]);const G=[...d.map(je=>({...je,type:"image"})),...m.map(je=>({...je,type:"video"}))],$=y.length?y:d,W=j.length?j:m,Y=[...$.filter(je=>je.collectionId==null).map(je=>({...je,type:"image"})),...W.filter(je=>je.collectionId===null).map(je=>({...je,type:"video"}))],Z=Y.slice(0,M*P),V=Z.length<Y.length;function q(je,Ae){L({...je,type:Ae}),A(!1),document.body.style.overflow="hidden"}function K(){L(null),A(!1),document.body.style.overflow="unset"}p.useEffect(()=>{function je(Ae){E&&(Ae.key==="Escape"&&(Ae.preventDefault(),K()),Ae.key==="ArrowRight"&&(Ae.preventDefault(),xe()),Ae.key==="ArrowLeft"&&(Ae.preventDefault(),ae()))}return document.addEventListener("keydown",je),()=>document.removeEventListener("keydown",je)},[E,G]);function te(je){U.current=je.touches[0].clientX}function se(je){I.current=je.touches[0].clientX}function ue(){if(!E)return;const je=50,Ae=U.current-I.current;Math.abs(Ae)>je&&(Ae>0?xe():ae())}function xe(){if(!E)return;const Ae=(G.findIndex(de=>de.id===E.id&&de.type===E.type)+1)%G.length;L(G[Ae]),A(!1)}function ae(){if(!E)return;const Ae=(G.findIndex(de=>de.id===E.id&&de.type===E.type)-1+G.length)%G.length;L(G[Ae]),A(!1)}function ge(je){if(je.preventDefault(),!x.trim()){N([]),S([]),B(1);return}const Ae=d.filter(Re=>Re.caption.toLowerCase().includes(x.toLowerCase())),de=m.filter(Re=>Re.caption.toLowerCase().includes(x.toLowerCase()));N(Ae),S(de),B(1)}function X(){b(""),N([]),S([]),B(1)}async function ne(je,Ae,de){var De,rt;je&&je.stopPropagation(),l("");const Re=`${Ae}-${de}`;T(Re);try{const ut=await fetch(`https://fanhub-server.onrender.com/api/gallery/${Ae}/${de}/like/love`,{method:"POST",credentials:"include"}),yt=await ut.json();if(!ut.ok){l(yt.message);return}const Ct=yt.message==="Liked!",at=Ct?1:-1,ze=mt=>mt.map(pt=>{var Vt;return pt.id===de?{...pt,_count:{...pt._count,likes:(((Vt=pt._count)==null?void 0:Vt.likes)||0)+at},likedByCurrentUser:Ct}:pt});Ae==="images"&&(f(ze),E&&E.type==="image"&&E.id===de&&L({...E,_count:{...E._count,likes:(((De=E._count)==null?void 0:De.likes)||0)+at},likedByCurrentUser:Ct})),Ae==="videos"&&(g(ze),E&&E.type==="video"&&E.id===de&&L({...E,_count:{...E._count,likes:(((rt=E._count)==null?void 0:rt.likes)||0)+at},likedByCurrentUser:Ct}))}catch{n("/error",{state:{message:"Network error. Try again later."}})}finally{T(null)}}async function ce(je,Ae,de){je.preventDefault(),l("");const Re=`${Ae}-${de}`;T(Re);try{const De=await fetch(`https://fanhub-server.onrender.com/api/gallery/${Ae}/${de}/like/love`,{method:"POST",credentials:"include"}),rt=await De.json();if(!De.ok){l(rt.message);return}const ut=rt.message==="Liked!",yt=ut?1:-1,Ct=at=>at.map(ze=>{var mt;return ze.id===de?{...ze,_count:{...ze._count,likes:(((mt=ze._count)==null?void 0:mt.likes)||0)+yt},likedByCurrentUser:ut}:ze});Ae==="images"&&f(Ct),Ae==="videos"&&g(Ct)}catch{n("/error",{state:{message:"Network error. Try again later."}})}finally{T(null)}}function oe(je,Ae){const de=`${je}-${Ae}`;if(k[de])_(De=>({...De,[de]:!De[de]}));else{const De=je==="image"?d.find(rt=>rt.id===Ae):m.find(rt=>rt.id===Ae);De&&(q(De,je),A(!0))}}const we=p.useCallback(je=>{i||(z.current&&z.current.disconnect(),z.current=new IntersectionObserver(Ae=>{Ae[0].isIntersecting&&V&&B(de=>de+1)}),je&&z.current.observe(je))},[i,V]);return i&&Z.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",role:"status",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vt,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading gallery..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("form",{onSubmit:ge,className:"relative flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:x,onChange:je=>b(je.target.value),placeholder:"Search by caption...",className:"w-full pr-10"}),x&&r.jsx("button",{type:"button",onClick:X,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]}),s&&r.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:r.jsx("p",{className:"text-destructive font-medium",children:s})}),r.jsx(WK,{media:Z,likeMedia:ce,likeLoadingId:C,toggleComments:oe,visibleComments:k,openModal:q,lastMediaRef:we}),i&&Z.length>0&&r.jsx("div",{className:"flex justify-center items-center py-6",children:r.jsx(vt,{className:"w-8 h-8 animate-spin text-primary"})}),!V&&Z.length>0&&r.jsx("p",{className:"text-center text-muted-foreground py-4",children:"You've reached the end!"}),E&&r.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:K,children:[r.jsx("button",{onClick:K,className:"fixed top-4 right-4 z-[60] bg-black/70 hover:bg-black/90 p-2.5 rounded-full transition-all","aria-label":"Close modal",children:r.jsx(On,{size:24,className:"text-white"})}),r.jsx("div",{className:"w-full h-full overflow-y-auto",onClick:je=>je.stopPropagation(),children:r.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row lg:items-start max-w-7xl mx-auto",children:[r.jsx("div",{className:"w-full lg:w-2/3 bg-black flex items-center justify-center lg:sticky lg:top-0 lg:h-screen p-4",onTouchStart:te,onTouchMove:se,onTouchEnd:ue,children:E.type==="image"?r.jsx("img",{src:E.url,alt:E.caption,className:"w-full h-[60vh] lg:h-[85vh] object-contain"}):r.jsx("video",{src:E.url,controls:!0,autoPlay:!0,className:"w-full h-[60vh] lg:h-[85vh] object-contain"})}),r.jsxs("div",{className:"w-full lg:w-1/3 bg-background flex flex-col lg:sticky lg:top-0 lg:h-screen lg:max-h-screen",children:[r.jsxs("div",{className:"p-4 lg:p-6 border-b bg-background flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs lg:text-sm text-muted-foreground mb-2",children:[E.type==="image"?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:16})," Image"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{size:16})," Video"]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(E.uploadedAt).toLocaleDateString()})]}),r.jsx("p",{className:"font-semibold text-base lg:text-lg",children:E.caption})]}),r.jsxs("div",{className:"p-4 lg:p-6 border-b flex flex-wrap items-center gap-2 lg:gap-3 bg-background flex-shrink-0",children:[r.jsxs(Oe,{onClick:()=>A(!O),size:"sm",className:`rounded-full px-3 py-2 flex items-center gap-2 transition-all flex-1 sm:flex-none ${O?"bg-blue-500 text-white hover:bg-blue-600 shadow-lg":"bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-200"}`,children:[r.jsx(jr,{size:18}),r.jsx("span",{className:"font-bold text-base",children:E._count.comments}),r.jsx("span",{className:"text-xs sm:text-sm",children:O?"Hide":"Comments"})]}),r.jsxs(Oe,{onClick:je=>ne(je,E.type==="image"?"images":"videos",E.id),disabled:C===`${E.type==="image"?"images":"videos"}-${E.id}`,size:"sm",className:`rounded-full px-3 py-2 flex items-center gap-2 transition-all flex-1 sm:flex-none ${E.likedByCurrentUser?"bg-red-500 text-white hover:bg-red-600 shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:[r.jsx($t,{size:18,className:`transition-all ${E.likedByCurrentUser?"fill-white animate-pulse":""}`}),r.jsx("span",{className:"font-bold text-base",children:((ke=E._count)==null?void 0:ke.likes)||0}),r.jsx("span",{className:"text-xs sm:text-sm",children:E.likedByCurrentUser?"Liked":"Like"})]})]}),r.jsx("div",{className:"lg:hidden text-center py-2 text-xs text-muted-foreground border-b bg-background/50 flex-shrink-0",children:" Swipe to navigate | Keyboard: Arrow keys "}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:O?r.jsxs("div",{className:"space-y-4 pb-4",children:[r.jsxs("h4",{className:"font-bold text-base lg:text-lg flex items-center gap-2 sticky top-0 bg-background py-2 z-10",children:[r.jsx(jr,{size:20,className:"text-blue-500"}),"Comments"]}),r.jsx(jl,{imageId:E.type==="image"?E.id:void 0,videoId:E.type==="video"?E.id:void 0,contentOwnerId:E.userId},`modal-${E.type}-${E.id}`)]}):r.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:r.jsxs("div",{children:[r.jsx(mn,{size:48,className:"mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm lg:text-base",children:"Click the comments button to view and add comments"})]})})})]})]})})]})]})}function WK({media:t,likeMedia:e,likeLoadingId:n,toggleComments:s,visibleComments:l,openModal:i,lastMediaRef:u}){return t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"No media in gallery yet"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((d,f)=>{var y;const m=d.type==="image",g=`${d.type}-${d.id}`,x=`${m?"images":"videos"}-${d.id}`,b=f===t.length-1;return r.jsxs(jt,{ref:b?u:null,className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[r.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>i(d,d.type),children:[m?r.jsx("img",{src:d.url,alt:d.caption,className:"w-full h-64 object-cover transition-transform group-hover:scale-105"}):r.jsxs(r.Fragment,{children:[r.jsx("video",{src:d.url,className:"w-full h-64 object-cover transition-transform group-hover:scale-105",muted:!0,playsInline:!0}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-all",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polygon",{points:"9.5,7.5 16.5,12 9.5,16.5",fill:"white"})})})})]}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all"}),r.jsx("div",{className:`absolute top-3 right-3 ${m?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-purple-500 to-purple-600"} text-white px-3 py-1.5 rounded-full text-xs font-semibold flex items-center gap-1.5 shadow-lg`,children:m?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:14})," Image"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{size:14})," Video"]})})]}),r.jsxs(Zt,{className:"p-4 space-y-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:new Date(d.uploadedAt).toLocaleDateString()}),r.jsx("p",{className:"font-semibold text-base line-clamp-2",children:d.caption}),r.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[r.jsxs("button",{onClick:()=>s(d.type,d.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 ${l[g]?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-transparent text-blue-600 hover:bg-blue-50"}`,children:[r.jsx(jr,{size:18,className:l[g]?"animate-pulse":""}),r.jsx("span",{className:"font-bold text-base",children:d._count.comments}),r.jsx("span",{className:"hidden sm:inline",children:"Comments"})]}),r.jsxs("button",{onClick:N=>e(N,m?"images":"videos",d.id),disabled:n===x,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 ${d.likedByCurrentUser?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg shadow-red-500/30":"bg-transparent text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:[r.jsx($t,{size:18,className:`text-red-500 transition-all ${d.likedByCurrentUser?"fill-white animate-pulse":""}`}),r.jsx("span",{className:"font-bold text-base text-red-500",children:((y=d._count)==null?void 0:y.likes)||0}),r.jsx("span",{className:"hidden sm:inline",children:"Likes"})]})]}),l[g]&&r.jsxs("section",{className:"pt-4 border-t space-y-4",children:[r.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[r.jsx(mn,{size:18,className:"text-blue-500"}),"Comments"]}),r.jsx(jl,{imageId:m?d.id:void 0,videoId:m?void 0:d.id,contentOwnerId:d.userId},g)]})]})]},`${d.type}-${d.id}`)})})}function KK({onPostCreated:t,writerId:e}){const[n,s]=p.useState({title:"",content:"",file:null,mediaType:"",writerId:e}),[l,i]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState({x:0,y:0}),[g,x]=p.useState(1),[b,y]=p.useState(null),[N,j]=p.useState(null),S=Je(),C=p.useCallback((_,E)=>{y(E)},[]),T=_=>{if(!(_!=null&&_.target))return;const{name:E,value:L,type:O,files:A}=_.target;if(O==="file"&&A[0]){const M=A[0],B=M.type.startsWith("video/")?"video":M.type.startsWith("image/")?"image":"unknown";s(P=>({...P,file:M,mediaType:B})),j(URL.createObjectURL(M));return}s(M=>({...M,[E]:L}))},k=async _=>{_.preventDefault(),i(!0),d("");const E=new FormData;E.append("title",n.title),E.append("content",n.content),E.append("writerId",n.writerId);try{if(n.file&&n.mediaType==="image"&&b){const A=await Hk(N,b);E.append("file",A,n.file.name),E.append("type","image")}else n.file&&(E.append("file",n.file),E.append("type",n.mediaType));const L=await fetch("https://fanhub-server.onrender.com/api/posts/create-post",{method:"POST",body:E,credentials:"include"}),O=await L.json();if(!L.ok){d(O.message||"Something went wrong");return}t&&t(O.post),s({title:"",content:"",file:null,mediaType:"",writerId:e}),j(null)}catch{S("/error",{state:{message:"Network error"}})}finally{i(!1)}};return r.jsxs("form",{onSubmit:k,className:"relative bg-card-theme p-4 rounded-2xl shadow space-y-3",children:[r.jsx("input",{type:"text",name:"title",value:n.title,onChange:T,placeholder:"Add a title...",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 focus:ring focus:ring-blue-400 focus:outline-none","aria-label":"Post title"}),r.jsxs("div",{className:"relative",children:[r.jsx(am,{name:"content",placeholder:"Be the first to start a conversation...",value:n.content,onChange:T,required:!0,"aria-label":"Post content",rows:4}),r.jsx("label",{htmlFor:"file",children:r.jsx(Sc,{className:"absolute right-3 bottom-3 w-6 h-6 text-gray-400 cursor-pointer hover:text-gray-600",title:"Upload media"})}),r.jsx("input",{id:"file",type:"file",name:"file",accept:"image/*,video/*",onChange:T,className:"hidden"})]}),N&&n.mediaType==="image"&&r.jsx("div",{className:"relative w-full h-64 bg-gray-200 rounded-lg overflow-hidden",children:r.jsx(Fk,{image:N,crop:f,zoom:g,aspect:16/9,onCropChange:m,onZoomChange:x,onCropComplete:C})}),r.jsxs(Oe,{type:"submit",disabled:l,className:"flex items-center justify-center gap-2 w-full",children:[l&&r.jsx(vt,{className:"animate-spin w-4 h-4"}),l?"Posting...":"Post"]}),u&&r.jsx("p",{className:"text-red-500 text-sm",children:u})]})}function XK(){var Ae;const{id:t}=ln(),e=Je(),[n,s]=p.useState(""),[l,i]=p.useState(!1),[u,d]=p.useState([]),{user:f}=Nt(),[m,g]=p.useState(""),[x,b]=p.useState([]),[y,N]=p.useState(null),[j,S]=p.useState(!1),[C,T]=p.useState({}),[k,_]=p.useState(null),[E,L]=p.useState(null),[O,A]=p.useState(!1),[M,B]=p.useState(1),[P,U]=p.useState(!0),I=5,z=p.useRef(),[G,$]=p.useState(()=>{const de=localStorage.getItem("theme");return de?de==="dark":!1});p.useEffect(()=>{document.documentElement.classList.toggle("dark",G),localStorage.setItem("theme",G?"dark":"light")},[G]),p.useEffect(()=>{async function de(){s(""),i(!0);try{const Re=await fetch(`https://fanhub-server.onrender.com/api/posts/${t}`,{method:"GET",credentials:"include"}),De=await Re.json();if(Re.status===500){e("/error",{state:{message:De.message||"Process failed"}});return}else if(!Re.ok){s(De.message);return}d(De.posts),De.posts.length<=I&&U(!1)}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{i(!1)}}de()},[t,j]);function W(de){if(de.preventDefault(),u){const Re=u.filter(De=>De.title.toLowerCase().includes(m.toLowerCase())||De.content.toLowerCase().includes(m.toLowerCase()));b(Re),B(1)}}p.useEffect(()=>{m.trim()===""&&(b([]),B(1))},[m]);function Y(){S(de=>!de)}function Z(de){L(de),A(!1),document.body.style.overflow="hidden"}function V(){L(null),A(!1),document.body.style.overflow="unset"}p.useEffect(()=>{function de(Re){E&&(Re.key==="Escape"&&(Re.preventDefault(),V()),Re.key==="ArrowRight"&&(Re.preventDefault(),se()),Re.key==="ArrowLeft"&&(Re.preventDefault(),ue()))}return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[E,u]);function q(de){touchStartX.current=de.touches[0].clientX}function K(de){touchEndX.current=de.touches[0].clientX}function te(){if(!E)return;const de=50,Re=touchStartX.current-touchEndX.current;Math.abs(Re)>de&&(Re>0?se():ue())}function se(){if(!E)return;const de=x.length>0?x:u,De=(de.findIndex(rt=>rt.id===E.id)+1)%de.length;L(de[De]),A(!1)}function ue(){if(!E)return;const de=x.length>0?x:u,De=(de.findIndex(rt=>rt.id===E.id)-1+de.length)%de.length;L(de[De]),A(!1)}async function xe(de,Re){var De;de&&de.stopPropagation(),s(""),N(Re);try{const rt=await fetch(`https://fanhub-server.onrender.com/api/posts/${Re}/like/love`,{method:"POST",credentials:"include"}),ut=await rt.json();if(rt.status===500){e("/error",{state:{message:ut.message||"Process failed"}});return}else if(!rt.ok){s(ut.message||"Something went wrong");return}const yt=ut.message==="Liked!",Ct=yt?1:-1;d(at=>at.map(ze=>{var mt;return ze.id!==Re?ze:{...ze,_count:{...ze._count,likes:(((mt=ze._count)==null?void 0:mt.likes)||0)+Ct},likedByCurrentUser:yt}})),E&&E.id===Re&&L({...E,_count:{...E._count,likes:(((De=E._count)==null?void 0:De.likes)||0)+Ct},likedByCurrentUser:yt})}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{N(null)}}async function ae(de,Re){de.preventDefault(),s(""),N(Re);try{const De=await fetch(`https://fanhub-server.onrender.com/api/posts/${Re}/like/love`,{method:"POST",credentials:"include"}),rt=await De.json();if(De.status===500){e("/error",{state:{message:rt.message||"Process failed"}});return}else if(!De.ok){s(rt.message||"Something went wrong");return}const ut=rt.message==="Liked!",yt=ut?1:-1;d(Ct=>Ct.map(at=>{var ze;return at.id!==Re?at:{...at,_count:{...at._count,likes:(((ze=at._count)==null?void 0:ze.likes)||0)+yt},likedByCurrentUser:ut}}))}catch{e("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{N(null)}}const{confirm:ge,showConfirm:X,closeConfirm:ne}=fa();async function ce(de){X("Confirm Deletion","Are you sure you want to delete this post? This action cannot be undone.",async()=>{_(de);try{await Ss(`https://fanhub-server.onrender.com/api/posts/${de}`),d(Re=>Re.filter(De=>De.id!==de)),E&&E.id===de&&V()}catch(Re){e("/error",{state:{message:Re.message}})}finally{_(null)}})}const oe=x.length>0?x:u,we=oe.slice(0,M*I),ke=we.length<oe.length,je=p.useCallback(de=>{l||(z.current&&z.current.disconnect(),z.current=new IntersectionObserver(Re=>{Re[0].isIntersecting&&ke&&B(De=>De+1)}),de&&z.current.observe(de))},[l,ke]);return r.jsxs("div",{className:"min-h-screen bg-background-color transition-colors duration-500",children:[r.jsx(Jt,{user:f,darkMode:G,setDarkMode:$}),r.jsxs("main",{className:"pt-20 max-w-3xl mx-auto p-4 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"My Posts"}),r.jsxs("form",{onSubmit:W,className:"relative flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:m,onChange:de=>g(de.target.value),placeholder:"Search posts by title or content...",className:"w-full pr-10 bg-card-theme border-theme","aria-label":"Search posts"}),m&&r.jsx("button",{type:"button",onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]})]}),r.jsx(KK,{onPostCreated:Y,writerId:t}),l&&we.length===0?r.jsx("div",{className:"flex justify-center items-center py-10",role:"status","aria-live":"polite",children:r.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"space-y-6",children:we.map((de,Re)=>{var ut,yt,Ct,at,ze;const De=Re===we.length-1,rt=(f==null?void 0:f.id)===de.userId;return r.jsxs(jt,{ref:De?je:null,className:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-theme bg-card-theme",role:"article","aria-label":`Post by ${de.user.username}: ${de.title}`,children:[r.jsxs(Br,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(or,{className:"w-10 h-10",children:[r.jsx(ir,{src:(ut=de.user)==null?void 0:ut.img,alt:`${(yt=de.user)==null?void 0:yt.username}'s avatar`}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold",style:{backgroundColor:"#2563eb"},children:de.user.username.charAt(0).toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-base text-theme",children:de.user.username}),r.jsx("p",{className:"text-xs text-secondary",children:r.jsx("time",{dateTime:de.uploadedAt,children:new Date(de.uploadedAt).toLocaleDateString()})})]})]}),rt&&r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-secondary hover:text-theme","aria-label":"Post options",children:r.jsx(Od,{size:18})})}),r.jsx(_a,{align:"end",className:"w-48 themed-select-content",children:r.jsxs(Ur,{onClick:()=>ce(de.id),disabled:k===de.id,className:"text-destructive",children:[r.jsx(Mr,{size:16,className:"mr-2"}),k===de.id?"Deleting...":"Delete Post"]})})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-theme leading-tight mt-4",children:de.title})]}),r.jsxs(Zt,{className:"space-y-4",children:[r.jsx("p",{className:"text-theme",children:de.content}),de.media&&r.jsx("div",{className:"relative rounded-xl overflow-hidden border-2 border-theme shadow-lg bg-black/5",children:de.type==="video"?r.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>Z(de),children:[r.jsx("video",{src:de.media,poster:de.thumbnail,className:"w-full max-h-96 object-cover",preload:"metadata","aria-label":`Video: ${de.title}`}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-all",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:r.jsx(Mv,{className:"w-12 h-12 text-white"})})})]}):r.jsx("img",{src:de.media,alt:de.title,className:"w-full max-h-96 object-cover cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>Z(de),loading:"lazy"})})]}),r.jsx(rE,{className:"flex flex-col gap-4 pt-4",children:r.jsxs("div",{className:"flex items-center gap-4 w-full",children:[r.jsxs("button",{onClick:()=>Z(de),className:"action-btn comment","data-tooltip":"View Comments","aria-label":`View ${((Ct=de._count)==null?void 0:Ct.comments)||0} comments`,children:[r.jsx(jr,{size:18,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:((at=de._count)==null?void 0:at.comments)||0})]}),r.jsxs("button",{onClick:mt=>ae(mt,de.id),disabled:y===de.id,className:`action-btn like ${de.likedByCurrentUser?"liked":""} ${y===de.id?"loading":""}`,"data-tooltip":de.likedByCurrentUser?"Unlike":"Like","aria-label":de.likedByCurrentUser?"Unlike":"Like","aria-pressed":de.likedByCurrentUser,children:[r.jsx($t,{size:18,className:"icon-animate",fill:de.likedByCurrentUser?"currentColor":"none"}),r.jsx("span",{className:"count-number",children:((ze=de._count)==null?void 0:ze.likes)||0})]})]})})]},de.id)})}),l&&we.length>0&&r.jsx("div",{className:"flex justify-center items-center py-6",children:r.jsx(vt,{className:"w-6 h-6 animate-spin text-blue-600"})}),!ke&&we.length>0&&r.jsx("p",{className:"text-center text-gray-500 py-4",children:"You've reached the end!"}),n&&r.jsx("p",{className:"text-red-500 text-center",children:n})]}),E&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onTouchStart:q,onTouchMove:K,onTouchEnd:te,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-theme border-b border-theme",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(or,{className:"w-10 h-10",children:[r.jsx(ir,{src:E.user.img,alt:`${E.user.username}'s avatar`}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold",style:{backgroundColor:"#2563eb"},children:E.user.username.charAt(0).toUpperCase()})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-theme font-semibold text-base",children:E.user.username}),r.jsx("span",{className:"text-secondary text-xs",children:r.jsx("time",{dateTime:E.uploadedAt,children:new Date(E.uploadedAt).toLocaleDateString()})})]})]}),r.jsx("button",{onClick:V,className:"text-secondary hover:text-theme transition-colors","aria-label":"Close modal",children:r.jsx(On,{size:24})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-card-theme",children:[r.jsxs(jt,{className:"border-theme bg-card-theme mb-3",children:[r.jsx(Br,{className:"pb-3",children:r.jsx("h2",{id:"modal-title",className:"text-2xl font-bold text-theme",children:E.title})}),r.jsx(Zt,{className:"pt-0",children:r.jsx("p",{className:"text-theme",children:E.content})})]}),E.media&&E.media!==""&&r.jsx(jt,{className:"border-theme bg-card-theme mb-3 overflow-hidden",children:r.jsx(Zt,{className:"p-0",children:r.jsx("div",{className:"relative",children:E.type==="video"?r.jsxs("video",{controls:!0,className:"w-full max-h-[60vh] object-contain bg-black",preload:"metadata",poster:E.thumbnail||"",children:[r.jsx("source",{src:E.media,type:"video/mp4"}),r.jsx("source",{src:E.media,type:"video/webm"}),r.jsx("source",{src:E.media,type:"video/ogg"}),"Your browser does not support the video tag."]},E.id):r.jsx("img",{src:E.media,alt:E.title,className:"w-full max-h-[60vh] object-contain bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",loading:"eager"},E.id)})})}),O&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-theme",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 text-theme flex items-center gap-2",children:[r.jsx(mn,{size:20}),"Comments"]}),r.jsx(jl,{postId:E.id,contentOwnerId:E.userId},`modal-post-${E.id}`)]})]}),r.jsxs("div",{className:"flex justify-around items-center p-4 border-t border-theme bg-card-theme shadow-lg",children:[r.jsxs("button",{onClick:()=>A(de=>!de),className:`action-btn comment ${O?"success-flash":""}`,"data-tooltip":O?"Hide Comments":"Show Comments","aria-label":O?"Hide comments":"Show comments",children:[r.jsx(jr,{size:22,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:E._count.comments})]}),r.jsxs("button",{onClick:de=>xe(de,E.id),disabled:y===E.id,className:`action-btn like ${E.likedByCurrentUser?"liked":""} ${y===E.id?"loading":""}`,"data-tooltip":E.likedByCurrentUser?"Unlike":"Like","aria-label":E.likedByCurrentUser?"Unlike":"Like","aria-pressed":E.likedByCurrentUser,children:[r.jsx($t,{size:22,fill:E.likedByCurrentUser?"currentColor":"none",className:`icon-animate ${E.likedByCurrentUser?"animate-ping-once":""}`}),r.jsx("span",{className:"count-number",children:((Ae=E._count)==null?void 0:Ae.likes)||0})]}),(f==null?void 0:f.id)===E.userId&&r.jsx(Oe,{variant:"destructive",size:"sm",disabled:k===E.id,onClick:()=>ce(E.id),children:k===E.id?"Deleting...":"Delete"})]})]}),r.jsx(da,{isOpen:ge.isOpen,onClose:ne,onConfirm:ge.onConfirm,title:ge.title,description:ge.description})]})}function ZK({tags:t,activeTag:e="",navigateMode:n=!1,onTagClick:s}){const l=Je(),i=u=>{n?l(`/tweets?tag=${encodeURIComponent(u)}`):s&&s(u)};return!t||t.length===0?null:r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.map((u,d)=>r.jsxs("button",{onClick:f=>{f.stopPropagation(),i(u)},className:`text-sm px-3 py-1 rounded-full transition-all font-medium ${e===u?"bg-blue-500 text-white shadow-lg":"border border-blue-500 text-blue-500 hover:bg-blue-50"}`,children:["#",u]},d))})}function QK(){var ue,xe,ae,ge;const{id:t}=ln(),{user:e}=Nt(),n=Je(),[s,l]=p.useState([]),[i,u]=p.useState(""),[d,f]=p.useState([]),[m,g]=p.useState(!1),[x,b]=p.useState(1),[y,N]=p.useState(!0),[j,S]=p.useState(!1),[C,T]=p.useState(""),[k,_]=p.useState({}),[E,L]=p.useState(null),[O,A]=p.useState(null),[M,B]=p.useState({}),[P,U]=p.useState(null),[I,z]=p.useState(null),[G,$]=p.useState(!1),W=p.useRef(null),Y=p.useRef(!1);p.useEffect(()=>{if(!t||j||!y||m)return;async function X(){var ne;if(!Y.current){Y.current=!0;try{S(!0),T("");const ce=await fetch(`https://fanhub-server.onrender.com/api/tweets/${t}?page=${x}&limit=4`,{credentials:"include"}),oe=await ce.json();if(!ce.ok){T(oe.message||"Something went wrong");return}const we=oe.tweets||[];l(je=>{const Ae=new Set(je.map(de=>de.id));return[...je,...we.filter(de=>!Ae.has(de.id))]});const ke={};we.forEach(je=>{var Ae;ke[je.id]=((Ae=je.library)==null?void 0:Ae.length)>0}),B(je=>({...je,...ke})),x>=((ne=oe.pagination)==null?void 0:ne.totalPages)&&N(!1)}catch(ce){n("/error",{state:{message:ce.message}})}finally{S(!1),Y.current=!1}}}X()},[t,x,m,n]),p.useEffect(()=>{if(j||!y||m)return;const X=new IntersectionObserver(ce=>{ce[0].isIntersecting&&!j&&b(oe=>oe+1)},{threshold:.2}),ne=W.current;return ne&&X.observe(ne),()=>ne&&X.unobserve(ne)},[j,y,m]);function Z(X){z(X),$(!1),document.body.style.overflow="hidden"}function V(){z(null),$(!1),document.body.style.overflow="unset"}async function q(X){L(X);try{await Ss(`https://fanhub-server.onrender.com/api/tweets/${X}`),l(ne=>ne.filter(ce=>Number(ce.id)!==Number(X))),(I==null?void 0:I.id)===X&&V()}catch(ne){n("/error",{state:{message:ne.message}})}finally{L(null)}}async function K(X,ne,ce=!1){var oe;X==null||X.preventDefault(),U(ne);try{const we=await fetch(`https://fanhub-server.onrender.com/api/tweets/${ne}/like/love`,{method:"POST",credentials:"include"}),ke=await we.json();if(!we.ok)return;const je=ke.message==="Liked!",Ae=je?1:-1;l(de=>de.map(Re=>{var De;return Re.id===ne?{...Re,_count:{...Re._count,likes:(((De=Re._count)==null?void 0:De.likes)||0)+Ae},likedByCurrentUser:je}:Re})),ce&&(I==null?void 0:I.id)===ne&&z({...I,_count:{...I._count,likes:(((oe=I._count)==null?void 0:oe.likes)||0)+Ae},likedByCurrentUser:je})}catch(we){console.error(we)}finally{U(null)}}async function te(X,ne=!1){A(X);try{const ce=await fetch(`https://fanhub-server.onrender.com/api/tweets/${X}/library`,{method:"POST",credentials:"include"}),oe=await ce.json();if(!ce.ok)return;const we=!M[X];B(ke=>({...ke,[X]:we})),ne&&(I==null?void 0:I.id)===X&&z({...I,library:we?[{id:1}]:[]})}catch(ce){console.error(ce)}finally{A(null)}}function se(X){if(X.preventDefault(),s){const ne=s.filter(ce=>ce.title.toLowerCase().includes(i.toLowerCase())||ce.content.toLowerCase().includes(i.toLowerCase()));f(ne),g(!0)}}return p.useEffect(()=>{i.trim()===""&&(f([]),g(!1))},[i]),j&&s.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading tweets..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto px-4 sm:px-0",children:[r.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"My Tweets"}),r.jsxs("form",{onSubmit:se,className:"relative flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:i,onChange:X=>u(X.target.value),placeholder:"Search tweets by title or content...",className:"w-full pr-10 bg-card-theme border-theme","aria-label":"Search posts"}),i&&r.jsx("button",{type:"button",onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]})]}),r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(m?d:s).map(X=>{var ce,oe,we,ke,je,Ae;const ne=(e==null?void 0:e.id)===X.userId;return r.jsxs(jt,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-theme bg-card-theme",children:[r.jsxs(Br,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(or,{className:"w-10 h-10",children:[r.jsx(ir,{src:X.user.img,alt:X.user.username||"User"}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold flex items-center justify-center",style:{backgroundColor:"#2563eb"},children:((oe=(ce=X.user)==null?void 0:ce.username)==null?void 0:oe.charAt(0).toUpperCase())||"U"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-base text-theme",children:((we=X.user)==null?void 0:we.username)||"Unknown"}),r.jsx("p",{className:"text-xs text-secondary",children:r.jsx("time",{dateTime:X.uploadedAt,children:new Date(X.uploadedAt).toLocaleDateString()})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ne&&r.jsxs(Oe,{size:"sm",variant:"ghost",onClick:()=>n(`/update-tweet/${X.id}`),className:"h-8 px-3 text-blue-500 hover:text-blue-600 hover:bg-blue-500/10","aria-label":"Edit tweet",children:[r.jsx(Ld,{size:16,className:"mr-1"}),"Edit"]}),r.jsxs(pl,{children:[r.jsx(gl,{asChild:!0,children:r.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-secondary hover:text-theme hover:bg-hover-theme","aria-label":"Tweet options",children:r.jsx(Od,{size:18})})}),r.jsx(_a,{align:"end",className:"w-48 bg-card-theme border-theme text-card-text",children:ne&&r.jsxs(Ur,{onClick:()=>{window.confirm("Delete this tweet?")&&q(X.id)},disabled:E===X.id,className:"text-destructive",children:[r.jsx(Mr,{size:16,className:"mr-2"}),E===X.id?"Deleting...":"Delete Tweet"]})})]})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-theme leading-tight mt-4",children:X.title||"Untitled"})]}),r.jsxs(Zt,{className:"space-y-4",children:[r.jsx("div",{className:"ql-editor prose prose-sm sm:prose-base max-w-none",style:{padding:0,minHeight:"auto",color:"var(--foreground-color)"},dangerouslySetInnerHTML:{__html:X.content}}),X.media&&r.jsx("div",{className:"relative rounded-xl overflow-hidden border-2 border-theme shadow-lg bg-black/5",children:X.type==="video"?r.jsxs("div",{className:"relative group",children:[r.jsx("video",{src:X.media,poster:X.thumbnail||void 0,controls:!0,className:"w-full max-h-[500px] object-contain bg-black",preload:"metadata"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600/80 flex items-center justify-center",children:r.jsx(Mv,{size:32,className:"text-white ml-1"})})})]}):r.jsx("img",{src:X.media,alt:X.title||"Tweet image",className:"w-full max-h-[500px] object-contain bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",loading:"lazy"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("button",{onClick:()=>Z(X),className:"action-btn comment","data-tooltip":"View Comments","aria-label":`View ${((ke=X._count)==null?void 0:ke.comments)||0} comments`,children:[r.jsx(jr,{size:18,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:((je=X._count)==null?void 0:je.comments)||0})]}),r.jsxs("button",{onClick:de=>K(de,X.id),disabled:P===X.id,className:`action-btn like ${X.likedByCurrentUser?"liked":""} ${P===X.id?"loading":""}`,"data-tooltip":X.likedByCurrentUser?"Unlike":"Like","aria-label":X.likedByCurrentUser?"Unlike":"Like","aria-pressed":X.likedByCurrentUser,children:[r.jsx($t,{size:18,className:"icon-animate",fill:X.likedByCurrentUser?"currentColor":"none"}),r.jsx("span",{className:"count-number",children:((Ae=X._count)==null?void 0:Ae.likes)||0})]}),r.jsxs("button",{onClick:()=>te(X.id),disabled:O===X.id,className:`action-btn library ${M[X.id]?"saved":""} ${O===X.id?"loading":""}`,"data-tooltip":M[X.id]?"Saved to Library":"Save to Library","aria-label":M[X.id]?"Remove from library":"Save to library","aria-pressed":M[X.id],children:[r.jsx(wc,{size:18,className:"icon-animate",fill:M[X.id]?"currentColor":"none"}),r.jsx("span",{className:"hidden sm:inline ml-1 text-sm",children:M[X.id]?"Saved":"Save"})]})]})]})]},X.id)}),!m&&r.jsx("div",{ref:W,style:{height:"1px"}}),j&&r.jsx("p",{className:"text-center text-muted-foreground",children:"Loading more..."}),!y&&s.length>0&&r.jsx("p",{className:"text-center text-muted-foreground",children:"You've reached the end!"}),m&&d.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-10",children:"No tweets found matching your search term."})]}),I&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-theme border-b border-theme",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(or,{className:"w-10 h-10",children:[r.jsx(ir,{src:I.user.img}),r.jsx(cr,{className:"bg-blue-600 text-white font-bold flex items-center justify-center",style:{backgroundColor:"#2563eb"},children:((ue=I.user.username)==null?void 0:ue.charAt(0).toUpperCase())||"U"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-theme font-semibold text-base",children:(xe=I.user)==null?void 0:xe.username}),r.jsx("span",{className:"text-secondary text-xs",children:r.jsx("time",{dateTime:I.createdAt,children:new Date(I.createdAt).toLocaleDateString()})})]})]}),r.jsx("button",{className:"text-secondary hover:text-theme transition-colors",onClick:V,"aria-label":"Close modal",children:r.jsx(On,{size:24})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-card-theme",children:[r.jsxs(jt,{className:"border-theme bg-card-theme mb-3",children:[r.jsx(Br,{className:"pb-3",children:r.jsx("h2",{className:"text-2xl font-bold text-theme",children:I.title})}),r.jsx(Zt,{className:"pt-0",children:r.jsx("div",{className:"ql-editor max-w-none",style:{padding:0,minHeight:"auto",color:"var(--foreground-color)",marginBottom:0},dangerouslySetInnerHTML:{__html:I.content}})})]}),I.media&&I.media!==""&&r.jsx(jt,{className:"border-theme bg-card-theme mb-3 overflow-hidden",children:r.jsx(Zt,{className:"p-0",children:r.jsx("div",{className:"relative",children:I.type==="video"?r.jsxs("video",{controls:!0,className:"w-full max-h-[60vh] object-contain bg-black",preload:"metadata",poster:I.thumbnail||"",children:[r.jsx("source",{src:I.media,type:"video/mp4"}),r.jsx("source",{src:I.media,type:"video/webm"}),r.jsx("source",{src:I.media,type:"video/ogg"}),"Your browser does not support the video tag."]},I.id):r.jsx("img",{src:I.media,alt:I.title||"Tweet image",className:"w-full max-h-[60vh] object-contain bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",loading:"eager"},I.id)})})}),I.tags&&I.tags.length>0&&r.jsx(jt,{className:"border-theme bg-card-theme mb-3",children:r.jsx(Zt,{className:"pt-4",children:r.jsx(ZK,{tags:I.tags,navigateMode:!0})})}),G&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-theme",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 text-theme flex items-center gap-2",children:[r.jsx(jr,{size:20}),"Comments"]}),r.jsx(jl,{tweetId:I.id,contentOwnerId:I.userId})]})]}),r.jsxs("div",{className:"flex justify-around items-center p-4 border-t border-theme bg-card-theme shadow-lg",children:[r.jsxs("button",{onClick:()=>$(X=>!X),className:`action-btn comment ${G?"success-flash":""}`,"data-tooltip":G?"Hide Comments":"Show Comments","aria-label":G?"Hide comments":"Show comments",children:[r.jsx(jr,{size:22,className:"icon-animate"}),r.jsx("span",{className:"count-number",children:((ae=I._count)==null?void 0:ae.comments)||0})]}),r.jsxs("button",{onClick:X=>K(X,I.id,!0),disabled:P===I.id,className:`action-btn like ${I.likedByCurrentUser?"liked":""} ${P===I.id?"loading":""}`,"data-tooltip":I.likedByCurrentUser?"Unlike":"Like","aria-label":I.likedByCurrentUser?"Unlike":"Like","aria-pressed":I.likedByCurrentUser,children:[r.jsx($t,{size:22,className:"icon-animate",fill:I.likedByCurrentUser?"currentColor":"none"}),r.jsx("span",{className:"count-number",children:((ge=I._count)==null?void 0:ge.likes)||0})]}),r.jsx("button",{onClick:()=>te(I.id,!0),disabled:O===I.id,className:`action-btn library ${M[I.id]?"saved":""} ${O===I.id?"loading":""}`,"data-tooltip":M[I.id]?"Saved to Library":"Save to Library","aria-label":M[I.id]?"Remove from library":"Save to library","aria-pressed":M[I.id],children:r.jsx(wc,{size:22,className:"icon-animate",fill:M[I.id]?"currentColor":"none"})})]})]})]})}function JK(){const[t,e]=p.useState([]),[n,s]=p.useState(!0),[l,i]=p.useState(""),[u,d]=p.useState([]),{id:f}=ln(),m=Je();p.useEffect(()=>{g()},[f]);const g=async()=>{try{const N=await fetch(`https://fanhub-server.onrender.com/api/recommendations/${f}/published`,{credentials:"include"}),j=await N.json();N.ok&&e(j.recommendations)}catch(N){console.error("Error fetching recommendations:",N)}finally{s(!1)}};function x(N){if(N.preventDefault(),t.length){const j=t.filter(S=>{var C;return S.title.toLowerCase().includes(l.toLowerCase())||((C=S.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))});d(j)}}function b(){i(""),d([])}if(p.useEffect(()=>{l.trim()===""&&d([])},[l]),n)return r.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:r.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-500"})});const y=u.length>0?u:t;return r.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2.5 sm:p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex-shrink-0",children:r.jsx(po,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-theme",children:"Recommendation Lists"})]}),r.jsx("p",{className:"text-sm sm:text-base text-secondary ml-14 sm:ml-16",children:"Curated story collections"})]}),r.jsxs("form",{onSubmit:x,className:"flex items-center gap-2 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Rn,{type:"text",value:l,onChange:N=>i(N.target.value),placeholder:"Search recommendation lists...",className:"pl-10 pr-10","aria-label":"Search recommendations"}),r.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground pointer-events-none"}),l&&r.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:r.jsx(On,{size:18})})]}),r.jsx(Oe,{type:"submit",size:"icon",className:"flex-shrink-0","aria-label":"Search",children:r.jsx(qr,{size:18})})]}),y.length===0?r.jsx(jt,{className:"p-8 sm:p-12 text-center border-2 border-dashed",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:r.jsx(po,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-500"})}),r.jsxs("div",{className:"max-w-md",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-theme mb-2",children:l?"No matching recommendations":"No recommendation lists yet"}),r.jsx("p",{className:"text-sm sm:text-base text-secondary",children:l?"Try adjusting your search terms":"This user hasn't published any recommendation lists"})]})]})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:y.map(N=>{var j,S,C,T;return r.jsxs(jt,{className:"group overflow-hidden cursor-pointer p-0 hover:shadow-lg transition-shadow duration-300",onClick:()=>m(`/recommendation/${N.id}`),children:[r.jsxs("div",{className:"relative h-40 sm:h-48 overflow-hidden bg-gradient-to-br from-blue-400 to-blue-600",children:[N.coverImage?r.jsx("img",{src:N.coverImage,alt:N.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(po,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white/80"})}),r.jsx("div",{className:"absolute bottom-2 sm:bottom-3 left-2 sm:left-3",children:r.jsxs("div",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-black/60 backdrop-blur-sm rounded-full text-white text-xs sm:text-sm",children:[r.jsx(Qt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsxs("span",{children:[((j=N._count)==null?void 0:j.stories)||0," stories"]})]})})]}),r.jsxs("div",{className:"p-4 sm:p-5",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-theme mb-2 line-clamp-2 group-hover:text-blue-500 transition-colors",children:N.title}),N.description&&r.jsx("p",{className:"text-xs sm:text-sm text-secondary line-clamp-2 mb-3 sm:mb-4",children:N.description}),N.stories&&N.stories.length>0&&r.jsxs("div",{className:"flex -space-x-2 mb-3 sm:mb-4",children:[N.stories.slice(0,4).map((k,_)=>{var E,L;return r.jsx("img",{src:(E=k.story)==null?void 0:E.imgUrl,alt:(L=k.story)==null?void 0:L.title,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-white dark:border-gray-800 object-cover"},_)}),((S=N._count)==null?void 0:S.stories)>4&&r.jsxs("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-white dark:border-gray-800 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-semibold text-gray-600 dark:text-gray-300",children:["+",N._count.stories-4]})]}),r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-secondary",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-500"}),r.jsx("span",{className:"font-medium",children:((C=N._count)==null?void 0:C.likes)||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500"}),r.jsx("span",{className:"font-medium",children:((T=N._count)==null?void 0:T.comments)||0})]})]})]})]},N.id)})})]})}function eX(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var V0="ScrollArea",[Zk]=Sl(V0),[tX,Vs]=Zk(V0),Qk=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:l,scrollHideDelay:i=600,...u}=t,[d,f]=p.useState(null),[m,g]=p.useState(null),[x,b]=p.useState(null),[y,N]=p.useState(null),[j,S]=p.useState(null),[C,T]=p.useState(0),[k,_]=p.useState(0),[E,L]=p.useState(!1),[O,A]=p.useState(!1),M=Bt(e,P=>f(P)),B=Dm(l);return r.jsx(tX,{scope:n,type:s,dir:B,scrollHideDelay:i,scrollArea:d,viewport:m,onViewportChange:g,content:x,onContentChange:b,scrollbarX:y,onScrollbarXChange:N,scrollbarXEnabled:E,onScrollbarXEnabledChange:L,scrollbarY:j,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:A,onCornerWidthChange:T,onCornerHeightChange:_,children:r.jsx(xt.div,{dir:B,...u,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Qk.displayName=V0;var Jk="ScrollAreaViewport",eT=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:l,...i}=t,u=Vs(Jk,n),d=p.useRef(null),f=Bt(e,d,u.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),r.jsx(xt.div,{"data-radix-scroll-area-viewport":"",...i,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});eT.displayName=Jk;var Ha="ScrollAreaScrollbar",G0=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,l=Vs(Ha,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:u}=l,d=t.orientation==="horizontal";return p.useEffect(()=>(d?i(!0):u(!0),()=>{d?i(!1):u(!1)}),[d,i,u]),l.type==="hover"?r.jsx(nX,{...s,ref:e,forceMount:n}):l.type==="scroll"?r.jsx(rX,{...s,ref:e,forceMount:n}):l.type==="auto"?r.jsx(tT,{...s,ref:e,forceMount:n}):l.type==="always"?r.jsx(Y0,{...s,ref:e}):null});G0.displayName=Ha;var nX=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,l=Vs(Ha,t.__scopeScrollArea),[i,u]=p.useState(!1);return p.useEffect(()=>{const d=l.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),l.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),r.jsx(Hs,{present:n||i,children:r.jsx(tT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),rX=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,l=Vs(Ha,t.__scopeScrollArea),i=t.orientation==="horizontal",u=up(()=>f("SCROLL_END"),100),[d,f]=eX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,l.scrollHideDelay,f]),p.useEffect(()=>{const m=l.viewport,g=i?"scrollLeft":"scrollTop";if(m){let x=m[g];const b=()=>{const y=m[g];x!==y&&(f("SCROLL"),u()),x=y};return m.addEventListener("scroll",b),()=>m.removeEventListener("scroll",b)}},[l.viewport,i,f,u]),r.jsx(Hs,{present:n||d!=="hidden",children:r.jsx(Y0,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ye(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ye(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),tT=p.forwardRef((t,e)=>{const n=Vs(Ha,t.__scopeScrollArea),{forceMount:s,...l}=t,[i,u]=p.useState(!1),d=t.orientation==="horizontal",f=up(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?m:g)}},10);return Pc(n.viewport,f),Pc(n.content,f),r.jsx(Hs,{present:s||i,children:r.jsx(Y0,{"data-state":i?"visible":"hidden",...l,ref:e})})}),Y0=p.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,l=Vs(Ha,t.__scopeScrollArea),i=p.useRef(null),u=p.useRef(0),[d,f]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=lT(d.viewport,d.content),g={...s,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:b=>i.current=b,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:b=>u.current=b};function x(b,y){return cX(b,u.current,d,y)}return n==="horizontal"?r.jsx(sX,{...g,ref:e,onThumbPositionChange:()=>{if(l.viewport&&i.current){const b=l.viewport.scrollLeft,y=$S(b,d,l.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollLeft=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollLeft=x(b,l.dir))}}):n==="vertical"?r.jsx(aX,{...g,ref:e,onThumbPositionChange:()=>{if(l.viewport&&i.current){const b=l.viewport.scrollTop,y=$S(b,d);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:b=>{l.viewport&&(l.viewport.scrollTop=b)},onDragScroll:b=>{l.viewport&&(l.viewport.scrollTop=x(b))}}):null}),sX=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...l}=t,i=Vs(Ha,t.__scopeScrollArea),[u,d]=p.useState(),f=p.useRef(null),m=Bt(e,f,i.onScrollbarXChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),r.jsx(rT,{"data-orientation":"horizontal",...l,ref:m,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cp(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,x)=>{if(i.viewport){const b=i.viewport.scrollLeft+g.deltaX;t.onWheelScroll(b),iT(b,x)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&u&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:pm(u.paddingLeft),paddingEnd:pm(u.paddingRight)}})}})}),aX=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...l}=t,i=Vs(Ha,t.__scopeScrollArea),[u,d]=p.useState(),f=p.useRef(null),m=Bt(e,f,i.onScrollbarYChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),r.jsx(rT,{"data-orientation":"vertical",...l,ref:m,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cp(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,x)=>{if(i.viewport){const b=i.viewport.scrollTop+g.deltaY;t.onWheelScroll(b),iT(b,x)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&u&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:pm(u.paddingTop),paddingEnd:pm(u.paddingBottom)}})}})}),[lX,nT]=Zk(Ha),rT=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:l,onThumbChange:i,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:g,onResize:x,...b}=t,y=Vs(Ha,n),[N,j]=p.useState(null),S=Bt(e,M=>j(M)),C=p.useRef(null),T=p.useRef(""),k=y.viewport,_=s.content-s.viewport,E=pr(g),L=pr(f),O=up(x,10);function A(M){if(C.current){const B=M.clientX-C.current.left,P=M.clientY-C.current.top;m({x:B,y:P})}}return p.useEffect(()=>{const M=B=>{const P=B.target;(N==null?void 0:N.contains(P))&&E(B,_)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[k,N,_,E]),p.useEffect(L,[s,L]),Pc(N,O),Pc(y.content,O),r.jsx(lX,{scope:n,scrollbar:N,hasThumb:l,onThumbChange:pr(i),onThumbPointerUp:pr(u),onThumbPositionChange:L,onThumbPointerDown:pr(d),children:r.jsx(xt.div,{...b,ref:S,style:{position:"absolute",...b.style},onPointerDown:Ye(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),C.current=N.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(M))}),onPointerMove:Ye(t.onPointerMove,A),onPointerUp:Ye(t.onPointerUp,M=>{const B=M.target;B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=T.current,y.viewport&&(y.viewport.style.scrollBehavior=""),C.current=null})})})}),mm="ScrollAreaThumb",sT=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,l=nT(mm,t.__scopeScrollArea);return r.jsx(Hs,{present:n||l.hasThumb,children:r.jsx(oX,{ref:e,...s})})}),oX=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...l}=t,i=Vs(mm,n),u=nT(mm,n),{onThumbPositionChange:d}=u,f=Bt(e,x=>u.onThumbChange(x)),m=p.useRef(void 0),g=up(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const x=i.viewport;if(x){const b=()=>{if(g(),!m.current){const y=uX(x,d);m.current=y,d()}};return d(),x.addEventListener("scroll",b),()=>x.removeEventListener("scroll",b)}},[i.viewport,g,d]),r.jsx(xt.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ye(t.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),N=x.clientX-y.left,j=x.clientY-y.top;u.onThumbPointerDown({x:N,y:j})}),onPointerUp:Ye(t.onPointerUp,u.onThumbPointerUp)})});sT.displayName=mm;var W0="ScrollAreaCorner",aT=p.forwardRef((t,e)=>{const n=Vs(W0,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(iX,{...t,ref:e}):null});aT.displayName=W0;var iX=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,l=Vs(W0,n),[i,u]=p.useState(0),[d,f]=p.useState(0),m=!!(i&&d);return Pc(l.scrollbarX,()=>{var x;const g=((x=l.scrollbarX)==null?void 0:x.offsetHeight)||0;l.onCornerHeightChange(g),f(g)}),Pc(l.scrollbarY,()=>{var x;const g=((x=l.scrollbarY)==null?void 0:x.offsetWidth)||0;l.onCornerWidthChange(g),u(g)}),m?r.jsx(xt.div,{...s,ref:e,style:{width:i,height:d,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function pm(t){return t?parseInt(t,10):0}function lT(t,e){const n=t/e;return isNaN(n)?0:n}function cp(t){const e=lT(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function cX(t,e,n,s="ltr"){const l=cp(n),i=l/2,u=e||i,d=l-u,f=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,x=s==="ltr"?[0,g]:[g*-1,0];return oT([f,m],x)(t)}function $S(t,e,n="ltr"){const s=cp(e),l=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-l,u=e.content-e.viewport,d=i-s,f=n==="ltr"?[0,u]:[u*-1,0],m=sv(t,f);return oT([0,u],[0,d])(m)}function oT(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function iT(t,e){return t>0&&t<e}var uX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function l(){const i={left:t.scrollLeft,top:t.scrollTop},u=n.left!==i.left,d=n.top!==i.top;(u||d)&&e(),n=i,s=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(s)};function up(t,e){const n=pr(t),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function Pc(t,e){const n=pr(e);Qn(()=>{let s=0;if(t){const l=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return l.observe(t),()=>{window.cancelAnimationFrame(s),l.unobserve(t)}}},[t,n])}var cT=Qk,dX=eT,fX=aT;const uT=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(cT,{ref:s,className:ht("relative overflow-hidden",t),...n,children:[r.jsx(dX,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(dT,{}),r.jsx(fX,{})]}));uT.displayName=cT.displayName;const dT=p.forwardRef(({className:t,orientation:e="vertical",...n},s)=>r.jsx(G0,{ref:s,orientation:e,className:ht("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:r.jsx(sT,{className:"relative flex-1 rounded-full bg-border"})}));dT.displayName=G0.displayName;const hX=({storyId:t})=>{const[e,n]=p.useState(!1),[s,l]=p.useState(!1),{recommendations:i,loading:u,fetchRecommendations:d,addStoryToList:f,isStoryInList:m}=Wk(),{showToast:g}=Mn();p.useEffect(()=>{e&&i.length===0&&d()},[e]);const x=async b=>{l(!0);const y=await f(b,t);y.success?g("Story added to list successfully!","success"):g(y.message,"info"),l(!1)};return r.jsxs(kc,{open:e,onOpenChange:n,children:[r.jsx(iE,{asChild:!0,children:r.jsxs(Oe,{className:"w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",border:"2px solid var(--border-color)"},children:[r.jsx(rj,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Add to Rec List"})]})}),r.jsxs(ni,{className:"bg-card-theme border-theme max-w-[calc(100%-2rem)] sm:max-w-md",children:[r.jsxs(ri,{children:[r.jsx(si,{className:"text-theme text-lg sm:text-xl",children:"Add to Recommendation List"}),r.jsx(Tc,{className:"text-secondary text-sm",children:"Choose which list to add this story to"})]}),u?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-500"})}):i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rj,{className:"w-12 h-12 mx-auto text-secondary opacity-50 mb-3"}),r.jsx("p",{className:"text-theme font-medium mb-2",children:"No recommendation lists yet"}),r.jsx("p",{className:"text-secondary text-sm mb-4",children:"Create your first list to start curating stories"}),r.jsx(Oe,{onClick:()=>{n(!1),window.location.href="/dashboard/recommendations"},className:"btn",children:"Create Your First List"})]}):r.jsx(uT,{className:"max-h-[400px] pr-4",children:r.jsx("div",{className:"space-y-2",children:i.map(b=>{var N;const y=m(b.id,t);return r.jsxs("button",{onClick:()=>!y&&x(b.id),disabled:y||s,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${y?"border-green-500 bg-green-50 dark:bg-green-900/20 cursor-not-allowed":"border-theme hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-theme truncate",children:b.title}),y&&r.jsx(Av,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]}),b.description&&r.jsx("p",{className:"text-xs text-secondary line-clamp-2",children:b.description}),r.jsxs("p",{className:"text-xs text-secondary mt-1",children:[((N=b._count)==null?void 0:N.stories)||0," stories"]})]}),b.coverImage&&r.jsx("img",{src:b.coverImage,alt:b.title,className:"w-16 h-16 rounded object-cover flex-shrink-0"})]}),y&&r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2 font-medium",children:" Already in this list"})]},b.id)})})})]})]})};function mX(){const{user:t}=Nt(),{id:e}=ln(),[n,s]=p.useState(null),l=Je(),[i,u]=p.useState(""),[d,f]=p.useState(!1),[m,g]=p.useState(!1),[x,b]=p.useState([]),[y,N]=p.useState(!1),[j,S]=p.useState({}),[C,T]=p.useState(!1),[k,_]=p.useState(()=>{const A=localStorage.getItem("theme");return A?A==="dark":!1});p.useEffect(()=>{document.documentElement.classList.toggle("dark",k),localStorage.setItem("theme",k?"dark":"light")},[k]),p.useEffect(()=>{async function A(){u(""),f(!0);try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/story/${e}`,{method:"GET",credentials:"include"}),B=await M.json();if(M.status===500){l("/error",{state:{message:B.message||"Process failed"}});return}if(!M.ok&&M.status!==500){u(B.message);return}s(B.story),S(P=>{var U;return{...P,[B.story.id]:((U=B.story.library)==null?void 0:U.length)>0}})}catch(M){l("/error",{state:{message:M.message}})}finally{f(!1)}}A()},[e,l]),p.useEffect(()=>{g(!0),u("");async function A(){try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/${e}/chapters`,{method:"GET",credentials:"include"}),B=await M.json();if(M.status===500){l("/error",{state:{message:B.message||"Process failed"}});return}if(!M.ok&&M.status!==500){u(B.message);return}b(B.chapters||[])}catch(M){l("/error",{state:{message:M.message}})}finally{g(!1)}}A()},[e,l]);async function E(A){A.preventDefault(),u(""),T(!0);try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/${e}/like/love`,{method:"POST",credentials:"include"}),B=await M.json();if(M.status===500){l("/error",{state:{message:B.message||"Process failed"}});return}else if(!M.ok){u(B.message);return}s(P=>{const U=B.message==="Liked!"?1:-1,I=B.message==="Liked!";return{...P,_count:{...P._count,likes:P._count.likes+U},likedByCurrentUser:I}}),B.message==="Liked!"&&await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/social/likepoint`,{method:"POST",credentials:"include"})}catch(M){l("/error",{state:{message:M.message}})}finally{T(!1)}}async function L(A){u(""),N(!0);try{const M=await fetch(`https://fanhub-server.onrender.com/api/stories/${A}/library`,{method:"POST",credentials:"include"}),B=await M.json();if(M.status===500){l("/error",{state:{message:B.message||"Process failed"}});return}if(!M.ok&&M.status!==500){u(B.message);return}S(P=>({...P,[A]:!P[A]}))}catch(M){l("/error",{state:{message:M.message}})}finally{N(!1)}}async function O(A){try{await fetch(`https://fanhub-server.onrender.com/api/stories/${e}/chapters/${A}/view`,{method:"POST",credentials:"include"}),await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/social/readingpoint`,{method:"POST",credentials:"include"}),await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/readingStreak`,{method:"POST",credentials:"include"})}catch(M){l("/error",{state:{message:M.message}})}}return d?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:k,setDarkMode:_}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading story..."})]})})]}):n?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:k,setDarkMode:_}),r.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:[i&&r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 mb-4 mt-4",children:r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:i})})}),r.jsxs("article",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-2 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>l("/homestories"),className:"hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-colors",style:{color:"var(--accent-color)"},children:"Stories"})}),r.jsx("li",{"aria-hidden":"true",children:"/"}),r.jsx("li",{children:r.jsx("span",{className:"font-medium",style:{color:"var(--foreground-color)"},children:n.title})})]})}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("img",{src:n.imgUrl,alt:`Cover art for ${n.title}`,className:"w-full rounded-2xl shadow-2xl object-cover",style:{height:"450px",border:"3px solid var(--border-color)"}}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs(Oe,{onClick:E,disabled:C,className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 ${n.likedByCurrentUser?"ring-2":""}`,style:{backgroundColor:n.likedByCurrentUser?"#ef4444":"var(--button-bg)",color:"white"},"aria-label":n.likedByCurrentUser?"Unlike story":"Like story",children:[r.jsx($t,{className:`w-5 h-5 ${n.likedByCurrentUser?"fill-current":""}`}),r.jsxs("span",{className:"font-semibold",children:[n.likedByCurrentUser?"Liked":"Like"," ",n._count.likes]})]}),r.jsxs(Oe,{disabled:y,onClick:()=>L(n.id),className:"w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:j[n.id]?"#f59e0b":"var(--card-bg)",color:j[n.id]?"white":"var(--foreground-color)",border:`2px solid ${j[n.id]?"#f59e0b":"var(--border-color)"}`},"aria-label":j[n.id]?"Remove from library":"Add to library",children:[r.jsx(wc,{className:`w-5 h-5 ${j[n.id]?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:y?"Loading...":j[n.id]?"In Library":"Add to Library"})]}),r.jsx(hX,{storyId:n.id}),r.jsxs(Oe,{onClick:()=>l(`/stories/${n.id}/reviews`),className:"w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",border:"2px solid var(--border-color)"},"aria-label":"View all reviews",children:[r.jsx(qs,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"font-semibold",children:"View All Reviews"})]})]}),r.jsx("div",{className:"mt-6 p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx(Cr,{className:"w-4 h-4 text-blue-500"}),"Views"]}),r.jsx("span",{className:"font-bold",style:{color:"var(--foreground-color)"},children:n._count.views.toLocaleString()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx("span",{className:"text-xl",children:""}),"Reviews"]}),r.jsx("button",{onClick:()=>l(`/stories/${n.id}/reviews`),className:"font-bold hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1",style:{color:"var(--accent-color)"},children:n._count.reviews})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx(Qt,{className:"w-4 h-4 text-purple-500"}),"Chapters"]}),r.jsx("span",{className:"font-bold",style:{color:"var(--foreground-color)"},children:x.length})]})]})})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",style:{color:"var(--foreground-color)"},children:n.title}),r.jsxs("button",{onClick:()=>l(`/profile/${n.user.username}/${n.userId}/about`),className:"flex items-center gap-3 text-lg mb-6 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-all",style:{color:"var(--accent-color)"},"aria-label":`View profile of ${n.user.username}`,children:[n.user.img?r.jsx("img",{src:n.user.img,alt:`${n.user.username}'s avatar`,className:"w-10 h-10 rounded-full object-cover border-2",style:{borderColor:"var(--accent-color)"}}):r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2",style:{borderColor:"var(--accent-color)",backgroundColor:"var(--card-bg)"},children:r.jsx(hi,{className:"w-5 h-5",style:{color:"var(--accent-color)"}})}),r.jsx("span",{className:"font-medium",children:n.user.username})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.type}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.status}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.age}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.audience})]})]}),r.jsxs("section",{"aria-labelledby":"synopsis-heading",children:[r.jsx("h2",{id:"synopsis-heading",className:"text-2xl font-bold mb-4",style:{color:"var(--foreground-color)"},children:"Synopsis"}),r.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--secondary-text)"},children:n.summary})]}),r.jsxs("section",{"aria-labelledby":"genres-heading",className:"grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--secondary-text)"},children:"Primary Genre"}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--foreground-color)"},children:n.primarygenre})]}),n.secondarygenre&&r.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--secondary-text)"},children:"Secondary Genre"}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--foreground-color)"},children:n.secondarygenre})]})]}),(n.primarysubgenre.length>0||n.secondarysubgenre.length>0)&&r.jsxs("section",{"aria-labelledby":"subgenres-heading",children:[r.jsx("h2",{id:"subgenres-heading",className:"text-xl font-bold mb-3",style:{color:"var(--foreground-color)"},children:"Subgenres"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[...n.primarysubgenre,...n.secondarysubgenre].map((A,M)=>r.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs sm:text-sm font-medium",style:{backgroundColor:"var(--accent-color)",color:"white",opacity:.9},children:A},M))})]}),n.warnings.length>0&&r.jsxs("section",{"aria-labelledby":"warnings-heading",className:"p-4 rounded-xl bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-300 dark:border-yellow-800",children:[r.jsx("h2",{id:"warnings-heading",className:"text-lg font-bold mb-2 text-yellow-800 dark:text-yellow-400",children:"Content Warnings"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-500",children:n.warnings.join(", ")})]})]})]}),r.jsxs("section",{"aria-labelledby":"chapters-heading",className:"mt-12",children:[r.jsx("h2",{id:"chapters-heading",className:"text-3xl font-bold mb-6",style:{color:"var(--foreground-color)"},children:"Chapters"}),m?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{style:{color:"var(--secondary-text)"},children:"Loading chapters..."})]}):x.length===0?r.jsxs("div",{className:"text-center py-12 p-8 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--secondary-text)"}}),r.jsx("p",{className:"text-lg",style:{color:"var(--secondary-text)"},children:"No chapters available yet"})]}):r.jsx("div",{className:"space-y-3",children:x.map((A,M)=>r.jsx("button",{onClick:()=>{O(A.id),l(`/stories/${n.id}/chapters/${A.id}`)},className:"w-full p-5 rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-left group",style:{backgroundColor:"var(--card-bg)",border:"2px solid var(--border-color)"},"aria-label":`Read chapter ${M+1}: ${A.title}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold",style:{backgroundColor:"var(--accent-color)",color:"white"},children:["Ch. ",M+1]}),r.jsx("h3",{className:"text-lg font-bold group-hover:underline",style:{color:"var(--foreground-color)"},children:A.title})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Rd,{className:"w-4 h-4"}),new Date(A.uploadedAt).toLocaleDateString()]}),A.views&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Cr,{className:"w-4 h-4"}),A.views.toLocaleString()," views"]})]})]}),r.jsx(vm,{className:"w-6 h-6 opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all",style:{color:"var(--accent-color)"}})]})},A.id))})]}),r.jsx("section",{className:"mt-16 mb-8",children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-8 sm:p-12",style:{background:"linear-gradient(135deg, var(--accent-color) 0%, var(--button-bg) 100%)",border:"2px solid var(--border-color)"},children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),r.jsxs("div",{className:"relative z-10 text-center max-w-2xl mx-auto",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((A,M)=>r.jsx(qs,{className:"w-8 h-8 sm:w-10 sm:h-10 fill-yellow-300 text-yellow-300 animate-pulse",style:{animationDelay:`${M*.1}s`}},M))})}),r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Enjoyed This Story?"}),r.jsx("p",{className:"text-white/90 text-base sm:text-lg mb-6 sm:mb-8",children:"Share your experience and help other readers discover this amazing story"}),r.jsx(Oe,{onClick:()=>l(`/stories/${n.id}/review`),className:"bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-8 rounded-xl text-base sm:text-lg transition-all hover:scale-105 active:scale-95 shadow-xl",children:"Write a Review"})]})]})})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:k,setDarkMode:_}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsx("p",{style:{color:"var(--foreground-color)"},children:"Story not found"})})]})}function pX(){const[t,e]=p.useState({title:"",content:"",overallrate:"",grammarrate:"",plotrate:"",writingstylerate:""}),[n,s]=p.useState(""),l=Je(),[i,u]=p.useState(!1),{id:d,name:f}=ln(),{user:m}=Nt(),{showToast:g}=Mn(),[x,b]=p.useState({}),[y,N]=p.useState(()=>{const k=localStorage.getItem("theme");return k?k==="dark":!1});function j(k){const{name:_,value:E}=k.target;e(L=>({...L,[_]:E}))}const S=(k,_)=>{e(E=>({...E,[k]:_.toString()}))};async function C(k){if(u(!0),s(""),k.preventDefault(),!t.overallrate||t.overallrate==="0"){s("Please provide an overall rating"),u(!1);return}if(f==="stories"&&(!t.plotrate||!t.grammarrate||!t.writingstylerate)){s("Please rate all story aspects"),u(!1);return}try{const _=f==="stories"?`https://fanhub-server.onrender.com/api/stories/${d}/createreview`:`https://fanhub-server.onrender.com/api/gallery/collections/${d}/writeReview`,E=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),L=await E.json();if(E.status===500){l("/error",{state:{message:L.message||"Process failed"}});return}else if(!E.ok&&E.status!==500){s(L.message);return}const O=await fetch(`https://fanhub-server.onrender.com/api/users/${m.id}/social/reviewpoint`,{method:"POST",credentials:"include"});if(!O.ok){const A=await O.json();s(A.message||"Something is wrong. Try again!");return}g("Review created!","success"),l(f==="stories"?`/stories/${d}`:`/gallery/${d}`)}catch{l("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{u(!1)}}const T=(k,_,E)=>{const L=parseInt(t[k])||0,A=x[k]||0||L;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E,r.jsx("label",{className:"text-sm font-medium",style:{color:"var(--foreground-color)"},children:_}),L>0&&r.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--accent-color)",color:"white"},children:[L,"/5"]})]}),r.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(M=>r.jsx("button",{type:"button",onClick:()=>S(k,M),onMouseEnter:()=>b(B=>({...B,[k]:M})),onMouseLeave:()=>b(B=>({...B,[k]:0})),className:"transition-all duration-200 hover:scale-125 active:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded","aria-label":`Rate ${M} stars`,children:r.jsx(qs,{className:`w-8 h-8 sm:w-10 sm:h-10 transition-all duration-200 ${M<=A?"fill-yellow-400 text-yellow-400 drop-shadow-lg":"text-gray-300 dark:text-gray-600"}`})},M))})]})};return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:m,darkMode:y,setDarkMode:N}),r.jsx("div",{className:"h-10"}),r.jsx("div",{className:"min-h-screen py-8 px-4",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("header",{className:"text-center mb-8 space-y-3 animate-fadeIn",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4",style:{backgroundColor:"rgba(37, 99, 235, 0.1)"},children:r.jsx(Ra,{className:"w-8 h-8",style:{color:"var(--accent-color)"}})}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",style:{color:"var(--foreground-color)"},children:"Share Your Review"}),r.jsx("p",{className:"text-base sm:text-lg",style:{color:"var(--secondary-text)"},children:"Your feedback helps the creator grow and inspires other readers"})]}),n&&r.jsxs("div",{className:"mb-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-xl p-4 animate-fadeIn flex items-start gap-3",role:"alert",children:[r.jsx(Nc,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-red-700 dark:text-red-400",children:n})]}),r.jsxs("div",{className:"mb-6 rounded-2xl p-6 sm:p-8 shadow-lg animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("label",{className:"block mb-3",children:[r.jsxs("span",{className:"text-base font-semibold flex items-center gap-2",style:{color:"var(--foreground-color)"},children:[r.jsx(jc,{className:"w-5 h-5",style:{color:"var(--accent-color)"}}),"Review Title"]}),r.jsx("span",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"Give your review a catchy title"})]}),r.jsx("input",{type:"text",name:"title",value:t.title,onChange:j,required:!0,placeholder:"e.g., 'An Unforgettable Journey!' or 'Couldn't Put It Down'",className:"w-full px-4 py-3 rounded-xl text-base transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",border:"2px solid var(--border-color)"}})]}),r.jsxs("div",{className:"mb-6 rounded-2xl p-6 sm:p-8 shadow-lg animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--foreground-color)"},children:"Overall Rating"}),r.jsx("p",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"How would you rate this overall?"})]}),T("overallrate","Your Rating",r.jsx(qs,{className:"w-5 h-5",style:{color:"var(--accent-color)"}}))]}),f==="stories"&&r.jsxs("div",{className:"mb-6 rounded-2xl p-6 sm:p-8 shadow-lg space-y-6 animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--foreground-color)"},children:"Detailed Ratings"}),r.jsx("p",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"Rate specific aspects of the story"})]}),T("plotrate","Plot & Storyline",r.jsx(Qt,{className:"w-5 h-5 text-purple-500"})),r.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-color)"},children:T("writingstylerate","Writing Style",r.jsx(jc,{className:"w-5 h-5 text-blue-500"}))}),r.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-color)"},children:T("grammarrate","Grammar & Language",r.jsx(hb,{className:"w-5 h-5 text-green-500"}))})]}),r.jsxs("div",{className:"mb-6 rounded-2xl p-6 sm:p-8 shadow-lg animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("label",{className:"block mb-3",children:[r.jsxs("span",{className:"text-base font-semibold flex items-center gap-2",style:{color:"var(--foreground-color)"},children:[r.jsx(Ra,{className:"w-5 h-5",style:{color:"var(--accent-color)"}}),"Your Thoughts"]}),r.jsx("span",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"Share what you loved, what could be improved, and why others should read this"})]}),r.jsx("textarea",{name:"content",value:t.content,onChange:j,required:!0,rows:8,placeholder:"Share your honest thoughts... What did you love? What stood out? What could be better? Your feedback helps the author improve and helps other readers decide if this is for them.",className:"w-full px-4 py-3 rounded-xl text-base transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 resize-none",style:{backgroundColor:"var(--input-bg)",color:"var(--input-text)",border:"2px solid var(--border-color)",lineHeight:"1.6"}}),r.jsxs("div",{className:"mt-2 text-xs",style:{color:"var(--secondary-text)"},children:[t.content.length," characters"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 animate-fadeIn",children:[r.jsx("button",{onClick:C,disabled:i,className:"flex-1 py-4 px-6 rounded-xl font-semibold text-base transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:i?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-3 border-t-white border-gray-300 rounded-full animate-spin"}),"Publishing Review..."]}):r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Ra,{className:"w-5 h-5"}),"Publish Review"]})}),r.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure? Your review will not be saved.")&&l(f==="stories"?`/stories/${d}`:`/gallery/${d}`)},disabled:i,className:"sm:w-auto px-6 py-4 rounded-xl font-semibold text-base transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",border:"2px solid var(--border-color)"},children:"Cancel"})]}),r.jsxs("div",{className:"mt-8 rounded-2xl p-6 animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",style:{color:"var(--foreground-color)"},children:[r.jsx(Ra,{className:"w-5 h-5",style:{color:"var(--accent-color)"}}),"Tips for a Great Review"]}),r.jsxs("ul",{className:"space-y-2 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),r.jsx("span",{children:"Be specific about what you liked or didn't like"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),r.jsx("span",{children:"Mention your favorite moments or characters"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),r.jsx("span",{children:"Keep it constructive and respectful"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),r.jsx("span",{children:"Avoid major spoilers to respect other readers"})]})]})]})]})})]})}function gX(){const{user:t}=Nt(),{id:e,name:n}=ln(),s=Je(),[l,i]=p.useState(""),[u,d]=p.useState(!1),[f,m]=p.useState([]),[g,x]=p.useState(null),[b,y]=p.useState(null),{toast:N,showToast:j,closeToast:S}=Mn(),{confirm:C,showConfirm:T,closeConfirm:k}=fa(),[_,E]=p.useState(()=>{const M=localStorage.getItem("theme");return M?M==="dark":!1});p.useEffect(()=>{async function M(){d(!0),i("");try{const B=n==="stories"?`https://fanhub-server.onrender.com/api/stories/${e}/reviews`:`https://fanhub-server.onrender.com/api/gallery/collections/${e}/reviews`,P=await fetch(B,{method:"GET",credentials:"include"}),U=await P.json();if(P.status===500){s("/error",{state:{message:U.message||"Process failed"}});return}else if(!P.ok&&P.status!==500){i(U.message);return}m(U.reviews||[])}catch{s("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{d(!1)}}M()},[e,n,s]);async function L(M,B){M.preventDefault(),i(""),x(B);try{const P=n==="stories"?`https://fanhub-server.onrender.com/api/${n}/${e}/reviews/${B}/like/love`:`https://fanhub-server.onrender.com/api/gallery/${n}/${e}/reviews/${B}/like/love`,U=await fetch(P,{method:"POST",credentials:"include"}),I=await U.json();if(U.status===500){s("/error",{state:{message:I.message||"Process failed"}});return}else if(!U.ok&&U.status!==500){i(I.message);return}m(z=>z.map(G=>{if(G.id===B){const $=I.message==="Liked!"?1:-1;return{...G,_count:{...G._count,likes:G._count.likes+$},likedByCurrentUser:I.message==="Liked!"}}return G})),I.message==="Liked!"&&await fetch(`https://fanhub-server.onrender.com/api/users/${t.id}/social/likepoint`,{method:"POST",credentials:"include"})}catch{s("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{x(null)}}async function O(M){y(M);try{const B=n==="stories"?await Ss(`https://fanhub-server.onrender.com/api/stories/${e}/reviews/${M}`):await Ss(`https://fanhub-server.onrender.com/api/gallery/collections/${e}/reviews/${M}`);j(B||"Review deleted successfully!","success"),m(P=>P.filter(U=>Number(U.id)!==Number(M)))}catch{j("Failed to delete review. Please try again.","error")}finally{y(null)}}const A=M=>r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(B=>r.jsx(qs,{className:`w-4 h-4 transition-colors ${B<=M?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},B))});return u?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:_,setDarkMode:E}),r.jsx("div",{className:"h-10"}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading reviews..."})]})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:t,darkMode:_,setDarkMode:E}),r.jsx("div",{className:"h-10"}),r.jsx(Hn,{message:N.message,type:N.type,isOpen:N.isOpen,onClose:S}),r.jsx(da,{isOpen:C.isOpen,onClose:k,onConfirm:C.onConfirm,title:C.title,description:C.description,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"}),r.jsx("div",{className:"min-h-screen py-8 px-4",style:{backgroundColor:"var(--background-color)",paddingTop:"100px"},children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("header",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",style:{color:"var(--foreground-color)"},children:"Reader Reviews"}),r.jsxs("p",{style:{color:"var(--secondary-text)"},children:[f.length," ",f.length===1?"review":"reviews"]})]}),l&&r.jsx("div",{className:"mb-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4 animate-fadeIn",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:l})}),f.length>0?r.jsx("div",{className:"space-y-6",children:f.map(M=>{var B,P;return r.jsxs("article",{className:"rounded-2xl shadow-lg p-6 sm:p-8 transition-all duration-300 hover:shadow-xl hover:transform hover:-translate-y-1 animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:(B=M.user)!=null&&B.img?r.jsx("img",{src:M.user.img,alt:M.user.username,className:"w-12 h-12 rounded-full object-cover border-2",style:{borderColor:"var(--border-color)"}}):r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-2",style:{backgroundColor:"var(--accent-color)",borderColor:"var(--border-color)"},children:r.jsx(Ov,{className:"w-8 h-8 text-white"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",style:{color:"var(--foreground-color)"},children:M.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("span",{className:"font-medium cursor-pointer hover:underline",style:{color:"var(--accent-color)"},onClick:()=>s(`/profile/${M.user.username}/${M.userId}/about`),children:((P=M.user)==null?void 0:P.username)||"Anonymous User"}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1.5",children:[r.jsx(Zo,{className:"w-4 h-4"}),new Date(M.uploadedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]})]}),r.jsxs("div",{className:"mb-6 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--secondary-text)"},children:"Overall Rating:"}),A(M.overallrate),r.jsxs("span",{className:"text-sm font-bold",style:{color:"var(--accent-color)"},children:[M.overallrate,"/5"]})]}),n==="stories"&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 pt-3 border-t",style:{borderColor:"var(--border-color)"},children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--secondary-text)"},children:"Plot"}),r.jsxs("div",{className:"flex items-center gap-2",children:[A(M.plotrate),r.jsxs("span",{className:"text-xs font-semibold",style:{color:"var(--foreground-color)"},children:[M.plotrate,"/5"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--secondary-text)"},children:"Writing Style"}),r.jsxs("div",{className:"flex items-center gap-2",children:[A(M.writingstylerate),r.jsxs("span",{className:"text-xs font-semibold",style:{color:"var(--foreground-color)"},children:[M.writingstylerate,"/5"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-xs font-medium",style:{color:"var(--secondary-text)"},children:"Grammar"}),r.jsxs("div",{className:"flex items-center gap-2",children:[A(M.grammarrate),r.jsxs("span",{className:"text-xs font-semibold",style:{color:"var(--foreground-color)"},children:[M.grammarrate,"/5"]})]})]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",style:{color:"var(--foreground-color)"},children:M.content})}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:"var(--border-color)"},children:[r.jsxs(Oe,{onClick:U=>L(U,M.id),disabled:g===M.id,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all hover:scale-105 active:scale-95 ${M.likedByCurrentUser?"bg-red-500 hover:bg-red-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,style:M.likedByCurrentUser?{}:{color:"var(--foreground-color)"},children:[r.jsx($t,{className:`w-5 h-5 transition-all ${M.likedByCurrentUser?"fill-current animate-ping-once":""} ${g===M.id?"animate-pulse":""}`}),r.jsx("span",{className:"font-medium",children:M._count.likes})]}),(t==null?void 0:t.id)===M.userId&&r.jsx(Oe,{disabled:b===M.id,onClick:()=>{T("Delete Review","Are you sure you want to delete this review? This action cannot be undone.",()=>O(M.id))},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 transition-all hover:scale-105 active:scale-95",children:b===M.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-t-red-600 border-red-300 rounded-full animate-spin"}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]})]},M.id)})}):r.jsxs("div",{className:"text-center py-16 rounded-2xl animate-fadeIn",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("div",{className:"mb-4",children:r.jsx(qs,{className:"w-16 h-16 mx-auto opacity-20",style:{color:"var(--secondary-text)"}})}),r.jsx("p",{className:"text-xl font-medium mb-2",style:{color:"var(--foreground-color)"},children:"No reviews yet"}),r.jsx("p",{style:{color:"var(--secondary-text)"},children:"Be the first to share your thoughts!"})]})]})})]})}function xX(){var U,I,z,G;const{storyId:t,chapterId:e}=ln(),{user:n}=Nt(),[s,l]=p.useState(""),[i,u]=p.useState(!1),d=Je(),[f,m]=p.useState(null),[g,x]=p.useState([]),[b,y]=p.useState(-1),[N,j]=p.useState(!1),[S,C]=p.useState(null),[T,k]=p.useState(!1),[_,E]=p.useState(()=>{const $=localStorage.getItem("theme");return $?$==="dark":!1});p.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("theme",_?"dark":"light")},[_]),p.useEffect(()=>{u(!0),l("");async function $(){try{const W=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters/${e}`,{method:"GET",credentials:"include"}),Y=await W.json();if(W.status===500){d("/error",{state:{message:Y.message||"Process failed"}});return}if(!W.ok){l(Y.message);return}m(Y.chapter);const Z=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters`,{method:"GET",credentials:"include"}),V=await Z.json();if(Z.ok){const q=V.chapters||[];x(q);const K=q.findIndex(te=>te.id===Y.chapter.id);if(y(K),K>=0){const te=K+1,se=q.length;if(te%10===0||te===se){const ae=`reviewPrompt-${t}-chapter-${te}`;localStorage.getItem(ae)||(setTimeout(()=>k(!0),1500),localStorage.setItem(ae,"shown"))}}}}catch{d("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{u(!1)}}$()},[t,e,d]);const L=[{key:"lovethis",emoji:"",label:"Love this",color:"text-red-500"},{key:"funny",emoji:"",label:"Funny",color:"text-yellow-500"},{key:"suspenseful",emoji:"",label:"Suspenseful",color:"text-purple-500"},{key:"emotional",emoji:"",label:"Emotional",color:"text-blue-500"},{key:"profound",emoji:"",label:"Profound",color:"text-indigo-500"},{key:"heartwarming",emoji:"",label:"Heartwarming",color:"text-pink-500"},{key:"shocking",emoji:"",label:"Shocking",color:"text-orange-500"},{key:"goodwriting",emoji:"",label:"Good Writing",color:"text-green-500"},{key:"goodcharacters",emoji:"",label:"Good Characters",color:"text-teal-500"},{key:"compellingplot",emoji:"",label:"Compelling Plot",color:"text-cyan-500"},{key:"strongdialogue",emoji:"",label:"Strong Dialogue",color:"text-violet-500"},{key:"inspiring",emoji:"",label:"Inspiring",color:"text-yellow-400"}];async function O($,W){if($.preventDefault(),!N){l(""),j(!0),C(W);try{const Y=await fetch(`https://fanhub-server.onrender.com/api/stories/${t}/chapters/${e}/like/${W}`,{method:"POST",credentials:"include"}),Z=await Y.json();if(Y.status===500){d("/error",{state:{message:Z.message||"Process failed"}});return}if(!Y.ok){l(Z.message);return}m(V=>{var te;const q=Z.message==="Liked!",K=q?1:-1;return{...V,reactionCounts:{...V.reactionCounts,[W]:(((te=V.reactionCounts)==null?void 0:te[W])||0)+K},likedByCurrentUser:q}}),Z.message==="Liked!"&&await fetch(`https://fanhub-server.onrender.com/api/users/${n.id}/social/likepoint`,{method:"POST",credentials:"include"})}catch{d("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{j(!1),C(null)}}}const A=$=>{if($==="prev"&&b>0){const W=g[b-1];d(`/stories/${t}/chapters/${W.id}`)}else if($==="next"&&b<g.length-1){const W=g[b+1];d(`/stories/${t}/chapters/${W.id}`)}},M=b>0,B=b>=0&&b<g.length-1,P=()=>{k(!1),d(`/stories/${t}/review`)};return i?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:n,darkMode:_,setDarkMode:E}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-gray-300 dark:border-gray-700 rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading chapter..."})]})})]}):f?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:n,darkMode:_,setDarkMode:E}),r.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:[s&&r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-3 mb-4 mt-4",children:r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:s})})}),r.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-2 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>d(`/stories/${t}`),className:"hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-colors",style:{color:"var(--accent-color)"},children:"Story"})}),r.jsx("li",{"aria-hidden":"true",children:"/"}),r.jsx("li",{children:r.jsxs("span",{className:"font-medium",style:{color:"var(--foreground-color)"},children:["Chapter ",b+1]})})]})}),r.jsxs("header",{className:"mb-12 text-center space-y-4",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight",style:{color:"var(--foreground-color)"},children:f.title}),r.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap text-sm",style:{color:"var(--secondary-text)"},children:[r.jsxs("span",{className:"flex items-center gap-1.5",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsxs("span",{children:[f.views||0," views"]})]}),r.jsx("span",{"aria-hidden":"true",children:""}),r.jsxs("time",{dateTime:f.uploadedAt,className:"flex items-center gap-1.5",children:[r.jsx(Rd,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(f.uploadedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),r.jsx("div",{className:"chapter-content prose prose-lg dark:prose-invert max-w-none mb-16",style:{color:"var(--foreground-color)"},children:r.jsx("div",{dangerouslySetInnerHTML:{__html:f.content},className:"ql-editor",style:{padding:"2rem 0",fontSize:"1.125rem",lineHeight:"1.8",fontFamily:"Georgia, serif"}})}),r.jsxs("nav",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-4 py-8 border-t border-b mb-12",style:{borderColor:"var(--border-color)"},"aria-label":"Chapter navigation",children:[r.jsxs(Oe,{onClick:()=>A("prev"),disabled:!M,className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg transition-all disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:M?"var(--button-bg)":"var(--border-color)",color:M?"var(--button-text)":"var(--secondary-text)"},"aria-label":M?`Previous chapter: ${(U=g[b-1])==null?void 0:U.title}`:"No previous chapter",children:[r.jsx(dC,{className:"w-5 h-5"}),r.jsxs("div",{className:"flex flex-col items-start text-left",children:[r.jsx("span",{className:"text-xs opacity-75",children:"Previous"}),M&&r.jsx("span",{className:"text-sm font-medium hidden sm:block max-w-[200px] truncate",children:(I=g[b-1])==null?void 0:I.title})]})]}),r.jsx("button",{onClick:()=>d(`/stories/${t}`),className:"px-6 py-4 rounded-lg transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",border:"2px solid var(--border-color)"},"aria-label":"View all chapters",children:r.jsx("span",{className:"font-medium",children:"All Chapters"})}),r.jsxs(Oe,{onClick:()=>A("next"),disabled:!B,className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg transition-all disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:B?"var(--button-bg)":"var(--border-color)",color:B?"var(--button-text)":"var(--secondary-text)"},"aria-label":B?`Next chapter: ${(z=g[b+1])==null?void 0:z.title}`:"No next chapter",children:[r.jsxs("div",{className:"flex flex-col items-end text-right",children:[r.jsx("span",{className:"text-xs opacity-75",children:"Next"}),B&&r.jsx("span",{className:"text-sm font-medium hidden sm:block max-w-[200px] truncate",children:(G=g[b+1])==null?void 0:G.title})]}),r.jsx(vm,{className:"w-5 h-5"})]})]}),r.jsxs("section",{className:"mb-16","aria-labelledby":"reactions-heading",children:[r.jsx("h2",{id:"reactions-heading",className:"text-2xl sm:text-3xl font-bold mb-6",style:{color:"var(--foreground-color)"},children:"How did you feel about this chapter?"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:L.map(({key:$,emoji:W,label:Y,color:Z})=>{var V,q;return r.jsxs("button",{onClick:K=>O(K,$),disabled:N,className:`flex items-center justify-center gap-2 px-4 py-4 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${S===$?"ring-2":""}`,style:{backgroundColor:"var(--card-bg)",border:"2px solid var(--border-color)",color:"var(--foreground-color)"},"aria-label":`React with ${Y}. Current count: ${((V=f.reactionCounts)==null?void 0:V[$])||0}`,"aria-pressed":S===$,children:[r.jsx("span",{className:"text-2xl sm:text-3xl",role:"img","aria-hidden":"true",children:W}),r.jsxs("span",{className:"flex flex-col items-start text-left",children:[r.jsx("span",{className:"text-xs sm:text-sm font-medium",children:Y}),r.jsx("span",{className:"text-lg font-bold",style:{color:"var(--accent-color)"},children:((q=f.reactionCounts)==null?void 0:q[$])||0})]})]},$)})})]}),r.jsxs("section",{className:"p-6 sm:p-8 rounded-2xl shadow-lg",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},"aria-labelledby":"comments-heading",children:[r.jsx("h2",{id:"comments-heading",className:"text-2xl sm:text-3xl font-bold mb-6",style:{color:"var(--foreground-color)"},children:"Readers' Comments"}),r.jsx(jl,{chapterId:f.id,storyId:t,contentOwnerId:f.userId})]})]}),T&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center mx-4 animate-fadeIn",style:{border:"1px solid var(--border-color)"},children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-600 dark:text-blue-400",children:"Enjoying the story?"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed",children:"Your review means a lot to the writer!  It helps them grow, gain more readers, and keeps their creative spark alive. Would you like to share your thoughts on this story?"}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(Oe,{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-all hover:scale-105 active:scale-95",children:"Write a Review"}),r.jsx(Oe,{onClick:()=>k(!1),className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-6 py-3 rounded-xl transition-all hover:scale-105 active:scale-95",children:"Maybe Later"})]})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:n,darkMode:_,setDarkMode:E}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsx("p",{style:{color:"var(--foreground-color)"},children:"Chapter not found"})})]})}function bX(){var ge;const{id:t}=ln(),{user:e}=Nt(),[n,s]=p.useState(null),l=Je(),[i,u]=p.useState(""),[d,f]=p.useState(!1),[m,g]=p.useState([]),[x,b]=p.useState([]),[y,N]=p.useState(!1),[j,S]=p.useState({}),[C,T]=p.useState(!1),[k,_]=p.useState(null),[E,L]=p.useState({}),[O,A]=p.useState(null),[M,B]=p.useState(!1),[P,U]=p.useState(()=>{const X=localStorage.getItem("theme");return X?X==="dark":!1});p.useEffect(()=>{document.documentElement.classList.toggle("dark",P),localStorage.setItem("theme",P?"dark":"light")},[P]);const I=p.useRef(0),z=p.useRef(0);p.useEffect(()=>{n&&(g(n.images),b(n.videos))},[n]),p.useEffect(()=>{async function X(){u(""),f(!0);try{const ne=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/collection/${t}`,{method:"GET",credentials:"include"}),ce=await ne.json();if(ne.status===500){l("/error",{state:{message:ce.message||"Process failed"}});return}else if(!ne.ok&&ne.status!==500){u(ce.message);return}S(oe=>{var we;return{...oe,[ce.collection.id]:((we=ce.collection.library)==null?void 0:we.length)>0}}),s(ce.collection),g(ce.collection.images),b(ce.collection.videos)}catch(ne){l("/error",{state:{message:ne.message}})}finally{f(!1)}}X()},[t]);const G=[...m.map(X=>({...X,type:"image"})),...x.map(X=>({...X,type:"video"}))];function $(X,ne){A({...X,type:ne}),B(!1),document.body.style.overflow="hidden"}function W(){A(null),B(!1),document.body.style.overflow="unset"}p.useEffect(()=>{function X(ne){O&&(ne.key==="Escape"&&(ne.preventDefault(),W()),ne.key==="ArrowRight"&&(ne.preventDefault(),q()),ne.key==="ArrowLeft"&&(ne.preventDefault(),K()))}return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[O,G]);function Y(X){I.current=X.touches[0].clientX}function Z(X){z.current=X.touches[0].clientX}function V(){if(!O)return;const X=50,ne=I.current-z.current;Math.abs(ne)>X&&(ne>0?q():K())}function q(){if(!O)return;const ne=(G.findIndex(ce=>ce.id===O.id&&ce.type===O.type)+1)%G.length;A(G[ne]),B(!1)}function K(){if(!O)return;const ne=(G.findIndex(ce=>ce.id===O.id&&ce.type===O.type)-1+G.length)%G.length;A(G[ne]),B(!1)}async function te(X){X.preventDefault(),u(""),T(!0);try{const ne=await fetch(`https://fanhub-server.onrender.com/api/gallery/collections/${t}/like/love`,{method:"POST",credentials:"include"}),ce=await ne.json();if(ne.status===500){l("/error",{state:{message:ce.message||"Process failed"}});return}else if(!ne.ok&&ne.status!==500){u(ce.message);return}if(s(oe=>{const we=ce.message==="Liked!"?1:-1,ke=ce.message==="Liked!";return{...oe,_count:{...oe._count,likes:oe._count.likes+we},likedByCurrentUser:ke}}),ce.message==="Liked!"){const oe=await fetch(`https://fanhub-server.onrender.com/api/users/${e.id}/social/likepoint`,{method:"POST",credentials:"include"});if(!oe.ok){const we=await oe.json();u(we.message||"Something went wrong with like points!")}}}catch(ne){l("/error",{state:{message:ne.message}})}finally{T(!1)}}async function se(X){u(""),N(!0);try{const ne=await fetch(`https://fanhub-server.onrender.com/api/gallery/collection/${X}/readinglist`,{method:"POST",credentials:"include"}),ce=await ne.json();if(ne.status===500){l("/error",{state:{message:ce.message||"Process failed"}});return}else if(!ne.ok&&ne.status!==500){u(ce.message);return}S(oe=>({...oe,[X]:!oe[X]}))}catch{l("/error",{state:{message:"Network error: Please check your internet connection."}})}finally{N(!1)}}async function ue(X,ne,ce){var we,ke;X&&X.stopPropagation(),u("");const oe=`${ne}-${ce}`;_(oe);try{const je=await fetch(`https://fanhub-server.onrender.com/api/gallery/${ne}/${ce}/like/love`,{method:"POST",credentials:"include"}),Ae=await je.json();if(!je.ok){u(Ae.message);return}const de=Ae.message==="Liked!",Re=de?1:-1,De=rt=>rt.map(ut=>{var yt;return ut.id===ce?{...ut,_count:{...ut._count,likes:(((yt=ut._count)==null?void 0:yt.likes)||0)+Re},likedByCurrentUser:de}:ut});ne==="images"&&(g(De),O&&O.type==="image"&&O.id===ce&&A({...O,_count:{...O._count,likes:(((we=O._count)==null?void 0:we.likes)||0)+Re},likedByCurrentUser:de})),ne==="videos"&&(b(De),O&&O.type==="video"&&O.id===ce&&A({...O,_count:{...O._count,likes:(((ke=O._count)==null?void 0:ke.likes)||0)+Re},likedByCurrentUser:de}))}catch{l("/error",{state:{message:"Network error. Try again later."}})}finally{_(null)}}async function xe(X,ne,ce){X.preventDefault(),u(""),_(ce);try{const oe=await fetch(`https://fanhub-server.onrender.com/api/gallery/${ne}/${ce}/like/love`,{method:"POST",credentials:"include"}),we=await oe.json();if(oe.status===500){l("/error",{state:{message:we.message||"Process failed"}});return}else if(!oe.ok){u(we.message||"Failed to like/unlike");return}const ke=we.message==="Liked!",je=ke?1:-1,Ae=de=>de.map(Re=>Re.id!==ce?Re:{...Re,_count:{...Re._count,likes:Re._count.likes+je},likedByCurrentUser:ke});if(ne==="images"?g(Ae):ne==="videos"&&b(Ae),ke){const de=await fetch(`https://fanhub-server.onrender.com/api/users/${e.id}/social/likepoint`,{method:"POST",credentials:"include"});if(!de.ok){const Re=await de.json();u(Re.message||"Failed to update like points")}}}catch(oe){l("/error",{state:{message:oe.message}})}finally{_(null)}}function ae(X,ne){const ce=`${X}-${ne}`;if(E[ce])L(we=>({...we,[ce]:!we[ce]}));else{const we=X==="image"?m.find(ke=>ke.id===ne):x.find(ke=>ke.id===ne);we&&($(we,X),B(!0))}}return d?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:P,setDarkMode:U}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(vt,{className:"w-16 h-16 mx-auto animate-spin",style:{color:"var(--accent-color)"}}),r.jsx("p",{className:"text-lg",style:{color:"var(--foreground-color)"},children:"Loading collection..."})]})})]}):n?r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:P,setDarkMode:U}),r.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:[i&&r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 mb-4 mt-4",children:r.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 rounded-lg p-4",role:"alert",children:r.jsx("p",{className:"text-red-700 dark:text-red-400",children:i})})}),r.jsxs("article",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-2 text-sm",style:{color:"var(--secondary-text)"},children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>l("/homecollections"),className:"hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-colors",style:{color:"var(--accent-color)"},children:"Visual Stories"})}),r.jsx("li",{"aria-hidden":"true",children:"/"}),r.jsx("li",{children:r.jsx("span",{className:"font-medium",style:{color:"var(--foreground-color)"},children:n.name})})]})}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24",children:[r.jsx("img",{src:n.img,alt:`Cover for ${n.name}`,className:"w-full rounded-2xl shadow-2xl object-cover",style:{height:"450px",border:"3px solid var(--border-color)"}}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs(Oe,{onClick:te,disabled:C,className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 ${n.likedByCurrentUser?"ring-2":""}`,style:{backgroundColor:n.likedByCurrentUser?"#ef4444":"var(--button-bg)",color:"white"},"aria-label":n.likedByCurrentUser?"Unlike collection":"Like collection",children:[r.jsx($t,{className:`w-5 h-5 ${n.likedByCurrentUser?"fill-current":""}`}),r.jsxs("span",{className:"font-semibold",children:[n.likedByCurrentUser?"Liked":"Like"," ",n._count.likes]})]}),r.jsxs(Oe,{disabled:y,onClick:()=>se(n.id),className:"w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:j[n.id]?"#f59e0b":"var(--card-bg)",color:j[n.id]?"white":"var(--foreground-color)",border:`2px solid ${j[n.id]?"#f59e0b":"var(--border-color)"}`},"aria-label":j[n.id]?"Remove from library":"Add to library",children:[r.jsx(wc,{className:`w-5 h-5 ${j[n.id]?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:y?"Loading...":j[n.id]?"In Library":"Add to Library"})]}),r.jsxs(Oe,{onClick:()=>l(`/collections/${n.id}/reviews`),className:"w-full flex items-center justify-center gap-2 py-4 rounded-xl transition-all hover:scale-105 active:scale-95",style:{backgroundColor:"var(--card-bg)",color:"var(--foreground-color)",border:"2px solid var(--border-color)"},"aria-label":"View all reviews",children:[r.jsx(qs,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"font-semibold",children:"View All Reviews"})]})]}),r.jsx("div",{className:"mt-6 p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx(Cr,{className:"w-4 h-4 text-blue-500"}),"Views"]}),r.jsx("span",{className:"font-bold",style:{color:"var(--foreground-color)"},children:n._count.views.toLocaleString()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--secondary-text)"},children:[r.jsx("span",{className:"text-xl",children:""}),"Reviews"]}),r.jsx("button",{onClick:()=>l(`/collections/${n.id}/reviews`),className:"font-bold hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1",style:{color:"var(--accent-color)"},children:n._count.review||0})]})]})})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",style:{color:"var(--foreground-color)"},children:n.name}),r.jsxs("button",{onClick:()=>l(`/profile/${n.user.username}/${n.userId}/about`),className:"flex items-center gap-3 text-lg mb-6 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-1 transition-all",style:{color:"var(--accent-color)"},"aria-label":`View profile of ${n.user.username}`,children:[n.user.img?r.jsx("img",{src:n.user.img,alt:`${n.user.username}'s avatar`,className:"w-10 h-10 rounded-full object-cover border-2",style:{borderColor:"var(--accent-color)"}}):r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2",style:{borderColor:"var(--accent-color)",backgroundColor:"var(--card-bg)"},children:r.jsx(hi,{className:"w-5 h-5",style:{color:"var(--accent-color)"}})}),r.jsx("span",{className:"font-medium",children:n.user.username})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.status}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.age}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",color:"var(--foreground-color)"},children:n.audience})]})]}),r.jsxs("section",{"aria-labelledby":"description-heading",children:[r.jsx("h2",{id:"description-heading",className:"text-2xl font-bold mb-4",style:{color:"var(--foreground-color)"},children:"Description"}),r.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--secondary-text)"},children:n.description})]}),r.jsxs("section",{"aria-labelledby":"genres-heading",className:"grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--secondary-text)"},children:"Primary Genre"}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--foreground-color)"},children:n.primarygenre})]}),n.secondarygenre&&r.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--secondary-text)"},children:"Secondary Genre"}),r.jsx("p",{className:"text-lg font-medium",style:{color:"var(--foreground-color)"},children:n.secondarygenre})]})]}),(n.primarysubgenre.length>0||n.secondarysubgenre.length>0)&&r.jsxs("section",{"aria-labelledby":"subgenres-heading",children:[r.jsx("h2",{id:"subgenres-heading",className:"text-xl font-bold mb-3",style:{color:"var(--foreground-color)"},children:"Subgenres"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[...n.primarysubgenre,...n.secondarysubgenre].map((X,ne)=>r.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs sm:text-sm font-medium",style:{backgroundColor:"var(--accent-color)",color:"white",opacity:.9},children:X},ne))})]})]})]}),r.jsxs("section",{"aria-labelledby":"visual-stories-heading",className:"mt-12",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{id:"visual-stories-heading",className:"text-3xl font-bold mb-2",style:{color:"var(--foreground-color)"},children:"Visual Stories"}),r.jsx("p",{className:"text-base",style:{color:"var(--secondary-text)"},children:"Explore the collection through images and videos that bring the story to life"})]}),G.length===0?r.jsxs("div",{className:"text-center py-12 p-8 rounded-xl",style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[r.jsx(ws,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--secondary-text)"}}),r.jsx("p",{className:"text-lg font-semibold mb-2",style:{color:"var(--foreground-color)"},children:"No visual stories yet"}),r.jsx("p",{className:"text-sm",style:{color:"var(--secondary-text)"},children:"Visual stories will appear here once added to this collection"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(X=>{var oe;const ne=X.type==="image",ce=`${X.type}-${X.id}`;return`${X.id}`,r.jsxs(jt,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:[r.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>$(X,X.type),children:[ne?r.jsx("img",{src:X.url,alt:X.caption,className:"w-full h-64 object-cover transition-transform group-hover:scale-105"}):r.jsxs(r.Fragment,{children:[r.jsx("video",{src:X.url,className:"w-full h-64 object-cover transition-transform group-hover:scale-105",muted:!0,playsInline:!0}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-all",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polygon",{points:"9.5,7.5 16.5,12 9.5,16.5",fill:"white"})})})})]}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all"}),r.jsx("div",{className:`absolute top-3 right-3 ${ne?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-purple-500 to-purple-600"} text-white px-3 py-1.5 rounded-full text-xs font-semibold flex items-center gap-1.5 shadow-lg`,children:ne?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:14})," Image"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{size:14})," Video"]})})]}),r.jsxs(Zt,{className:"p-4 space-y-3",children:[r.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:new Date(X.uploadedAt).toLocaleDateString()}),r.jsx("p",{className:"font-semibold text-base line-clamp-2",children:X.caption}),r.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[r.jsxs("button",{onClick:we=>{we.stopPropagation(),ae(X.type,X.id)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 ${E[ce]?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-transparent text-blue-600 hover:bg-blue-50"}`,children:[r.jsx(jr,{size:18,className:E[ce]?"animate-pulse":""}),r.jsx("span",{className:"font-bold text-base",children:X._count.comments}),r.jsx("span",{className:"hidden sm:inline",children:"Comments"})]}),r.jsxs("button",{onClick:we=>xe(we,ne?"images":"videos",X.id),disabled:k===X.id,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 ${X.likedByCurrentUser?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg shadow-red-500/30":"bg-transparent text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:[r.jsx($t,{size:18,className:`text-red-500 transition-all ${X.likedByCurrentUser?"fill-white animate-pulse":""}`}),r.jsx("span",{className:"font-bold text-base text-red-500",children:((oe=X._count)==null?void 0:oe.likes)||0}),r.jsx("span",{className:"hidden sm:inline",children:"Likes"})]})]}),E[ce]&&r.jsxs("section",{className:"pt-4 border-t space-y-4",children:[r.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[r.jsx(mn,{size:18,className:"text-blue-500"}),"Comments"]}),r.jsx(jl,{imageId:ne?X.id:void 0,videoId:ne?void 0:X.id,contentOwnerId:X.userId},ce)]})]})]},ce)})})]}),r.jsx("section",{className:"mt-16 mb-8",children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-8 sm:p-12",style:{background:"linear-gradient(135deg, var(--accent-color) 0%, var(--button-bg) 100%)",border:"2px solid var(--border-color)"},children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),r.jsxs("div",{className:"relative z-10 text-center max-w-2xl mx-auto",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((X,ne)=>r.jsx(qs,{className:"w-8 h-8 sm:w-10 sm:h-10 fill-yellow-300 text-yellow-300 animate-pulse",style:{animationDelay:`${ne*.1}s`}},ne))})}),r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Share Your Thoughts"}),r.jsx("p",{className:"text-white/90 text-base sm:text-lg mb-6 sm:mb-8",children:"Your review helps others discover great content and supports creators"}),r.jsx(Oe,{onClick:()=>l(`/collections/${n.id}/review`),className:"bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-8 rounded-xl text-base sm:text-lg transition-all hover:scale-105 active:scale-95 shadow-xl",children:"Write a Review"})]})]})})]}),O&&r.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:W,children:[r.jsx("button",{onClick:W,className:"fixed top-4 right-4 z-[60] bg-black/70 hover:bg-black/90 p-2.5 rounded-full transition-all","aria-label":"Close modal",children:r.jsx(On,{size:24,className:"text-white"})}),r.jsx("button",{onClick:X=>{X.stopPropagation(),K()},className:"fixed left-4 top-1/2 -translate-y-1/2 z-[60] bg-black/70 hover:bg-black/90 p-3 rounded-full transition-all hidden md:block","aria-label":"Previous media",children:r.jsx(dC,{size:28,className:"text-white"})}),r.jsx("button",{onClick:X=>{X.stopPropagation(),q()},className:"fixed right-4 top-1/2 -translate-y-1/2 z-[60] bg-black/70 hover:bg-black/90 p-3 rounded-full transition-all hidden md:block","aria-label":"Next media",children:r.jsx(vm,{size:28,className:"text-white"})}),r.jsx("div",{className:"w-full h-full overflow-y-auto",onClick:X=>X.stopPropagation(),children:r.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row lg:items-start max-w-7xl mx-auto",children:[r.jsx("div",{className:"w-full lg:w-2/3 bg-black flex items-center justify-center lg:sticky lg:top-0 lg:h-screen p-4",onTouchStart:Y,onTouchMove:Z,onTouchEnd:V,children:O.type==="image"?r.jsx("img",{src:O.url,alt:O.caption,className:"w-full h-[60vh] lg:h-[85vh] object-contain"}):r.jsx("video",{src:O.url,controls:!0,autoPlay:!0,className:"w-full h-[60vh] lg:h-[85vh] object-contain"})}),r.jsxs("div",{className:"w-full lg:w-1/3 bg-background flex flex-col lg:sticky lg:top-0 lg:h-screen lg:max-h-screen",children:[r.jsxs("div",{className:"p-4 lg:p-6 border-b bg-background flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs lg:text-sm text-muted-foreground mb-2",children:[O.type==="image"?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:16})," Image"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{size:16})," Video"]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(O.uploadedAt).toLocaleDateString()})]}),r.jsx("p",{className:"font-semibold text-base lg:text-lg",children:O.caption})]}),r.jsxs("div",{className:"p-4 lg:p-6 border-b flex flex-wrap items-center gap-2 lg:gap-3 bg-background flex-shrink-0",children:[r.jsxs(Oe,{onClick:()=>B(!M),size:"sm",className:`rounded-full px-3 py-2 flex items-center gap-2 transition-all flex-1 sm:flex-none ${M?"bg-blue-500 text-white hover:bg-blue-600 shadow-lg":"bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-200"}`,children:[r.jsx(jr,{size:18}),r.jsx("span",{className:"font-bold text-base",children:O._count.comments}),r.jsx("span",{className:"text-xs sm:text-sm",children:M?"Hide":"Comments"})]}),r.jsxs(Oe,{onClick:X=>ue(X,O.type==="image"?"images":"videos",O.id),disabled:k===`${O.type==="image"?"images":"videos"}-${O.id}`,size:"sm",className:`rounded-full px-3 py-2 flex items-center gap-2 transition-all flex-1 sm:flex-none ${O.likedByCurrentUser?"bg-red-500 text-white hover:bg-red-600 shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:[r.jsx($t,{size:18,className:`transition-all ${O.likedByCurrentUser?"fill-white animate-pulse":""}`}),r.jsx("span",{className:"font-bold text-base",children:((ge=O._count)==null?void 0:ge.likes)||0}),r.jsx("span",{className:"text-xs sm:text-sm",children:O.likedByCurrentUser?"Liked":"Like"})]})]}),r.jsx("div",{className:"lg:hidden text-center py-2 text-xs text-muted-foreground border-b bg-background/50 flex-shrink-0",children:" Swipe to navigate | Keyboard: Arrow keys "}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:M?r.jsxs("div",{className:"space-y-4 pb-4",children:[r.jsxs("h4",{className:"font-bold text-base lg:text-lg flex items-center gap-2 sticky top-0 bg-background py-2 z-10",children:[r.jsx(jr,{size:20,className:"text-blue-500"}),"Comments"]}),r.jsx(jl,{imageId:O.type==="image"?O.id:void 0,videoId:O.type==="video"?O.id:void 0,contentOwnerId:O.userId},`modal-${O.type}-${O.id}`)]}):r.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:r.jsxs("div",{children:[r.jsx(mn,{size:48,className:"mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm lg:text-base",children:"Click the comments button to view and add comments"})]})})})]})]})})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{user:e,darkMode:P,setDarkMode:U}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--background-color)",paddingTop:"80px"},children:r.jsx("p",{style:{color:"var(--foreground-color)"},children:"Collection not found"})})]})}const vX=p.createContext();function yX({children:t}){const[e,n]=p.useState(()=>localStorage.getItem("theme")||"light");p.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e),localStorage.setItem("theme",e)},[e]);function s(){n(l=>l==="light"?"dark":"light")}return r.jsx(vX.Provider,{value:{theme:e,toggleTheme:s},children:t})}const wX=bO([{path:"/",element:r.jsx(l$,{}),children:[{path:"homestories",element:r.jsx(lV,{})},{path:"visual stories",element:r.jsx(oV,{})}]},{path:"signup",element:r.jsx(h$,{})},{path:"login",element:r.jsx(m$,{})},{path:"logout",element:r.jsx(p$,{})},{path:"notification/:id",element:r.jsx(x$,{})},{path:"library/:id",element:r.jsx(v$,{})},{path:"settings/:id",element:r.jsx(y$,{})},{path:"forget-password",element:r.jsx(xH,{})},{path:"reset-password",element:r.jsx(bH,{})},{path:"create-tweet",element:r.jsx(uH,{})},{path:"update-tweet/:id",element:r.jsx(dH,{})},{path:"tweets",element:r.jsx(pH,{})},{path:"tweets/:id",element:r.jsx(gH,{})},{path:"error",element:r.jsx(vH,{})},{path:"/stories/:id",element:r.jsx(mX,{})},{path:"/:name/:id/reviews",element:r.jsx(gX,{})},{path:"/:name/:id/review",element:r.jsx(pX,{})},{path:"/stories/:storyId/chapters/:chapterId",element:r.jsx(xX,{})},{path:"/gallery/:id",element:r.jsx(bX,{})},{path:"recommendation/:id",element:r.jsx(iV,{})},{path:"recommendations",element:r.jsx(uV,{})},{path:"/:name/:id/review/:reviewId",element:r.jsx(cV,{})},{path:"dashboard",element:r.jsx(c$,{}),children:[{path:"create story",element:r.jsx(cK,{})},{path:"stories/:id",element:r.jsx(uK,{})},{path:"create collection",element:r.jsx(vK,{})},{path:"visual stories/:id",element:r.jsx(yK,{})},{path:"upload image",element:r.jsx(jK,{})},{path:"upload video",element:r.jsx(CK,{})},{path:"images",element:r.jsx(SK,{})},{path:"videos",element:r.jsx(EK,{})},{path:"story/:id",element:r.jsx(dK,{})},{path:"update-story/:id",element:r.jsx(fK,{})},{path:"story/:id/create chapter",element:r.jsx(pK,{})},{path:"story/:id/update chapter/:chapterId",element:r.jsx(xK,{})},{path:"update collection/:id",element:r.jsx(wK,{})},{path:"collections/collection/:id",element:r.jsx(NK,{})},{path:"recommendation list",element:r.jsx(kK,{})},{path:"recommendation/:id",element:r.jsx(RK,{})}]},{path:"profile/:username/:id",element:r.jsx(u$,{}),children:[{path:"about",element:r.jsx(qK,{})},{path:"stories",element:r.jsx(FK,{})},{path:"visual stories",element:r.jsx(VK,{})},{path:"recommendations",element:r.jsx(JK,{})},{path:"gallery",element:r.jsx(YK,{})},{path:"wall",element:r.jsx(XK,{})},{path:"tweets",element:r.jsx(QK,{})},{path:"following",element:r.jsx(aE,{})},{path:"followers",element:r.jsx(sE,{})}]}]);bR.createRoot(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(yX,{children:r.jsx(LO,{children:r.jsx(n9,{children:r.jsx(bK,{children:r.jsx(AK,{children:r.jsx(MO,{router:wX})})})})})})}))});export default NX();
